(self.webpackChunktransient_display_data=self.webpackChunktransient_display_data||[]).push([[569],{569:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l,transient:()=>d});var s=n(28),a=n(794),r=n(168);class i{constructor(e){this._enabled=!0,this._isDisposed=!1,this.sessionContext=e.sessionContext,this.sessionContext.iopubMessage.connect(this.onIOPubMessage,this),this._parent=e.parent}get enabled(){return this._enabled}set enabled(e){this._enabled=e}get parent(){return this._parent}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,r.Signal.clearData(this))}onIOPubMessage(e,t){var n;if(!this._enabled)return!1;let s=null===(n=this.sessionContext.session)||void 0===n?void 0:n.kernel;if(!s)return!1;let a=this._parent;if(t.parent_header.session===s.clientId)return!1;if("transient_display_data"!==t.header.msg_type)return!1;let r,i=t.parent_header.msg_id;r=this._parent.getCell(i),r||(r=this._newCell(i));let o=t.content;return o.output_type="display_data",r.model.outputs.add(o),a.update(),!0}_newCell(e){let t=this.parent.createCodeCell();return t.addClass("jp-CodeConsole-transientCell"),this._parent.addCell(t,e),t}}var o=n(562);const d={id:"vatlab/jupyterlab-extension:transient",requires:[a.IConsoleTracker],optional:[s.ICommandPalette],activate:function(e,t,n){const{shell:s}=e;t.widgetAdded.connect(((e,t)=>{const n=t.console,s=new i({sessionContext:n.sessionContext,parent:n});c.transientHandlerProperty.set(n,s),n.disposed.connect((()=>{s.dispose()}))}));const{commands:a}=e,r="console:toggle-show-transient-message";a.addCommand(r,{label:e=>"Show Transient Messages",execute:e=>{let n=function(e){let n=t.currentWidget;return!1!==e.activate&&n&&s.activateById(n.id),n}(e);if(!n)return;const a=c.transientHandlerProperty.get(n.console);a&&(a.enabled=!a.enabled)},isToggled:()=>{var e;return null!==t.currentWidget&&!!(null===(e=c.transientHandlerProperty.get(t.currentWidget.console))||void 0===e?void 0:e.enabled)},isEnabled:()=>null!==t.currentWidget&&t.currentWidget===s.currentWidget}),n&&n.addItem({command:r,category:"Console",args:{isPalette:!0}}),e.contextMenu.addItem({command:r,selector:".jp-CodeConsole"})},autoStart:!0},l=d;var c;!function(e){e.transientHandlerProperty=new o.AttachedProperty({name:"transientHandler",create:()=>{}})}(c||(c={}))}}]);