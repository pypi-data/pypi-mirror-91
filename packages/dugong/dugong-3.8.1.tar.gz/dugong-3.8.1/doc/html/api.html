
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>API Reference &#8212; Dugong 3.8.1 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Coroutine API" href="coroutines.html" />
    <link rel="prev" title="Tutorial" href="tutorial.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="coroutines.html" title="Coroutine API"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="tutorial.html" title="Tutorial"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Dugong 3.8.1 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="api-reference">
<h1>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this headline">¶</a></h1>
<div class="section" id="classes">
<h2>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="dugong.HTTPConnection">
<em class="property">class </em><code class="descname">HTTPConnection</code><span class="sig-paren">(</span><em>hostname</em>, <em>port=None</em>, <em>ssl_context=None</em>, <em>proxy=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dugong.HTTPConnection" title="Permalink to this definition">¶</a></dt>
<dd><p>This class encapsulates a HTTP connection.</p>
<p>Methods whose name begin with <code class="docutils literal notranslate"><span class="pre">co_</span></code> return coroutines. Instead of
blocking, a coroutines will yield a <a class="reference internal" href="#dugong.PollNeeded" title="dugong.PollNeeded"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PollNeeded</span></code></a> instance that encapsulates
information about the IO operation that would block. The coroutine should be
resumed once the operation can be performed without blocking.</p>
<p><a class="reference internal" href="#dugong.HTTPConnection" title="dugong.HTTPConnection"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HTTPConnection</span></code></a> instances can be used as context managers. The
<a class="reference internal" href="#dugong.HTTPConnection.disconnect" title="dugong.HTTPConnection.disconnect"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disconnect</span></code></a> method will be called on exit from the managed block.</p>
<dl class="method">
<dt id="dugong.HTTPConnection.co_discard">
<code class="descname">co_discard</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dugong.HTTPConnection.co_discard" title="Permalink to this definition">¶</a></dt>
<dd><p>Read and discard current response body</p>
<p>This method returns a coroutine. <a class="reference internal" href="#dugong.HTTPConnection.discard" title="dugong.HTTPConnection.discard"><code class="xref py py-obj docutils literal notranslate"><span class="pre">discard</span></code></a> is a regular method implementing the
same functionality.</p>
</dd></dl>

<dl class="method">
<dt id="dugong.HTTPConnection.co_read">
<code class="descname">co_read</code><span class="sig-paren">(</span><em>len_=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dugong.HTTPConnection.co_read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read up to <em>len_</em> bytes of response body data</p>
<p>This method may return less than <em>len_</em> bytes, but will return <code class="docutils literal notranslate"><span class="pre">b''</span></code> only
if the response body has been read completely.</p>
<p>If <em>len_</em> is <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>, this method returns the entire response body.</p>
<p>This method returns a coroutine. <a class="reference internal" href="#dugong.HTTPConnection.read" title="dugong.HTTPConnection.read"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read</span></code></a> is a regular method implementing the
same functionality.</p>
</dd></dl>

<dl class="method">
<dt id="dugong.HTTPConnection.co_read_response">
<code class="descname">co_read_response</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dugong.HTTPConnection.co_read_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Read response status line and headers</p>
<p>Return a <a class="reference internal" href="#dugong.HTTPResponse" title="dugong.HTTPResponse"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HTTPResponse</span></code></a> instance containing information about response
status, reason, and headers. The response body data must be retrieved
separately (e.g. using <a class="reference internal" href="#dugong.HTTPConnection.read" title="dugong.HTTPConnection.read"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read</span></code></a> or <a class="reference internal" href="#dugong.HTTPConnection.readall" title="dugong.HTTPConnection.readall"><code class="xref py py-obj docutils literal notranslate"><span class="pre">readall</span></code></a>).</p>
<p>This method returns a coroutine. <a class="reference internal" href="#dugong.HTTPConnection.read_response" title="dugong.HTTPConnection.read_response"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_response</span></code></a> is a regular method implementing the
same functionality.</p>
</dd></dl>

<dl class="method">
<dt id="dugong.HTTPConnection.co_readall">
<code class="descname">co_readall</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dugong.HTTPConnection.co_readall" title="Permalink to this definition">¶</a></dt>
<dd><p>Read and return complete response body</p>
<p>This method returns a coroutine. <a class="reference internal" href="#dugong.HTTPConnection.readall" title="dugong.HTTPConnection.readall"><code class="xref py py-obj docutils literal notranslate"><span class="pre">readall</span></code></a> is a regular method implementing the
same functionality.</p>
</dd></dl>

<dl class="method">
<dt id="dugong.HTTPConnection.co_readinto">
<code class="descname">co_readinto</code><span class="sig-paren">(</span><em>buf</em><span class="sig-paren">)</span><a class="headerlink" href="#dugong.HTTPConnection.co_readinto" title="Permalink to this definition">¶</a></dt>
<dd><p>Read response body data into <em>buf</em></p>
<p>Return the number of bytes written or zero if the response body has been
read completely.</p>
<p><em>buf</em> must implement the memoryview protocol.</p>
<p>This method returns a coroutine. <a class="reference internal" href="#dugong.HTTPConnection.readinto" title="dugong.HTTPConnection.readinto"><code class="xref py py-obj docutils literal notranslate"><span class="pre">readinto</span></code></a> is a regular method implementing the
same functionality.</p>
</dd></dl>

<dl class="method">
<dt id="dugong.HTTPConnection.co_send_request">
<code class="descname">co_send_request</code><span class="sig-paren">(</span><em>method</em>, <em>path</em>, <em>headers=None</em>, <em>body=None</em>, <em>expect100=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dugong.HTTPConnection.co_send_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a new HTTP request to the server</p>
<p>The message body may be passed in the <em>body</em> argument or be sent
separately. In the former case, <em>body</em> must be a <a class="reference external" href="https://docs.python.org/3/glossary.html#term-bytes-like-object" title="(in Python v3.9)"><span class="xref std std-term">bytes-like
object</span></a>. In the latter case, <em>body</em> must be an a <a class="reference internal" href="#dugong.BodyFollowing" title="dugong.BodyFollowing"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BodyFollowing</span></code></a>
instance specifying the length of the data that will be sent. If no
length is specified, the data will be send using chunked encoding.</p>
<p><em>headers</em> should be a mapping containing the HTTP headers to be send
with the request. Multiple header lines with the same key are not
supported. It is recommended to pass a <a class="reference internal" href="#dugong.CaseInsensitiveDict" title="dugong.CaseInsensitiveDict"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CaseInsensitiveDict</span></code></a> instance,
other mappings will be converted to <a class="reference internal" href="#dugong.CaseInsensitiveDict" title="dugong.CaseInsensitiveDict"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CaseInsensitiveDict</span></code></a> automatically.</p>
<p>If <em>body</em> is a provided as a <a class="reference external" href="https://docs.python.org/3/glossary.html#term-bytes-like-object" title="(in Python v3.9)"><span class="xref std std-term">bytes-like object</span></a>, a
<code class="docutils literal notranslate"><span class="pre">Content-MD5</span></code> header is generated automatically unless it has been
provided in <em>headers</em> already.</p>
<p>This method returns a coroutine. <a class="reference internal" href="#dugong.HTTPConnection.send_request" title="dugong.HTTPConnection.send_request"><code class="xref py py-obj docutils literal notranslate"><span class="pre">send_request</span></code></a> is a regular method implementing the
same functionality.</p>
</dd></dl>

<dl class="method">
<dt id="dugong.HTTPConnection.co_write">
<code class="descname">co_write</code><span class="sig-paren">(</span><em>buf</em><span class="sig-paren">)</span><a class="headerlink" href="#dugong.HTTPConnection.co_write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write request body data</p>
<p><a class="reference internal" href="#dugong.ExcessBodyData" title="dugong.ExcessBodyData"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ExcessBodyData</span></code></a> will be raised when attempting to send more data than
required to complete the request body of the active request.</p>
<p>This method returns a coroutine. <a class="reference internal" href="#dugong.HTTPConnection.write" title="dugong.HTTPConnection.write"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write</span></code></a> is a regular method implementing the
same functionality.</p>
</dd></dl>

<dl class="method">
<dt id="dugong.HTTPConnection.connect">
<code class="descname">connect</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dugong.HTTPConnection.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Connect to the remote server</p>
<p>This method generally does not need to be called manually.</p>
</dd></dl>

<dl class="method">
<dt id="dugong.HTTPConnection.discard">
<code class="descname">discard</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dugong.HTTPConnection.discard" title="Permalink to this definition">¶</a></dt>
<dd><p>Read and discard current response body</p>
<p>This method may block. <a class="reference internal" href="#dugong.HTTPConnection.co_discard" title="dugong.HTTPConnection.co_discard"><code class="xref py py-obj docutils literal notranslate"><span class="pre">co_discard</span></code></a> provides a coroutine implementing the same
functionality without blocking.</p>
</dd></dl>

<dl class="method">
<dt id="dugong.HTTPConnection.disconnect">
<code class="descname">disconnect</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dugong.HTTPConnection.disconnect" title="Permalink to this definition">¶</a></dt>
<dd><p>Close HTTP connection</p>
</dd></dl>

<dl class="method">
<dt id="dugong.HTTPConnection.get_ssl_cipher">
<code class="descname">get_ssl_cipher</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dugong.HTTPConnection.get_ssl_cipher" title="Permalink to this definition">¶</a></dt>
<dd><p>Get active SSL cipher</p>
<p>If plain HTTP is used, return <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>. Otherwise, the call is delegated
to the underlying SSL sockets <a class="reference external" href="https://docs.python.org/3/library/ssl.html#ssl.SSLSocket.cipher" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cipher</span></code></a> method.</p>
</dd></dl>

<dl class="method">
<dt id="dugong.HTTPConnection.get_ssl_peercert">
<code class="descname">get_ssl_peercert</code><span class="sig-paren">(</span><em>binary_form=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dugong.HTTPConnection.get_ssl_peercert" title="Permalink to this definition">¶</a></dt>
<dd><p>Get peer SSL certificate</p>
<p>If plain HTTP is used, return <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>. Otherwise, the call is delegated
to the underlying SSL sockets <a class="reference external" href="https://docs.python.org/3/library/ssl.html#ssl.SSLSocket.getpeercert" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getpeercert</span></code></a> method.</p>
</dd></dl>

<dl class="method">
<dt id="dugong.HTTPConnection.read">
<code class="descname">read</code><span class="sig-paren">(</span><em>len_=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dugong.HTTPConnection.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read up to <em>len_</em> bytes of response body data</p>
<p>This method may return less than <em>len_</em> bytes, but will return <code class="docutils literal notranslate"><span class="pre">b''</span></code> only
if the response body has been read completely.</p>
<p>If <em>len_</em> is <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>, this method returns the entire response body.</p>
<p>This method may block. <a class="reference internal" href="#dugong.HTTPConnection.co_read" title="dugong.HTTPConnection.co_read"><code class="xref py py-obj docutils literal notranslate"><span class="pre">co_read</span></code></a> provides a coroutine implementing the same
functionality without blocking.</p>
</dd></dl>

<dl class="method">
<dt id="dugong.HTTPConnection.read_raw">
<code class="descname">read_raw</code><span class="sig-paren">(</span><em>size</em><span class="sig-paren">)</span><a class="headerlink" href="#dugong.HTTPConnection.read_raw" title="Permalink to this definition">¶</a></dt>
<dd><p>Read <em>size</em> bytes of uninterpreted data</p>
<p>This method may be used even after <a class="reference internal" href="#dugong.UnsupportedResponse" title="dugong.UnsupportedResponse"><code class="xref py py-obj docutils literal notranslate"><span class="pre">UnsupportedResponse</span></code></a> or
<a class="reference internal" href="#dugong.InvalidResponse" title="dugong.InvalidResponse"><code class="xref py py-obj docutils literal notranslate"><span class="pre">InvalidResponse</span></code></a> has been raised. It reads raw data from the socket
without attempting to interpret it. This is probably only useful for
debugging purposes to take a look at the raw data received from the
server. This method blocks if no data is available, and returns <code class="docutils literal notranslate"><span class="pre">b''</span></code>
if the connection has been closed.</p>
<p>Calling this method will break the internal state and switch the socket
to blocking operation. The connection has to be closed and reestablished
afterwards.</p>
<p><strong>Don’t use this method unless you know exactly what you are doing</strong>.</p>
</dd></dl>

<dl class="method">
<dt id="dugong.HTTPConnection.read_response">
<code class="descname">read_response</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dugong.HTTPConnection.read_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Read response status line and headers</p>
<p>Return a <a class="reference internal" href="#dugong.HTTPResponse" title="dugong.HTTPResponse"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HTTPResponse</span></code></a> instance containing information about response
status, reason, and headers. The response body data must be retrieved
separately (e.g. using <a class="reference internal" href="#dugong.HTTPConnection.read" title="dugong.HTTPConnection.read"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read</span></code></a> or <a class="reference internal" href="#dugong.HTTPConnection.readall" title="dugong.HTTPConnection.readall"><code class="xref py py-obj docutils literal notranslate"><span class="pre">readall</span></code></a>).</p>
<p>This method may block. <a class="reference internal" href="#dugong.HTTPConnection.co_read_response" title="dugong.HTTPConnection.co_read_response"><code class="xref py py-obj docutils literal notranslate"><span class="pre">co_read_response</span></code></a> provides a coroutine implementing the same
functionality without blocking.</p>
</dd></dl>

<dl class="method">
<dt id="dugong.HTTPConnection.readall">
<code class="descname">readall</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dugong.HTTPConnection.readall" title="Permalink to this definition">¶</a></dt>
<dd><p>Read and return complete response body</p>
<p>This method may block. <a class="reference internal" href="#dugong.HTTPConnection.co_readall" title="dugong.HTTPConnection.co_readall"><code class="xref py py-obj docutils literal notranslate"><span class="pre">co_readall</span></code></a> provides a coroutine implementing the same
functionality without blocking.</p>
</dd></dl>

<dl class="method">
<dt id="dugong.HTTPConnection.readinto">
<code class="descname">readinto</code><span class="sig-paren">(</span><em>buf</em><span class="sig-paren">)</span><a class="headerlink" href="#dugong.HTTPConnection.readinto" title="Permalink to this definition">¶</a></dt>
<dd><p>Read response body data into <em>buf</em></p>
<p>Return the number of bytes written or zero if the response body has been
read completely.</p>
<p><em>buf</em> must implement the memoryview protocol.</p>
<p>This method may block. <a class="reference internal" href="#dugong.HTTPConnection.co_readinto" title="dugong.HTTPConnection.co_readinto"><code class="xref py py-obj docutils literal notranslate"><span class="pre">co_readinto</span></code></a> provides a coroutine implementing the same
functionality without blocking.</p>
</dd></dl>

<dl class="method">
<dt id="dugong.HTTPConnection.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dugong.HTTPConnection.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset HTTP connection</p>
<p>This method resets the status of the HTTP connection after an exception
has occured. Any cached data and pending responses are discarded.</p>
</dd></dl>

<dl class="method">
<dt id="dugong.HTTPConnection.response_pending">
<code class="descname">response_pending</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dugong.HTTPConnection.response_pending" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a> if there are still outstanding responses</p>
<p>This includes responses that have been partially read.</p>
</dd></dl>

<dl class="method">
<dt id="dugong.HTTPConnection.send_request">
<code class="descname">send_request</code><span class="sig-paren">(</span><em>method</em>, <em>path</em>, <em>headers=None</em>, <em>body=None</em>, <em>expect100=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dugong.HTTPConnection.send_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a new HTTP request to the server</p>
<p>The message body may be passed in the <em>body</em> argument or be sent
separately. In the former case, <em>body</em> must be a <a class="reference external" href="https://docs.python.org/3/glossary.html#term-bytes-like-object" title="(in Python v3.9)"><span class="xref std std-term">bytes-like
object</span></a>. In the latter case, <em>body</em> must be an a <a class="reference internal" href="#dugong.BodyFollowing" title="dugong.BodyFollowing"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BodyFollowing</span></code></a>
instance specifying the length of the data that will be sent. If no
length is specified, the data will be send using chunked encoding.</p>
<p><em>headers</em> should be a mapping containing the HTTP headers to be send
with the request. Multiple header lines with the same key are not
supported. It is recommended to pass a <a class="reference internal" href="#dugong.CaseInsensitiveDict" title="dugong.CaseInsensitiveDict"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CaseInsensitiveDict</span></code></a> instance,
other mappings will be converted to <a class="reference internal" href="#dugong.CaseInsensitiveDict" title="dugong.CaseInsensitiveDict"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CaseInsensitiveDict</span></code></a> automatically.</p>
<p>If <em>body</em> is a provided as a <a class="reference external" href="https://docs.python.org/3/glossary.html#term-bytes-like-object" title="(in Python v3.9)"><span class="xref std std-term">bytes-like object</span></a>, a
<code class="docutils literal notranslate"><span class="pre">Content-MD5</span></code> header is generated automatically unless it has been
provided in <em>headers</em> already.</p>
<p>This method may block. <a class="reference internal" href="#dugong.HTTPConnection.co_send_request" title="dugong.HTTPConnection.co_send_request"><code class="xref py py-obj docutils literal notranslate"><span class="pre">co_send_request</span></code></a> provides a coroutine implementing the same
functionality without blocking.</p>
</dd></dl>

<dl class="method">
<dt id="dugong.HTTPConnection.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>buf</em><span class="sig-paren">)</span><a class="headerlink" href="#dugong.HTTPConnection.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write request body data</p>
<p><a class="reference internal" href="#dugong.ExcessBodyData" title="dugong.ExcessBodyData"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ExcessBodyData</span></code></a> will be raised when attempting to send more data than
required to complete the request body of the active request.</p>
<p>This method may block. <a class="reference internal" href="#dugong.HTTPConnection.co_write" title="dugong.HTTPConnection.co_write"><code class="xref py py-obj docutils literal notranslate"><span class="pre">co_write</span></code></a> provides a coroutine implementing the same
functionality without blocking.</p>
</dd></dl>

<dl class="attribute">
<dt id="dugong.HTTPConnection.proxy">
<code class="descname">proxy</code><em class="property"> = None</em><a class="headerlink" href="#dugong.HTTPConnection.proxy" title="Permalink to this definition">¶</a></dt>
<dd><p>a tuple <code class="docutils literal notranslate"><span class="pre">(hostname,</span> <span class="pre">port)</span></code> of the proxy server to use or <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="dugong.HTTPConnection.timeout">
<code class="descname">timeout</code><em class="property"> = None</em><a class="headerlink" href="#dugong.HTTPConnection.timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>If a regular <a class="reference internal" href="#dugong.HTTPConnection" title="dugong.HTTPConnection"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HTTPConnection</span></code></a> method is unable to send or receive
data for more than this period (in seconds), it will raise
<a class="reference internal" href="#dugong.ConnectionTimedOut" title="dugong.ConnectionTimedOut"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ConnectionTimedOut</span></code></a>. Coroutines are not affected by this
attribute.</p>
</dd></dl>

<dl class="attribute">
<dt id="dugong.HTTPConnection.trace_fh">
<code class="descname">trace_fh</code><em class="property"> = None</em><a class="headerlink" href="#dugong.HTTPConnection.trace_fh" title="Permalink to this definition">¶</a></dt>
<dd><p>Filehandler for tracing</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dugong.HTTPResponse">
<em class="property">class </em><code class="descname">HTTPResponse</code><span class="sig-paren">(</span><em>method</em>, <em>path</em>, <em>status</em>, <em>reason</em>, <em>headers</em>, <em>length=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dugong.HTTPResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>This class encapsulates information about HTTP response.  Instances of this
class are returned by the <a class="reference internal" href="#dugong.HTTPConnection.read_response" title="dugong.HTTPConnection.read_response"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HTTPConnection.read_response</span></code></a> method and have
access to response status, reason, and headers.  Response body data
has to be read directly from the <a class="reference internal" href="#dugong.HTTPConnection" title="dugong.HTTPConnection"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HTTPConnection</span></code></a> instance.</p>
<dl class="attribute">
<dt id="dugong.HTTPResponse.headers">
<code class="descname">headers</code><em class="property"> = None</em><a class="headerlink" href="#dugong.HTTPResponse.headers" title="Permalink to this definition">¶</a></dt>
<dd><p>HTTP Response headers, a <a class="reference external" href="https://docs.python.org/3/library/email.compat32-message.html#email.message.Message" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">email.message.Message</span></code></a> instance</p>
</dd></dl>

<dl class="attribute">
<dt id="dugong.HTTPResponse.length">
<code class="descname">length</code><em class="property"> = None</em><a class="headerlink" href="#dugong.HTTPResponse.length" title="Permalink to this definition">¶</a></dt>
<dd><p>Length of the response body or <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> if not known. This attribute
contains the actual length of the <em>transmitted</em> response. That means
that for responses where RFC 2616 mandates that no request body
be sent (e.g. in response to HEAD requests or for 1xx response
codes) this value is zero. In these cases, the length of the body that
<em>would</em> have been send can be extracted from the <code class="docutils literal notranslate"><span class="pre">Content-Length</span></code>
response header.</p>
</dd></dl>

<dl class="attribute">
<dt id="dugong.HTTPResponse.method">
<code class="descname">method</code><em class="property"> = None</em><a class="headerlink" href="#dugong.HTTPResponse.method" title="Permalink to this definition">¶</a></dt>
<dd><p>HTTP Method of the request this was response is associated with</p>
</dd></dl>

<dl class="attribute">
<dt id="dugong.HTTPResponse.path">
<code class="descname">path</code><em class="property"> = None</em><a class="headerlink" href="#dugong.HTTPResponse.path" title="Permalink to this definition">¶</a></dt>
<dd><p>Path of the request this was response is associated with</p>
</dd></dl>

<dl class="attribute">
<dt id="dugong.HTTPResponse.reason">
<code class="descname">reason</code><em class="property"> = None</em><a class="headerlink" href="#dugong.HTTPResponse.reason" title="Permalink to this definition">¶</a></dt>
<dd><p>HTTP reason phrase returned by the server</p>
</dd></dl>

<dl class="attribute">
<dt id="dugong.HTTPResponse.status">
<code class="descname">status</code><em class="property"> = None</em><a class="headerlink" href="#dugong.HTTPResponse.status" title="Permalink to this definition">¶</a></dt>
<dd><p>HTTP status code returned by the server</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dugong.BodyFollowing">
<em class="property">class </em><code class="descname">BodyFollowing</code><span class="sig-paren">(</span><em>length=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dugong.BodyFollowing" title="Permalink to this definition">¶</a></dt>
<dd><p>Sentinel class for the <em>body</em> parameter of the
<a class="reference internal" href="#dugong.HTTPConnection.send_request" title="dugong.HTTPConnection.send_request"><code class="xref py py-obj docutils literal notranslate"><span class="pre">send_request</span></code></a> method. Passing an instance of this class
declares that body data is going to be provided in separate method calls.</p>
<p>If no length is specified in the constructor, the body data will be send
using chunked encoding.</p>
<dl class="attribute">
<dt id="dugong.BodyFollowing.length">
<code class="descname">length</code><a class="headerlink" href="#dugong.BodyFollowing.length" title="Permalink to this definition">¶</a></dt>
<dd><p>the length of the body data that is going to be send, or <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>
to use chunked encoding.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dugong.CaseInsensitiveDict">
<em class="property">class </em><code class="descname">CaseInsensitiveDict</code><span class="sig-paren">(</span><em>data=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#dugong.CaseInsensitiveDict" title="Permalink to this definition">¶</a></dt>
<dd><p>A case-insensitive <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>-like object.</p>
<p>Implements all methods and operations of
<a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.MutableMapping" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.MutableMapping</span></code></a> as well as <a class="reference external" href="https://docs.python.org/3/library/copy.html#module-copy" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">copy</span></code></a>.</p>
<p>All keys are expected to be strings. The structure remembers the case of the
last key to be set, and <code class="xref py py-meth docutils literal notranslate"><span class="pre">iter()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">keys()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">items()</span></code> will
contain case-sensitive keys. However, querying and contains testing is case
insensitive:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cid</span> <span class="o">=</span> <span class="n">CaseInsensitiveDict</span><span class="p">()</span>
<span class="n">cid</span><span class="p">[</span><span class="s1">&#39;Accept&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;application/json&#39;</span>
<span class="n">cid</span><span class="p">[</span><span class="s1">&#39;aCCEPT&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;application/json&#39;</span> <span class="c1"># True</span>
<span class="nb">list</span><span class="p">(</span><span class="n">cid</span><span class="p">)</span> <span class="o">==</span> <span class="p">[</span><span class="s1">&#39;Accept&#39;</span><span class="p">]</span> <span class="c1"># True</span>
</pre></div>
</div>
<p>For example, <code class="docutils literal notranslate"><span class="pre">headers['content-encoding']</span></code> will return the value of a
<code class="docutils literal notranslate"><span class="pre">'Content-Encoding'</span></code> response header, regardless of how the header name
was originally stored.</p>
<p>If the constructor, <code class="xref py py-meth docutils literal notranslate"><span class="pre">update()</span></code>, or equality comparison operations are
given multiple keys that have equal lower-case representions, the behavior
is undefined.</p>
<dl class="method">
<dt id="dugong.CaseInsensitiveDict.lower_items">
<code class="descname">lower_items</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dugong.CaseInsensitiveDict.lower_items" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <code class="xref py py-meth docutils literal notranslate"><span class="pre">items()</span></code>, but with all lowercase keys.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dugong.PollNeeded">
<em class="property">class </em><code class="descname">PollNeeded</code><a class="headerlink" href="#dugong.PollNeeded" title="Permalink to this definition">¶</a></dt>
<dd><p>This class encapsulates the requirements for a IO operation to continue.
<a class="reference internal" href="#dugong.PollNeeded" title="dugong.PollNeeded"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PollNeeded</span></code></a> instances are typically yielded by coroutines.</p>
<dl class="method">
<dt id="dugong.PollNeeded.poll">
<code class="descname">poll</code><span class="sig-paren">(</span><em>timeout=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dugong.PollNeeded.poll" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait until fd is ready for requested IO</p>
<p>This is a convenince function that uses <a class="reference external" href="https://docs.python.org/3/library/select.html#select.poll" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">poll</span></code></a> to wait until
<a class="reference internal" href="#dugong.PollNeeded.fd" title="dugong.PollNeeded.fd"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fd</span></code></a> is ready for the requested type of IO. If poll is unavailable
(e.g. on Windows) it uses <a class="reference external" href="https://docs.python.org/3/library/select.html#select.select" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">select</span></code></a> instead.</p>
<p>If <em>timeout</em> is specified, return <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a> if the timeout is exceeded
without the file descriptor becoming ready.</p>
</dd></dl>

<dl class="attribute">
<dt id="dugong.PollNeeded.fd">
<code class="descname">fd</code><a class="headerlink" href="#dugong.PollNeeded.fd" title="Permalink to this definition">¶</a></dt>
<dd><p>File descriptor that the IO operation depends on</p>
</dd></dl>

<dl class="attribute">
<dt id="dugong.PollNeeded.mask">
<code class="descname">mask</code><a class="headerlink" href="#dugong.PollNeeded.mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Event mask specifiying the type of required IO</p>
<p>This attribute defines what type of IO the provider of the <a class="reference internal" href="#dugong.PollNeeded" title="dugong.PollNeeded"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PollNeeded</span></code></a>
instance needs to perform on <em>fd</em>. It is expected that, when <em>fd</em> is
ready for IO of the specified type, operation will continue without
blocking.</p>
<p>The type of IO is specified as a <a class="reference external" href="https://docs.python.org/3/library/select.html#poll-objects" title="(in Python v3.9)"><span class="xref std std-ref">poll</span></a>
compatible event mask, i.e. a bitwise combination of <code class="xref py py-obj docutils literal notranslate"><span class="pre">select.POLLIN</span></code>
and <code class="xref py py-obj docutils literal notranslate"><span class="pre">select.POLLOUT</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dugong.AioFuture">
<em class="property">class </em><code class="descname">AioFuture</code><span class="sig-paren">(</span><em>crt</em>, <em>loop=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dugong.AioFuture" title="Permalink to this definition">¶</a></dt>
<dd><p>This class wraps a coroutine that yields <a class="reference internal" href="#dugong.PollNeeded" title="dugong.PollNeeded"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PollNeeded</span></code></a> instances
into an <a class="reference external" href="https://docs.python.org/3/library/asyncio.html#module-asyncio" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">asyncio</span></code></a> compatible <a class="reference external" href="https://docs.python.org/3/library/asyncio-future.html#asyncio.Future" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Future</span></code></a>.</p>
<p>This is done by registering a callback with the event loop that resumes
the coroutine when the requested IO is available.</p>
</dd></dl>

</div>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="dugong.is_temp_network_error">
<code class="descname">is_temp_network_error</code><span class="sig-paren">(</span><em>exc</em><span class="sig-paren">)</span><a class="headerlink" href="#dugong.is_temp_network_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if <em>exc</em> represents a potentially temporary network problem</p>
<p>DNS resolution errors (<a class="reference external" href="https://docs.python.org/3/library/socket.html#socket.gaierror" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">socket.gaierror</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/socket.html#socket.herror" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">socket.herror</span></code></a>) are considered
permanent, because <a class="reference internal" href="#dugong.HTTPConnection" title="dugong.HTTPConnection"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HTTPConnection</span></code></a> employs a heuristic to convert these
exceptions to <a class="reference internal" href="#dugong.HostnameNotResolvable" title="dugong.HostnameNotResolvable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HostnameNotResolvable</span></code></a> or <a class="reference internal" href="#dugong.DNSUnavailable" title="dugong.DNSUnavailable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DNSUnavailable</span></code></a> instead.</p>
</dd></dl>

</div>
<div class="section" id="exceptions">
<h2>Exceptions<a class="headerlink" href="#exceptions" title="Permalink to this headline">¶</a></h2>
<p>Dugong functions may pass through any exceptions raised by the
<a class="reference external" href="https://docs.python.org/3/library/socket.html#socket-objects" title="(in Python v3.9)"><span class="xref std std-ref">socket</span></a> and <a class="reference external" href="https://docs.python.org/3/library/ssl.html#ssl.SSLSocket" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ssl.SSLSocket</span></code></a> methods. In
addition to that, the following dugong-specific exceptions may be
raised as well:</p>
<dl class="exception">
<dt id="dugong.ConnectionClosed">
<em class="property">exception </em><code class="descname">ConnectionClosed</code><span class="sig-paren">(</span><em>msg=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dugong.ConnectionClosed" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised if the connection was unexpectedly closed.</p>
<p>This exception is raised also if the server declared that it will close the
connection (by sending a <code class="docutils literal notranslate"><span class="pre">Connection:</span> <span class="pre">close</span></code> header). Such responses can
still be read completely, but the next attempt to send a request or read a
response will raise the exception. To re-use the connection after the server
has closed the connection, call <a class="reference internal" href="#dugong.HTTPConnection.reset" title="dugong.HTTPConnection.reset"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HTTPConnection.reset</span></code></a> before further
requests are send.</p>
<p>This behavior is intentional, because the caller may have already issued
other requests (i.e., used pipelining). By raising an exception, the caller
is notified that any pending requests have been lost and need to be resend.</p>
</dd></dl>

<dl class="exception">
<dt id="dugong.InvalidResponse">
<em class="property">exception </em><code class="descname">InvalidResponse</code><span class="sig-paren">(</span><em>msg=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dugong.InvalidResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised if the server produced an invalid response (i.e, something
that is not proper HTTP 1.0 or 1.1).</p>
</dd></dl>

<dl class="exception">
<dt id="dugong.UnsupportedResponse">
<em class="property">exception </em><code class="descname">UnsupportedResponse</code><span class="sig-paren">(</span><em>msg=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dugong.UnsupportedResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>This exception is raised if the server produced a response that is not
supported. This should not happen for servers that are HTTP 1.1 compatible.</p>
<p>If an <a class="reference internal" href="#dugong.UnsupportedResponse" title="dugong.UnsupportedResponse"><code class="xref py py-obj docutils literal notranslate"><span class="pre">UnsupportedResponse</span></code></a> exception has been raised, this typically means
that synchronization with the server will be lost (i.e., dugong cannot
determine where the current response ends and the next response starts), so
the connection needs to be reset by calling the
<a class="reference internal" href="#dugong.HTTPConnection.disconnect" title="dugong.HTTPConnection.disconnect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">disconnect()</span></code></a> method.</p>
</dd></dl>

<dl class="exception">
<dt id="dugong.ExcessBodyData">
<em class="property">exception </em><code class="descname">ExcessBodyData</code><span class="sig-paren">(</span><em>msg=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dugong.ExcessBodyData" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when trying to send more data to the server than
announced.</p>
</dd></dl>

<dl class="exception">
<dt id="dugong.StateError">
<em class="property">exception </em><code class="descname">StateError</code><span class="sig-paren">(</span><em>msg=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dugong.StateError" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when attempting an operation that doesn’t make
sense in the current connection state.</p>
</dd></dl>

<dl class="exception">
<dt id="dugong.ConnectionTimedOut">
<em class="property">exception </em><code class="descname">ConnectionTimedOut</code><span class="sig-paren">(</span><em>msg=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dugong.ConnectionTimedOut" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised if a regular <a class="reference internal" href="#dugong.HTTPConnection" title="dugong.HTTPConnection"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HTTPConnection</span></code></a> method (i.e., no coroutine) was
unable to send or receive data for the timeout specified in the
<a class="reference internal" href="#dugong.HTTPConnection.timeout" title="dugong.HTTPConnection.timeout"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HTTPConnection.timeout</span></code></a> attribute.</p>
</dd></dl>

<dl class="exception">
<dt id="dugong.HostnameNotResolvable">
<em class="property">exception </em><code class="descname">HostnameNotResolvable</code><span class="sig-paren">(</span><em>hostname</em><span class="sig-paren">)</span><a class="headerlink" href="#dugong.HostnameNotResolvable" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised if a host name does not resolve to an ip address.</p>
<p>Dugong raises this exception if a resolution attempt results in a
<a class="reference external" href="https://docs.python.org/3/library/socket.html#socket.gaierror" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">socket.gaierror</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/socket.html#socket.herror" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">socket.herror</span></code></a> exception with errno
<code class="xref py py-const docutils literal notranslate"><span class="pre">socket.EAI_AGAIN</span></code> or <code class="xref py py-const docutils literal notranslate"><span class="pre">socket.EAI_NONAME</span></code>, but at least one of
the hostnames in <a class="reference internal" href="#dugong.DNS_TEST_HOSTNAMES" title="dugong.DNS_TEST_HOSTNAMES"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DNS_TEST_HOSTNAMES</span></code></a> can be resolved.</p>
</dd></dl>

<dl class="exception">
<dt id="dugong.DNSUnavailable">
<em class="property">exception </em><code class="descname">DNSUnavailable</code><span class="sig-paren">(</span><em>hostname</em><span class="sig-paren">)</span><a class="headerlink" href="#dugong.DNSUnavailable" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised if the DNS server cannot be reached.</p>
<p>Dugong raises this exception if a resolution attempt results in a
<a class="reference external" href="https://docs.python.org/3/library/socket.html#socket.gaierror" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">socket.gaierror</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/socket.html#socket.herror" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">socket.herror</span></code></a> exception with errno
<code class="xref py py-const docutils literal notranslate"><span class="pre">socket.EAI_AGAIN</span></code> or <code class="xref py py-const docutils literal notranslate"><span class="pre">socket.EAI_NONAME</span></code>, and none of the
hostnames in <a class="reference internal" href="#dugong.DNS_TEST_HOSTNAMES" title="dugong.DNS_TEST_HOSTNAMES"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DNS_TEST_HOSTNAMES</span></code></a> can be resolved either.</p>
</dd></dl>

</div>
<div class="section" id="constants">
<h2>Constants<a class="headerlink" href="#constants" title="Permalink to this headline">¶</a></h2>
<dl class="data">
<dt id="dugong.MAX_LINE_SIZE">
<code class="descname">MAX_LINE_SIZE</code><em class="property"> = 65535</em><a class="headerlink" href="#dugong.MAX_LINE_SIZE" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximal length of HTTP status line. If the server sends a line longer than
this value, <a class="reference internal" href="#dugong.InvalidResponse" title="dugong.InvalidResponse"><code class="xref py py-obj docutils literal notranslate"><span class="pre">InvalidResponse</span></code></a> will be raised.</p>
</dd></dl>

<dl class="data">
<dt id="dugong.MAX_HEADER_SIZE">
<code class="descname">MAX_HEADER_SIZE</code><em class="property"> = 65535</em><a class="headerlink" href="#dugong.MAX_HEADER_SIZE" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximal length of a response header (i.e., for all header
lines together). If the server sends a header segment longer than
this value, <a class="reference internal" href="#dugong.InvalidResponse" title="dugong.InvalidResponse"><code class="xref py py-obj docutils literal notranslate"><span class="pre">InvalidResponse</span></code></a> will be raised.</p>
</dd></dl>

<dl class="data">
<dt id="dugong.DNS_TEST_HOSTNAMES">
<code class="descname">DNS_TEST_HOSTNAMES</code><em class="property"> = (('www.google.com', 80), ('www.iana.org', 80), ('C.root-servers.org', 53))</em><a class="headerlink" href="#dugong.DNS_TEST_HOSTNAMES" title="Permalink to this definition">¶</a></dt>
<dd><p>Sequence of <code class="docutils literal notranslate"><span class="pre">(hostname,</span> <span class="pre">port)</span></code> tuples that are used by
dugong to distinguish between permanent and temporary name
resolution problems.</p>
</dd></dl>

</div>
<div class="section" id="thread-safety">
<h2>Thread Safety<a class="headerlink" href="#thread-safety" title="Permalink to this headline">¶</a></h2>
<p>Dugong is not generally threadsafe. However, simultaneous use of the
same <a class="reference internal" href="#dugong.HTTPConnection" title="dugong.HTTPConnection"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HTTPConnection</span></code></a> instance by two threads is supported if once
thread is restricted to sending requests, and the other thread
restricted to reading responses.</p>
</div>
<div class="section" id="avoiding-deadlocks">
<h2>Avoiding Deadlocks<a class="headerlink" href="#avoiding-deadlocks" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="#dugong.HTTPConnection" title="dugong.HTTPConnection"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HTTPConnection</span></code></a> class allows you to send an unlimited number of
requests to the server before reading any of the responses. However, at some
point the transmit and receive buffers on both the ends of the connection
will fill up, and no more requests can be send before at least some of the
responses are read, and attempts to send more data to the server will
block. If the thread that attempts to send data is is also responsible for
reading the responses, this will result in a deadlock.</p>
<p>There are several ways to avoid this:</p>
<ul class="simple">
<li>Do not send a new request before the last response has been read. This is
the easiest solution, but it means that no HTTP pipelining can be used.</li>
<li>Use different threads for sending requests and receiving responses.</li>
<li>Use the coroutine based API (see <a class="reference internal" href="tutorial.html#coroutine-pipelining"><span class="std std-ref">Pipelining with Coroutines</span></a> in the
tutorial).</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3><a href="index.html">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#classes">Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#functions">Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#exceptions">Exceptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#constants">Constants</a></li>
<li class="toctree-l2"><a class="reference internal" href="#thread-safety">Thread Safety</a></li>
<li class="toctree-l2"><a class="reference internal" href="#avoiding-deadlocks">Avoiding Deadlocks</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="coroutines.html">Coroutine API</a></li>
<li class="toctree-l1"><a class="reference internal" href="issues.html">Known Issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="whatsnew.html">Changelog</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="tutorial.html"
                        title="previous chapter">Tutorial</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="coroutines.html"
                        title="next chapter">Coroutine API</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="coroutines.html" title="Coroutine API"
             >next</a> |</li>
        <li class="right" >
          <a href="tutorial.html" title="Tutorial"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Dugong 3.8.1 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2013-2014, Nikolaus Rath.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.4.
    </div>
  </body>
</html>