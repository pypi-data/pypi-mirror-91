(self.webpackChunk_deathbeds_jupyterlab_starters=self.webpackChunk_deathbeds_jupyterlab_starters||[]).push([[462,473],{33473:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ALL_CUSTOM_UI:()=>M,AS_JSONOBJECT:()=>O,AS_MARKDOWN:()=>R,AS_TEXTAREA:()=>j,AS_XML:()=>D,CUSTOM_UI_FIELDS:()=>b,CUSTOM_UI_WIDGETS:()=>v,CodeMirrorField:()=>f,Form:()=>a,JSONObjectField:()=>S,MarkdownField:()=>C,SchemaForm:()=>w,SchemaFormModel:()=>h,XMLField:()=>y,asyncComponent:()=>i});var s=r(56271),n=r.n(s);function i(e,t=console.error){let r,s;return class extends n().Component{constructor(){super(...arguments),this.displayName="AsyncComponent",this.state={__async_component:null}}componentDidMount(){null==r?(null==s&&(s=e().then((e=>r=e))),s.then((()=>this.componentWasCached())).catch(t)):this.componentWasCached()}componentWasCached(){this.setState({__async_component:r})}render(){const e=this.state.__async_component;return null==e?n().createElement("div",{className:"jp-Spinner"},n().createElement("div",{className:"jp-SpinnerContent"})):n().createElement(e,Object.assign({},this.props),this.props.children)}}}const a=i((async()=>{const{withTheme:e}=await Promise.resolve().then(r.t.bind(r,27532,23));return e((await r.e(760).then(r.bind(r,62760))).default)}));var o=r(83028),d=r(46674),l=r(6168);class h extends o.VDomModel{constructor(e,t,r){super(),this._errors=[],this._errorsObserved=!1,this._rendered=new l.Signal(this),this._liveMarkdown=!1,this.schema=e,t&&(this.props=t),r&&(this._markdown=r.markdown||null,this._liveMarkdown=null!=r.liveMarkdown?r.liveMarkdown:this._liveMarkdown)}get errors(){return this._errors}set errors(e){this._errors=e,this.stateChanged.emit(void 0)}get formData(){return this._formData}set formData(e){this._formData=e,this.stateChanged.emit(void 0)}get schema(){return this._schema}set schema(e){this._schema=e,this.stateChanged.emit(void 0)}set uiSchema(e){this._props.uiSchema=e,this.stateChanged.emit(void 0)}get uiSchema(){return this._props.uiSchema}get props(){return this._props}set props(e){this._props=e,this.stateChanged.emit(void 0)}get errorsObserved(){return this._errorsObserved}set errorsObserved(e){e!==this._errorsObserved&&(this._errorsObserved=e,this.stateChanged.emit(void 0))}get rendered(){return this._rendered}emitRenderered(){this._rendered.emit(void 0)}get markdown(){return this._markdown}get liveMarkdown(){return this._liveMarkdown}set liveMarkdown(e){this._liveMarkdown=e,this.stateChanged.emit(void 0)}}const m=["jp-RenderedMarkdown","jp-RenderedHTMLCommon"],c=["legend",".field-description",".control-label",".help-block",".field-radio-group .radio > label > span > span",".field-boolean .checkbox > label > span"],u=c.join(", "),p=c.map((e=>`${e}:not(.jp-RenderedMarkdown)`)).join(", "),_="jp-SchemaForm-markdown";class w extends o.VDomRenderer{constructor(e,t={},r){super(new h(e,t,r)),this._renderMarkdown=async()=>{const e=Array.from(this.node.querySelectorAll(this.model.liveMarkdown?p:u));if(!e.length&&!this._initialRender)return this._initialRenderDelay=2*this._initialRenderDelay,void setTimeout(this._renderMarkdown,this._initialRenderDelay);this._initialRender=!0,await Promise.all(e.map(this._renderOneMarkdown))},this._renderOneMarkdown=async e=>{if(e.querySelector(`.${_}`))return;const t=this.model.markdown;if(null==t)return;const{textContent:r,dataset:s}=e,{rawMarkdown:n}=s,i=n||r;if(null==i||!i.trim())return;r&&(s.rawMarkdown=r),e.classList.add(...m),await(0,d.ap)({host:e,source:n||r||"",trusted:!0,sanitizer:t.sanitizer,latexTypesetter:t.latexTypesetter,resolver:t.resolver,linkHandler:t.linkHandler,shouldTypeset:!0});const a=document.createElement("span");a.className=_,e.appendChild(a)},this._postRender=()=>{this.model.errorsObserved=!!this.node.querySelector(".errors"),this.model.emitRenderered()},this._initialRender=!1,this._initialRenderDelay=10,this._idPrefix=`id-jp-schemaform-${k.nextId()}`,this.model.markdown&&this.model.rendered.connect(this._renderMarkdown)}render(){if(!this.model)return null;const{schema:e,props:t,formData:r}=this.model,s=`jp-SchemaForm ${t.className||""}`.trim(),i=Object.assign(Object.assign({},t),{idPrefix:this._idPrefix,schema:e,formData:r,className:s,validate:(e,t)=>t,onChange:(e,r)=>{this.onChange(e,r),t.onChange&&t.onChange(e,r)}});return setTimeout(this._postRender,100),n().createElement(a,Object.assign({},i))}onChange(e,t){const{formData:r,errors:s}=e;null!=r&&(this.model.errors=s,this.model.formData=r),this.model.stateChanged.emit(void 0)}getValue(){return{formData:this.model.formData,errors:this.model.errors}}}var k;!function(e){let t=0;e.nextId=function(){return t++}}(k||(k={}));var g=r(27532);const v=async()=>({"codemirror-xml":await y(),codemirror:await f(),"codemirror-markdown":await C()}),b=async()=>({"codemirror-jsonobject":await S()}),M=async()=>({fields:await b(),widgets:await v()}),f=async()=>(await Promise.all([r.e(730),r.e(98)]).then(r.bind(r,5098))).CodeMirrorField,C=async()=>(await Promise.all([r.e(730),r.e(97)]).then(r.bind(r,61097))).MarkdownField,y=async()=>(await Promise.all([r.e(730),r.e(75)]).then(r.bind(r,2075))).XMLField,S=async()=>{const e=g.utils.getDefaultRegistry();return(await Promise.all([r.e(730),r.e(797),r.e(122)]).then(r.bind(r,17122))).makeJSONObjectField(e.fields.ObjectField)},O={"ui:field":"codemirror-jsonobject"},j={"ui:widget":"textarea"},D={"ui:widget":"codemirror-xml"},R={"ui:widget":"codemirror-markdown"}}}]);