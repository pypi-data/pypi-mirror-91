(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[184],{1995:function(e,t,r){"use strict";r(1);var n=r(316),o=r(118),i=r(0),a=function(e){var t=e.withIcon,r=e.children;return Object(i.f)(o.a,null,Object(i.f)(o.c,null,Object(i.f)(n.a,{small:!0,withIcon:t},r)))};a.displayName="EmptyState",t.a=a},1996:function(e,t,r){"use strict";r.d(t,"b",(function(){return v})),r.d(t,"a",(function(){return y})),r.d(t,"c",(function(){return O})),r.d(t,"e",(function(){return j})),r.d(t,"d",(function(){return m}));var n=r(24),o=r.n(n),i=r(8),a=r.n(i),c=r(289),s=r.n(c),u=r(95),l=r(4),p=r(46),f=r(424),d=r(562);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e){return e.reduce((function(e,t){var r=t.filename,n=t.repoName,o=t.author,i=t.type;return e.hasOwnProperty(n)||(e[n]={}),e[n].hasOwnProperty(r)||(e[n][r]={authors:{},types:new Set}),o.email&&(e[n][r].authors[o.email]=o),e[n][r].types.add(i),e}),{})}function y(e){return e.reduce((function(e,t){var r,n,o=null!==(r=null===(n=t.repository)||void 0===n?void 0:n.name)&&void 0!==r?r:Object(l.b)("unknown");return e.hasOwnProperty(o)||(e[o]=[]),e[o].push(t),e}),{})}function O(e){var t=e.location,r=e.perPage,n=void 0===r?40:r,i=e.activeRepository,a=h(h({},s()(t.query,[].concat(o()(Object.values(u.e)),["cursor"]))),{},{per_page:n});return i?h(h({},a),{},{repo_name:i.name}):a}function j(e,t){return t?[t.name]:e}function m(e,t,r){var n=e.projects,o=e.environments,i=e.datetime,a=i.start,c=i.end,s=i.period,u={id:void 0,version:2,name:"".concat(Object(l.b)("Release Apdex")),fields:["apdex(".concat(r.apdexThreshold,")")],query:Object(d.b)(new d.a(["release:".concat(t),"event.type:transaction","count():>0"])),range:s,environment:o,projects:n,start:a?Object(p.j)(a):void 0,end:c?Object(p.j)(c):void 0};return f.a.fromSavedQuery(u)}},2229:function(e,t,r){"use strict";var n=r(8),o=r.n(n),i=r(9),a=r.n(i),c=r(10),s=r.n(c),u=r(11),l=r.n(u),p=r(13),f=r.n(p),d=r(5),b=r.n(d),h=r(3),v=r(1),y=r.n(v),O=r(370),j=r(4),m=r(41),g=r(7),w=r(0);function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=b()(e);if(t){var o=b()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return f()(this,r)}}var k=function(e){l()(r,e);var t=x(r);function r(){var e;a()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={},e.dropdownButton=y.a.createRef(),e.handleRepoFilterChange=function(t){var r=e.props,n=r.router,o=r.location;n.push(P(P({},o),{},{query:P(P({},o.query),{},{cursor:void 0,activeRepo:t})}))},e}return s()(r,[{key:"componentDidMount",value:function(){this.setButtonDropDownWidth()}},{key:"setButtonDropDownWidth",value:function(){var e,t,r=null===(e=this.dropdownButton)||void 0===e?void 0:null===(t=e.current)||void 0===t?void 0:t.offsetWidth;r&&this.setState({dropdownButtonWidth:r})}},{key:"render",value:function(){var e=this,t=this.props,r=t.activeRepository,n=t.repositories,o=this.state.dropdownButtonWidth,i=null==r?void 0:r.name;return Object(w.f)(S,{minMenuWidth:o,label:Object(w.f)(y.a.Fragment,null,Object(w.f)(D,null,"".concat(Object(j.b)("Filter"),":")),i),buttonProps:{forwardRef:this.dropdownButton}},n.map((function(e){return e.name})).map((function(t){return Object(w.f)(O.a,{key:t,onSelect:e.handleRepoFilterChange,eventKey:t,isActive:t===i},Object(w.f)(C,null,t))})))}}]),r}(y.a.PureComponent);k.displayName="RepositorySwitcher",t.a=k;var S=Object(h.a)(O.b,{target:"ev1ou9t0",label:"StyledDropdownControl"})("margin-bottom:",Object(g.a)(1),";> *:nth-child(2){right:auto;width:auto;",(function(e){return e.minMenuWidth&&"min-width: calc(".concat(e.minMenuWidth,"px + 10px);")})," border-radius:",(function(e){return e.theme.borderRadius}),";border-top-left-radius:0px;border:1px solid ",(function(e){return e.theme.button.default.border}),";top:calc(100% - 1px);}"),D=Object(h.a)("em",{target:"ev1ou9t1",label:"FilterText"})("font-style:normal;color:",(function(e){return e.theme.gray300}),";margin-right:",Object(g.a)(.5),";"),C=Object(h.a)("div",{target:"ev1ou9t2",label:"RepoLabel"})(m.a)},2265:function(e,t,r){"use strict";var n=r(6),o=r.n(n),i=r(22),a=r.n(i),c=r(30),s=r.n(c),u=r(9),l=r.n(u),p=r(10),f=r.n(p),d=r(11),b=r.n(d),h=r(13),v=r.n(h),y=r(5),O=r.n(y),j=r(1),m=r.n(j),g=r(48),w=r(34),R=r(291),P=r(44),x=r(4),k=r(100),S=r(2041),D=r(26),C=r(118),N=r(16),F=r(426),I=r(0),W=function(e){var t=e.orgId;return Object(I.f)(C.a,{dashedBorder:!0},Object(I.f)(F.a,{icon:Object(I.f)(N.p,{size:"xl"}),title:Object(x.b)("Releases are better with commit data!"),description:Object(x.b)("Connect a repository to see commit info, files changed, and authors involved in future releases."),action:Object(I.f)(D.b,{priority:"primary",to:"/settings/".concat(t,"/repos/")},Object(x.b)("Connect a repository"))}))};W.displayName="NoRepoConnected";var L=W;function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=O()(e);if(t){var o=O()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v()(this,r)}}t.a=function(e){var t,r;return r=t=function(t){b()(i,t);var r,n=z(i);function i(){var e;l()(this,i);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))).state={repositories:[],isLoading:!0},e}return f()(i,[{key:"componentDidMount",value:function(){this.fetchRepositories()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setActiveRepo(e)}},{key:"componentDidUpdate",value:function(e,t){t.repositories.length!==this.state.repositories.length&&this.setActiveRepo(this.props)}},{key:"setActiveRepo",value:function(e){var t,r=this.state,n=r.repositories,o=r.activeRepository;if(n.length){var i,a=null===(t=e.location.query)||void 0===t?void 0:t.activeRepo;if(a){if(a!==(null==o?void 0:o.name)){var c=n.find((function(e){return e.name===a}));c?this.setState({activeRepository:c}):Object(w.a)(Object(x.b)("The repository you were looking for was not found."))}}else this.setState({activeRepository:null!==(i=n[0])&&void 0!==i?i:null})}}},{key:"getEndpoint",value:function(){var e=this.props.params,t=e.release,r=e.orgId,n=this.context.project;return"/projects/".concat(r,"/").concat(n.slug,"/releases/").concat(encodeURIComponent(t),"/repositories/")}},{key:"fetchRepositories",value:(r=s()(a.a.mark((function e(){var t,r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.params,r=t.release,this.setState({isLoading:!0}),e.prev=3,e.next=6,this.props.api.requestPromise(this.getEndpoint());case 6:n=e.sent,this.setState({repositories:n,isLoading:!1}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),g.c(e.t0),Object(w.a)(Object(x.b)("An error occured while trying to fetch the repositories of the release: %s",r));case 14:case"end":return e.stop()}}),e,this,[[3,10]])}))),function(){return r.apply(this,arguments)})},{key:"render",value:function(){var t=this.state,r=t.isLoading,n=t.activeRepository,i=t.repositories;return r?Object(I.f)(P.default,null):i.length?void 0===n?Object(I.f)(P.default,null):Object(I.f)(e,o()({},this.props,{projectSlug:this.context.project.slug,repositories:i,activeRepository:n})):Object(I.f)(R.a,null,Object(I.f)(R.f,{fullWidth:!0},Object(I.f)(L,{orgId:this.props.params.orgId})))}}]),i}(m.a.Component),t.displayName="withRepositories(".concat(Object(k.a)(e),")"),t.contextType=S.ReleaseContext,r}},2853:function(e,t,r){"use strict";r.r(t);var n=r(8),o=r.n(n),i=r(9),a=r.n(i),c=r(10),s=r.n(c),u=r(126),l=r.n(u),p=r(11),f=r.n(p),d=r(13),b=r.n(d),h=r(5),v=r.n(h),y=r(3),O=r(1),j=r.n(O),m=r(750),g=r(16),w=r(31),R=r(0),P={jsx:"react",tsx:"react",js:"javascript",ts:"javascript",php:"php",py:"python",vue:"vue",go:"go",java:"java",perl:"perl",rb:"ruby",rs:"rust",rlib:"rust",swift:"swift",h:"apple",m:"apple",mm:"apple",M:"apple",cs:"csharp",ex:"elixir",exs:"elixir"},x=function(e){var t,n=e.fileName,o=e.size,i=void 0===o?"sm":o,a=e.className,c=n.split(".").pop(),s=c?P[c]:null,u=null!==(t=w.b.iconSizes[i])&&void 0!==t?t:i;return s?Object(R.f)("img",{src:r(1120)("./".concat(s,".svg")),width:u,height:u,className:a}):Object(R.f)(g.x,{size:u,className:a})};x.displayName="FileIcon";var k=x,S=r(7),D=Object(y.a)("li",{target:"efieh460",label:"ListGroupItem"})("position:relative;display:block;min-height:36px;border:1px solid ",(function(e){return e.theme.border}),";padding:",Object(S.a)(.5)," ",Object(S.a)(1.5),";margin-bottom:-1px;",(function(e){return e.centered?"text-align: center;":""})," &:first-child{border-top-left-radius:",(function(e){return e.theme.borderRadius}),";border-top-right-radius:",(function(e){return e.theme.borderRadius}),";}&:last-child{border-bottom-left-radius:",(function(e){return e.theme.borderRadius}),";border-bottom-right-radius:",(function(e){return e.theme.borderRadius}),";}"),C=r(290),N=function(e){var t=e.filename,r=e.authors,n=e.className;return Object(R.f)(F,{className:n},Object(R.f)(I,null,Object(R.f)(W,{fileName:t}),Object(R.f)(C.a,null,t)),Object(R.f)("div",null,Object(R.f)(m.a,{users:r,avatarSize:25,typeMembers:"authors"})))};N.displayName="FileChange";var F=Object(y.a)(D,{target:"e18i6q0j0",label:"FileItem"})({name:"1lekzkb",styles:"display:flex;align-items:center;justify-content:space-between;"}),I=Object(y.a)("div",{target:"e18i6q0j1",label:"Filename"})("font-size:",(function(e){return e.theme.fontSizeMedium}),";display:grid;grid-gap:",Object(S.a)(1),";margin-right:",Object(S.a)(3),";align-items:center;grid-template-columns:max-content 1fr;"),W=Object(y.a)(k,{target:"e18i6q0j2",label:"StyledFileIcon"})("color:",(function(e){return e.theme.gray200}),";border-radius:3px;"),L=N,z=r(291),E=r(698),q=r(118),A=r(4),B=r(94),M=r(1888),T=r(50),U=r(1885),_=r(1995),J=r(2229),G=r(1996),K=r(2265);function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v()(e);if(t){var o=v()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return b()(this,r)}}var X=function(e){f()(r,e);var t=V(r);function r(){var e;a()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).getEndpoints=function(){var t=e.props,r=t.params,n=t.activeRepository,o=t.location,i=r.orgId,a=r.release,c=Object(G.c)({location:o,activeRepository:n});return[["fileList","/organizations/".concat(i,"/releases/").concat(encodeURIComponent(a),"/commitfiles/"),{query:c}]]},e}return s()(r,[{key:"getTitle",value:function(){var e=this.props.params,t=e.orgId;return Object(M.a)(Object(A.b)("Files Changed - Release %s",Object(B.i)(e.release)),t,!1)}},{key:"getDefaultState",value:function(){return H(H({},l()(v()(r.prototype),"getDefaultState",this).call(this)),{},{fileList:[]})}},{key:"renderContent",value:function(){var e=this.state,t=e.fileList,r=e.fileListPageLinks,n=this.props.activeRepository;if(!t.length)return Object(R.f)(_.a,null,n?Object(A.b)("There are no changed files associated with this release in the %s repository.",n.name):Object(A.b)("There are no changed files associated with this release."));var o=Object(G.b)(t),i=Object(G.e)(Object.keys(o));return Object(R.f)(j.a.Fragment,null,i.map((function(e){var t=o[e],r=Object.keys(t),n=r.length;return Object(R.f)(q.a,{key:e},Object(R.f)(q.e,null,Object(R.f)("span",null,e),Object(R.f)("span",null,Object(A.d)("%s file changed","%s files changed",n))),Object(R.f)(q.c,null,r.map((function(e){var r=t[e].authors;return Object(R.f)(Y,{key:e,filename:e,authors:Object.values(r)})}))))})),Object(R.f)(E.a,{pageLinks:r}))}},{key:"renderBody",value:function(){var e=this.props,t=e.activeRepository,r=e.router,n=e.repositories,o=e.location;return Object(R.f)(j.a.Fragment,null,n.length>1&&Object(R.f)(J.a,{repositories:n,activeRepository:t,location:o,router:r}),this.renderContent())}},{key:"renderComponent",value:function(){return Object(R.f)(z.a,null,Object(R.f)(z.f,{fullWidth:!0},l()(v()(r.prototype),"renderComponent",this).call(this)))}}]),r}(U.a),Y=(t.default=Object(T.a)(Object(K.a)(X)),Object(y.a)(L,{target:"edmhvtz0",label:"StyledFileChange"})({name:"d1zd91",styles:"border-radius:0;border-left:none;border-right:none;border-top:none;:last-child{border:none;border-radius:0;}"}))}}]);
//# sourceMappingURL=ReleasesDetailFilesChanged.js.map