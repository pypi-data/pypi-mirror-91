(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[183],{1995:function(t,e,r){"use strict";r(1);var n=r(316),o=r(118),i=r(0),c=function(t){var e=t.withIcon,r=t.children;return Object(i.f)(o.a,null,Object(i.f)(o.c,null,Object(i.f)(n.a,{small:!0,withIcon:e},r)))};c.displayName="EmptyState",e.a=c},1996:function(t,e,r){"use strict";r.d(e,"b",(function(){return h})),r.d(e,"a",(function(){return v})),r.d(e,"c",(function(){return y})),r.d(e,"e",(function(){return O})),r.d(e,"d",(function(){return j}));var n=r(24),o=r.n(n),i=r(8),c=r.n(i),a=r(289),s=r.n(a),u=r(95),l=r(4),f=r(46),p=r(424),d=r(562);function b(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function m(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?b(Object(r),!0).forEach((function(e){c()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function h(t){return t.reduce((function(t,e){var r=e.filename,n=e.repoName,o=e.author,i=e.type;return t.hasOwnProperty(n)||(t[n]={}),t[n].hasOwnProperty(r)||(t[n][r]={authors:{},types:new Set}),o.email&&(t[n][r].authors[o.email]=o),t[n][r].types.add(i),t}),{})}function v(t){return t.reduce((function(t,e){var r,n,o=null!==(r=null===(n=e.repository)||void 0===n?void 0:n.name)&&void 0!==r?r:Object(l.b)("unknown");return t.hasOwnProperty(o)||(t[o]=[]),t[o].push(e),t}),{})}function y(t){var e=t.location,r=t.perPage,n=void 0===r?40:r,i=t.activeRepository,c=m(m({},s()(e.query,[].concat(o()(Object.values(u.e)),["cursor"]))),{},{per_page:n});return i?m(m({},c),{},{repo_name:i.name}):c}function O(t,e){return e?[e.name]:t}function j(t,e,r){var n=t.projects,o=t.environments,i=t.datetime,c=i.start,a=i.end,s=i.period,u={id:void 0,version:2,name:"".concat(Object(l.b)("Release Apdex")),fields:["apdex(".concat(r.apdexThreshold,")")],query:Object(d.b)(new d.a(["release:".concat(e),"event.type:transaction","count():>0"])),range:s,environment:o,projects:n,start:c?Object(f.j)(c):void 0,end:a?Object(f.j)(a):void 0};return p.a.fromSavedQuery(u)}},2050:function(t,e,r){"use strict";r(1);var n=r(26),o=r(53),i=r(16),c=r(4),a=r(21),s=r(0),u=[{icon:Object(s.f)(i.D,{size:"xs"}),providerIds:["github","integrations:github","integrations:github_enterprise"],commitUrl:function(t){var e=t.baseUrl,r=t.commitId;return"".concat(e,"/commit/").concat(r)}},{icon:Object(s.f)(i.e,{size:"xs"}),providerIds:["bitbucket","integrations:bitbucket"],commitUrl:function(t){var e=t.baseUrl,r=t.commitId;return"".concat(e,"/commits/").concat(r)}},{icon:Object(s.f)(i.Gb,{size:"xs"}),providerIds:["visualstudio","integrations:vsts"],commitUrl:function(t){var e=t.baseUrl,r=t.commitId;return"".concat(e,"/commit/").concat(r)}},{icon:Object(s.f)(i.E,{size:"xs"}),providerIds:["gitlab","integrations:gitlab"],commitUrl:function(t){var e=t.baseUrl,r=t.commitId;return"".concat(e,"/commit/").concat(r)}}];e.a=function(t){var e=t.inline,r=t.commitId,i=t.repository;if(!r||!i)return Object(s.f)("span",null,Object(c.b)("Unknown Commit"));var l=Object(a.l)(r),f=u.find((function(t){return!!i.provider&&t.providerIds.includes(i.provider.id)}));if(void 0===f)return Object(s.f)("span",null,l);var p=i.url&&f.commitUrl({commitId:r,baseUrl:i.url});return e?Object(s.f)(o.a,{className:"inline-commit",href:p},f.icon," "+l):Object(s.f)(n.b,{external:!0,href:p,size:"small",icon:f.icon},l)}},2131:function(t,e,r){"use strict";var n=r(6),o=r.n(n),i=r(15),c=r.n(i),a=r(9),s=r.n(a),u=r(10),l=r.n(u),f=r(11),p=r.n(f),d=r(13),b=r.n(d),m=r(5),h=r.n(m),v=r(3),y=r(1),O=r.n(y),j=r(62),g=r(191),w=r(2050),R=r(222),x=r(67),k=r(118),P=r(290),D=r(127),S=r(16),C=r(4),I=r(7),U=r(0);function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=h()(t);if(e){var o=h()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return b()(this,r)}}var W=function(t){p()(r,t);var e=E(r);function r(){return s()(this,r),e.apply(this,arguments)}return l()(r,[{key:"renderMessage",value:function(t){return t?t.split(/\n/)[0]:Object(C.b)("No message provided")}},{key:"renderHovercardBody",value:function(t){return Object(U.f)(A,null,Object(C.c)("The email [actorEmail] is not a member of your organization. [inviteUser:Invite] them or link additional emails in [accountSettings:account settings].",{actorEmail:Object(U.f)("strong",null,t.email),accountSettings:Object(U.f)(B,{to:"/settings/account/emails/"}),inviteUser:Object(U.f)(B,{to:"",onClick:function(){return Object(j.i)({initialData:[{emails:new Set([t.email])}],source:"suspect_commit"})}})}))}},{key:"render",value:function(){var t=this.props,e=t.commit,r=t.customAvatar,n=c()(t,["commit","customAvatar"]),i=e.id,a=e.dateCreated,s=e.message,u=e.author,l=e.repository,f=u&&void 0===u.id;return Object(U.f)(k.f,o()({key:i},n),r||(f?Object(U.f)(z,null,Object(U.f)(R.d,{body:this.renderHovercardBody(u)},Object(U.f)(g.a,{size:36,user:u}),Object(U.f)(M,null,Object(U.f)(S.Hb,{size:"xs"})))):Object(U.f)(z,null,Object(U.f)(g.a,{size:36,user:u}))),Object(U.f)(N,null,Object(U.f)(T,null,this.renderMessage(s)),Object(U.f)(F,null,Object(C.c)("[author] committed [timeago]",{author:Object(U.f)("strong",null,u&&u.name||Object(C.b)("Unknown author")),timeago:Object(U.f)(D.a,{date:a})}))),Object(U.f)("div",null,Object(U.f)(w.a,{commitId:i,repository:l})))}}]),r}(O.a.Component);W.displayName="CommitRow";var z=Object(v.a)("div",{target:"eyce8w20",label:"AvatarWrapper"})("align-self:flex-start;margin-right:",Object(I.a)(2),";"),A=Object(v.a)("div",{target:"eyce8w21",label:"EmailWarning"})("font-size:",(function(t){return t.theme.fontSizeSmall}),";line-height:1.4;margin:-4px;"),B=Object(v.a)(x.a,{target:"eyce8w22",label:"StyledLink"})("color:",(function(t){return t.theme.textColor}),";border-bottom:1px dotted ",(function(t){return t.theme.textColor}),";&:hover{color:",(function(t){return t.theme.textColor}),";}"),M=Object(v.a)("span",{target:"eyce8w23",label:"EmailWarningIcon"})("position:relative;top:15px;left:-11px;display:inline-block;line-height:12px;border-radius:50%;border:1px solid ",(function(t){return t.theme.white}),";background:",(function(t){return t.theme.yellow200}),";padding:1px 2px 3px 2px;"),N=Object(v.a)("div",{target:"eyce8w24",label:"CommitMessage"})("flex:1;flex-direction:column;min-width:0;margin-right:",Object(I.a)(2),";"),T=Object(v.a)(P.a,{target:"eyce8w25",label:"Message"})({name:"fg198c",styles:"font-size:15px;line-height:1.1;font-weight:bold;"}),F=Object(v.a)(P.a,{target:"eyce8w26",label:"Meta"})("font-size:13px;line-height:1.5;margin:0;color:",(function(t){return t.theme.subText}),";");e.a=Object(v.a)(W,{target:"eyce8w27"})({name:"zcxndt",styles:"align-items:center;"})},2229:function(t,e,r){"use strict";var n=r(8),o=r.n(n),i=r(9),c=r.n(i),a=r(10),s=r.n(a),u=r(11),l=r.n(u),f=r(13),p=r.n(f),d=r(5),b=r.n(d),m=r(3),h=r(1),v=r.n(h),y=r(370),O=r(4),j=r(41),g=r(7),w=r(0);function R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function x(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?R(Object(r),!0).forEach((function(e){o()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=b()(t);if(e){var o=b()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p()(this,r)}}var P=function(t){l()(r,t);var e=k(r);function r(){var t;c()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).state={},t.dropdownButton=v.a.createRef(),t.handleRepoFilterChange=function(e){var r=t.props,n=r.router,o=r.location;n.push(x(x({},o),{},{query:x(x({},o.query),{},{cursor:void 0,activeRepo:e})}))},t}return s()(r,[{key:"componentDidMount",value:function(){this.setButtonDropDownWidth()}},{key:"setButtonDropDownWidth",value:function(){var t,e,r=null===(t=this.dropdownButton)||void 0===t?void 0:null===(e=t.current)||void 0===e?void 0:e.offsetWidth;r&&this.setState({dropdownButtonWidth:r})}},{key:"render",value:function(){var t=this,e=this.props,r=e.activeRepository,n=e.repositories,o=this.state.dropdownButtonWidth,i=null==r?void 0:r.name;return Object(w.f)(D,{minMenuWidth:o,label:Object(w.f)(v.a.Fragment,null,Object(w.f)(S,null,"".concat(Object(O.b)("Filter"),":")),i),buttonProps:{forwardRef:this.dropdownButton}},n.map((function(t){return t.name})).map((function(e){return Object(w.f)(y.a,{key:e,onSelect:t.handleRepoFilterChange,eventKey:e,isActive:e===i},Object(w.f)(C,null,e))})))}}]),r}(v.a.PureComponent);P.displayName="RepositorySwitcher",e.a=P;var D=Object(m.a)(y.b,{target:"ev1ou9t0",label:"StyledDropdownControl"})("margin-bottom:",Object(g.a)(1),";> *:nth-child(2){right:auto;width:auto;",(function(t){return t.minMenuWidth&&"min-width: calc(".concat(t.minMenuWidth,"px + 10px);")})," border-radius:",(function(t){return t.theme.borderRadius}),";border-top-left-radius:0px;border:1px solid ",(function(t){return t.theme.button.default.border}),";top:calc(100% - 1px);}"),S=Object(m.a)("em",{target:"ev1ou9t1",label:"FilterText"})("font-style:normal;color:",(function(t){return t.theme.gray300}),";margin-right:",Object(g.a)(.5),";"),C=Object(m.a)("div",{target:"ev1ou9t2",label:"RepoLabel"})(j.a)},2265:function(t,e,r){"use strict";var n=r(6),o=r.n(n),i=r(22),c=r.n(i),a=r(30),s=r.n(a),u=r(9),l=r.n(u),f=r(10),p=r.n(f),d=r(11),b=r.n(d),m=r(13),h=r.n(m),v=r(5),y=r.n(v),O=r(1),j=r.n(O),g=r(48),w=r(34),R=r(291),x=r(44),k=r(4),P=r(100),D=r(2041),S=r(26),C=r(118),I=r(16),U=r(426),E=r(0),W=function(t){var e=t.orgId;return Object(E.f)(C.a,{dashedBorder:!0},Object(E.f)(U.a,{icon:Object(E.f)(I.p,{size:"xl"}),title:Object(k.b)("Releases are better with commit data!"),description:Object(k.b)("Connect a repository to see commit info, files changed, and authors involved in future releases."),action:Object(E.f)(S.b,{priority:"primary",to:"/settings/".concat(e,"/repos/")},Object(k.b)("Connect a repository"))}))};W.displayName="NoRepoConnected";var z=W;function A(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=y()(t);if(e){var o=y()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h()(this,r)}}e.a=function(t){var e,r;return r=e=function(e){b()(i,e);var r,n=A(i);function i(){var t;l()(this,i);for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return(t=n.call.apply(n,[this].concat(r))).state={repositories:[],isLoading:!0},t}return p()(i,[{key:"componentDidMount",value:function(){this.fetchRepositories()}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){this.setActiveRepo(t)}},{key:"componentDidUpdate",value:function(t,e){e.repositories.length!==this.state.repositories.length&&this.setActiveRepo(this.props)}},{key:"setActiveRepo",value:function(t){var e,r=this.state,n=r.repositories,o=r.activeRepository;if(n.length){var i,c=null===(e=t.location.query)||void 0===e?void 0:e.activeRepo;if(c){if(c!==(null==o?void 0:o.name)){var a=n.find((function(t){return t.name===c}));a?this.setState({activeRepository:a}):Object(w.a)(Object(k.b)("The repository you were looking for was not found."))}}else this.setState({activeRepository:null!==(i=n[0])&&void 0!==i?i:null})}}},{key:"getEndpoint",value:function(){var t=this.props.params,e=t.release,r=t.orgId,n=this.context.project;return"/projects/".concat(r,"/").concat(n.slug,"/releases/").concat(encodeURIComponent(e),"/repositories/")}},{key:"fetchRepositories",value:(r=s()(c.a.mark((function t(){var e,r,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.props.params,r=e.release,this.setState({isLoading:!0}),t.prev=3,t.next=6,this.props.api.requestPromise(this.getEndpoint());case 6:n=t.sent,this.setState({repositories:n,isLoading:!1}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(3),g.c(t.t0),Object(w.a)(Object(k.b)("An error occured while trying to fetch the repositories of the release: %s",r));case 14:case"end":return t.stop()}}),t,this,[[3,10]])}))),function(){return r.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,r=e.isLoading,n=e.activeRepository,i=e.repositories;return r?Object(E.f)(x.default,null):i.length?void 0===n?Object(E.f)(x.default,null):Object(E.f)(t,o()({},this.props,{projectSlug:this.context.project.slug,repositories:i,activeRepository:n})):Object(E.f)(R.a,null,Object(E.f)(R.f,{fullWidth:!0},Object(E.f)(z,{orgId:this.props.params.orgId})))}}]),i}(j.a.Component),e.displayName="withRepositories(".concat(Object(P.a)(t),")"),e.contextType=D.ReleaseContext,r}},2797:function(t,e,r){"use strict";r.r(e);var n=r(8),o=r.n(n),i=r(9),c=r.n(i),a=r(10),s=r.n(a),u=r(126),l=r.n(u),f=r(11),p=r.n(f),d=r(13),b=r.n(d),m=r(5),h=r.n(m),v=r(1),y=r.n(v),O=r(2131),j=r(291),g=r(698),w=r(118),R=r(4),x=r(94),k=r(1888),P=r(50),D=r(1885),S=r(1995),C=r(2229),I=r(1996),U=r(2265),E=r(0);function W(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function z(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?W(Object(r),!0).forEach((function(e){o()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function A(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=h()(t);if(e){var o=h()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return b()(this,r)}}var B=function(t){p()(r,t);var e=A(r);function r(){return c()(this,r),e.apply(this,arguments)}return s()(r,[{key:"getTitle",value:function(){var t=this.props.params,e=t.orgId;return Object(k.a)(Object(R.b)("Commits - Release %s",Object(x.i)(t.release)),e,!1)}},{key:"getDefaultState",value:function(){return z(z({},l()(h()(r.prototype),"getDefaultState",this).call(this)),{},{commits:[]})}},{key:"getEndpoints",value:function(){var t=this.props,e=t.params,r=t.projectSlug,n=t.activeRepository,o=t.location,i=e.orgId,c=e.release,a=Object(I.c)({location:o,activeRepository:n});return[["commits","/projects/".concat(i,"/").concat(r,"/releases/").concat(encodeURIComponent(c),"/commits/"),{query:a}]]}},{key:"renderContent",value:function(){var t=this.state,e=t.commits,r=t.commitsPageLinks,n=this.props.activeRepository;if(!e.length)return Object(E.f)(S.a,null,n?Object(R.b)("There are no commits associated with this release in the %s repository.",n.name):Object(R.b)("There are no commits associated with this release."));var o=Object(I.a)(e),i=Object(I.e)(Object.keys(o));return Object(E.f)(y.a.Fragment,null,i.map((function(t){var e;return Object(E.f)(w.a,{key:t},Object(E.f)(w.e,null,t),Object(E.f)(w.c,null,null===(e=o[t])||void 0===e?void 0:e.map((function(t){return Object(E.f)(O.a,{key:t.id,commit:t})}))))})),Object(E.f)(g.a,{pageLinks:r}))}},{key:"renderBody",value:function(){var t=this.props,e=t.location,r=t.router,n=t.activeRepository,o=t.repositories;return Object(E.f)(y.a.Fragment,null,o.length>1&&Object(E.f)(C.a,{repositories:o,activeRepository:n,location:e,router:r}),this.renderContent())}},{key:"renderComponent",value:function(){return Object(E.f)(j.a,null,Object(E.f)(j.f,{fullWidth:!0},l()(h()(r.prototype),"renderComponent",this).call(this)))}}]),r}(D.a);e.default=Object(P.a)(Object(U.a)(B))}}]);
//# sourceMappingURL=ReleasesDetailCommits.js.map