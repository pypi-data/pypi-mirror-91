(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[118],{1890:function(e,t,n){"use strict";n(1);var a=n(259),r=n.n(a),i=n(0),o=function(e){var t="".concat(e.title," - ").concat(e.objSlug," - Sentry");return Object(i.f)(r.a,{title:t},e.children)};o.displayName="SentryDocumentTitle",t.a=o},1981:function(e,t,n){"use strict";function a(e){return"string"==typeof e?e.toLowerCase().replace(" ","-"):""}n.d(t,"a",(function(){return a}))},2009:function(e,t,n){"use strict";var a=n(6),r=n.n(a),i=n(15),o=n.n(i),c=(n(1),n(425)),l=n(70),s=n(16),u=n(4),b=n(0),f=function(e){var t=e.access,n=void 0===t?["org:write"]:t,a=o()(e,["access"]);return Object(b.f)(c.a,{access:n},(function(e){return!e.hasAccess&&Object(b.f)(l.b,r()({type:"warning",icon:Object(b.f)(s.Hb,{size:"sm"})},a),Object(u.b)("These settings can only be edited by users with the organization owner or manager role."))}))};f.displayName="PermissionAlert",t.a=f},2023:function(e,t,n){"use strict";var a=n(6),r=n.n(a),i=n(15),o=n.n(i),c=n(9),l=n.n(c),s=n(10),u=n.n(s),b=n(11),f=n.n(b),d=n(13),p=n.n(d),h=n(5),m=n.n(h),v=n(1),g=n.n(v),O=n(35),j=n.n(O),y=n(139),w=n(0);function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return p()(this,n)}}var z=function(e){f()(n,e);var t=R(n);function n(){return l()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.disabled,a=e.title,i=e.children,c=o()(e,["className","disabled","title","children"]);return Object(w.f)(y.a,r()({},c,{disabled:n}),Object(w.f)("a",{href:"#",className:j()(t||"",{disabled:n}),title:a},i))}}]),n}(g.a.PureComponent);z.displayName="LinkWithConfirmation",t.a=z},2176:function(e,t,n){"use strict";n.r(t),n.d(t,"route",(function(){return i}));var a=n(4),r=n(1981),i="/settings/:orgId/",o=[{title:Object(a.b)("General"),fields:[{name:"slug",type:"string",required:!0,label:Object(a.b)("Organization Slug"),help:Object(a.b)("A unique ID used to identify this organization"),transformInput:r.a,saveOnBlur:!1,saveMessageAlertType:"info",saveMessage:Object(a.b)("You will be redirected to the new organization slug after saving")},{name:"name",type:"string",required:!0,label:Object(a.b)("Display Name"),help:Object(a.b)("A human-friendly name for the organization")},{name:"isEarlyAdopter",type:"boolean",label:Object(a.b)("Early Adopter"),help:Object(a.b)("Opt-in to new features before they're released to the public")}]},{title:"Membership",fields:[{name:"defaultRole",type:"array",required:!0,label:Object(a.b)("Default Role"),choices:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n.initialData;return null!==(e=null==a?void 0:null===(t=a.availableRoles)||void 0===t?void 0:t.map((function(e){return[e.id,e.name]})))&&void 0!==e?e:[]},help:Object(a.b)("The default role new members will receive"),disabled:function(e){return!e.access.has("org:admin")}},{name:"openMembership",type:"boolean",required:!0,label:Object(a.b)("Open Membership"),help:Object(a.b)("Allow organization members to freely join or leave any team")},{name:"eventsMemberAdmin",type:"boolean",label:Object(a.b)("Grant Members Events Admin"),help:Object(a.b)("Allow members to delete events (including the delete & discard action) by granting them the `event:admin` scope.")},{name:"alertsMemberWrite",type:"boolean",label:Object(a.b)("Grant Members Alerts Write"),help:Object(a.b)("Allow members to create, edit, and delete alert rules by granting them the `alerts:write` scope.")},{name:"attachmentsRole",type:"array",choices:function(e){var t,n,a=e.initialData,r=void 0===a?{}:a;return null!==(t=null==r?void 0:null===(n=r.availableRoles)||void 0===n?void 0:n.map((function(e){return[e.id,e.name]})))&&void 0!==t?t:[]},label:Object(a.b)("Attachments Access"),help:Object(a.b)("Role required to download event attachments, such as native crash reports or log files."),visible:function(e){return e.features.has("event-attachments")}},{name:"debugFilesRole",type:"array",choices:function(e){var t,n,a=e.initialData,r=void 0===a?{}:a;return null!==(t=null==r?void 0:null===(n=r.availableRoles)||void 0===n?void 0:n.map((function(e){return[e.id,e.name]})))&&void 0!==t?t:[]},label:Object(a.b)("Debug Files Access"),help:Object(a.b)("Role required to download debug information files, proguard mappings and source maps.")}]}];t.default=o},2881:function(e,t,n){"use strict";n.r(t);var a=n(6),r=n.n(a),i=n(9),o=n.n(i),c=n(10),l=n.n(c),s=n(11),u=n.n(s),b=n(13),f=n.n(b),d=n(5),p=n.n(d),h=n(1),m=n.n(h),v=n(12),g=n(34),O=n(439),j=n(2023),y=n(118),w=n(1890),R=n(4),z=n(50),S=n(58),D=n(701),A=n(1886),M=n(699),N=n(2009),P=n(423),q=n(2382),E=n(2176),k=n(315),G=n(318),I=n(0);function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=p()(e);if(t){var r=p()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return f()(this,n)}}var C=function(e){u()(n,e);var t=T(n);function n(){return o()(this,n),t.apply(this,arguments)}return l()(n,[{key:"getEndpoints",value:function(){var e=this.props.organization;return[["authProvider","/organizations/".concat(e.slug,"/auth-provider/")]]}},{key:"render",value:function(){var e=this.props,t=e.initialData,n=e.organization,a=e.onSave,i=e.access,o=this.state.authProvider,c="/organizations/".concat(n.slug,"/"),l={additionalFieldProps:{hasSsoEnabled:!!o},features:new Set(n.features),access:i,location:this.props.location,disabled:!i.has("org:write")};return Object(I.f)(k.a,{"data-test-id":"organization-settings",apiMethod:"PUT",apiEndpoint:c,saveOnBlur:!0,allowUndo:!0,initialData:t,onSubmitSuccess:function(e,n){"function"==typeof a&&a(t,n.initialData)},onSubmitError:function(){return Object(g.a)("Unable to save change")}},Object(I.f)(G.a,r()({},l,{forms:E.default})),Object(I.f)(q.a,{type:"organization",allowGravatar:!1,endpoint:"".concat(c,"avatar/"),model:t,onSave:O.h,disabled:!i.has("org:write")}))}}]),n}(P.a);C.displayName="OrganizationSettingsForm";var F=Object(S.a)(C);function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=p()(e);if(t){var r=p()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return f()(this,n)}}var x=function(e){u()(n,e);var t=W(n);function n(){var e;o()(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleRemoveOrganization=function(){var t=e.props,n=t.api,a=t.organization,r=t.params;a&&(Object(g.b)(),Object(O.e)(n,{orgId:r.orgId,successMessage:"".concat(a.name," is queued for deletion."),errorMessage:"Error removing the ".concat(a.name," organization")}))},e.handleSave=function(e,t){t.slug&&t.slug!==e.slug?(Object(O.a)(e,t),v.browserHistory.replace("/settings/".concat(t.slug,"/"))):Object(O.h)(t)},e}return l()(n,[{key:"render",value:function(){var e=this.props,t=e.organization,n=e.params.orgId,a=new Set(t.access),i=t.projects&&!!t.projects.length;return Object(I.f)(m.a.Fragment,null,Object(I.f)(w.a,{title:Object(R.b)("General Settings"),objSlug:n}),Object(I.f)("div",null,Object(I.f)(A.a,{title:Object(R.b)("Organization Settings")}),Object(I.f)(N.a,null),Object(I.f)(F,r()({},this.props,{initialData:t,access:a,onSave:this.handleSave})),a.has("org:admin")&&!t.isDefault&&Object(I.f)(y.a,null,Object(I.f)(y.e,null,Object(R.b)("Remove Organization")),Object(I.f)(D.a,{label:Object(R.b)("Remove Organization"),help:Object(R.b)("Removing this organization will delete all data including projects and their associated events.")},Object(I.f)("div",null,Object(I.f)(j.a,{className:"btn btn-danger",priority:"danger",title:Object(R.b)("Remove %s organization",t&&t.name),message:Object(I.f)("div",null,Object(I.f)(M.a,null,Object(R.c)("Removing the organization, [name] is permanent and cannot be undone! Are you sure you want to continue?",{name:t&&Object(I.f)("strong",null,t.name)})),i&&Object(I.f)("div",null,Object(I.f)(M.a,{noMargin:!0},Object(R.b)("This will also remove the following associated projects:")),Object(I.f)("ul",{className:"ref-projects"},t.projects.map((function(e){return Object(I.f)("li",{key:e.slug},e.slug)}))))),onConfirm:this.handleRemoveOrganization},Object(R.b)("Remove Organization")))))))}}]),n}(m.a.Component);x.displayName="OrganizationGeneralSettings";t.default=Object(z.a)(Object(S.a)(x))}}]);
//# sourceMappingURL=OrganizationGeneralSettings.js.map