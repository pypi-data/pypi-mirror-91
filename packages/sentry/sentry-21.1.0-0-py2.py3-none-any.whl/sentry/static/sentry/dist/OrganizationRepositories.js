(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[126],{1885:function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var r=n(9),a=n.n(r),o=n(10),i=n.n(o),c=n(11),s=n.n(c),u=n(13),l=n.n(u),f=n(5),b=n.n(f),p=(n(1),n(259)),d=n.n(p),y=n(423),h=n(0);function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b()(t);if(e){var a=b()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l()(this,n)}}var g=function(t){s()(n,t);var e=O(n);function n(){return a()(this,n),e.apply(this,arguments)}return i()(n,[{key:"getTitle",value:function(){return""}},{key:"render",value:function(){var t=this.getTitle();return Object(h.f)(d.a,{title:"".concat(t?"".concat(t," - "):"","Sentry")},this.renderComponent())}}]),n}(y.a);g.displayName="AsyncView"},1886:function(t,e,n){"use strict";var r=n(15),a=n.n(r),o=n(9),i=n.n(o),c=n(10),s=n.n(c),u=n(11),l=n.n(u),f=n(13),b=n.n(f),p=n(5),d=n.n(p),y=n(3),h=n(1),O=n.n(h),g=n(217),j=n(7),m=n(0);function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var a=d()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}var R=function(t){l()(n,t);var e=v(n);function n(){return i()(this,n),e.apply(this,arguments)}return s()(n,[{key:"render",value:function(){var t=this.props,e=t.icon,n=t.title,r=t.subtitle,o=t.action,i=t.tabs,c=t.noTitleStyles,s=t.body,u=a()(t,["icon","title","subtitle","action","tabs","noTitleStyles","body"]),l=!r;return Object(m.f)("div",u,Object(m.f)(w,{isNarrow:l},Object(m.f)(S,null,e&&Object(m.f)(D,null,e),n&&Object(m.f)(I,{tabs:i,styled:c},Object(m.f)(g.a,null,n),r&&Object(m.f)(k,null,r))),o&&Object(m.f)(x,{isNarrow:l},o)),s&&Object(m.f)(T,null,s),i&&Object(m.f)(L,null,i))}}]),n}(O.a.Component);R.displayName="UnstyledSettingsPageHeader",R.defaultProps={noTitleStyles:!1};var w=Object(y.a)("div",{target:"e1uay4fd0",label:"TitleAndActions"})("display:flex;align-items:",(function(t){return t.isNarrow?"center":"flex-start"}),";"),S=Object(y.a)("div",{target:"e1uay4fd1",label:"TitleWrapper"})({name:"1rr4qq7",styles:"flex:1;"}),I=Object(y.a)("div",{target:"e1uay4fd2",label:"Title"})((function(t){return!t.styled&&"font-size: 20px; font-weight: 600;"}),";margin:",Object(j.a)(4)," ",Object(j.a)(2)," ",Object(j.a)(3)," 0;"),k=Object(y.a)("div",{target:"e1uay4fd3",label:"Subtitle"})("color:",(function(t){return t.theme.gray400}),";font-weight:400;font-size:",(function(t){return t.theme.fontSizeLarge}),";padding:",Object(j.a)(1.5)," 0 0;"),D=Object(y.a)("div",{target:"e1uay4fd4",label:"Icon"})("margin-right:",Object(j.a)(1),";"),x=Object(y.a)("div",{target:"e1uay4fd5",label:"Action"})("margin-top:",(function(t){return t.isNarrow?"0":Object(j.a)(4)}),";"),P=Object(y.a)(R,{target:"e1uay4fd6",label:"SettingsPageHeader"})("font-size:14px;margin-top:-",Object(j.a)(4),";"),T=Object(y.a)("div",{target:"e1uay4fd7",label:"BodyWrapper"})("flex:1;margin:0 0 ",Object(j.a)(3),";"),L=Object(y.a)("div",{target:"e1uay4fd8",label:"TabsWrapper"})({name:"8k0ai7",styles:"flex:1;margin:0;"});e.a=P},1888:function(t,e,n){"use strict";e.a=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r="".concat(t," - ").concat(e);return n?"".concat(r," - Sentry"):r}},1914:function(t,e,n){"use strict";var r=n(6),a=n.n(r),o=n(15),i=n.n(o),c=n(9),s=n.n(c),u=n(10),l=n.n(u),f=n(11),b=n.n(f),p=n(13),d=n.n(p),y=n(5),h=n.n(y),O=n(3),g=n(1),j=n.n(g),m=n(114),v=n.n(m),R=n(53),w=n(67),S=n(16),I=n(7),k=n(0);function D(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d()(this,n)}}var x=function(t){b()(n,t);var e=D(n);function n(){return s()(this,n),e.apply(this,arguments)}return l()(n,[{key:"render",value:function(){var t=this.props,e=t.size,n=t.priority,r=t.icon,a=t.children,o=t.onClick,i=t.withoutMarginBottom,c=t.openInNewTab,s=t.to,u=t.href,l=t["data-test-id"];return Object(k.f)(P,{"data-test-id":l,to:s,href:u,onClick:o,size:e,priority:n,withoutMarginBottom:i,openInNewTab:c},r&&Object(k.f)(T,null,r),Object(k.f)(N,null,a),Object(k.f)(L,null,Object(k.f)(S.j,{direction:"right"})))}}]),n}(j.a.Component);x.displayName="AlertLink",x.defaultProps={priority:"warning",size:"normal",withoutMarginBottom:!1,openInNewTab:!1},e.a=x;var P=Object(O.a)((function(t){var e=t.openInNewTab,n=t.to,r=t.href,o=i()(t,["openInNewTab","to","href"]),c=v()(o,["withoutMarginBottom","priority","size"]);return r?Object(k.f)(R.a,a()({},c,{href:r,openInNewTab:e})):Object(k.f)(w.a,a()({},c,{to:n||""}))}),{target:"e1ylhppg0",label:"StyledLink"})("display:flex;background-color:",(function(t){return t.theme.alert[t.priority].backgroundLight}),";color:",(function(t){return t.theme.textColor}),";border:1px dashed ",(function(t){return t.theme.alert[t.priority].border}),";padding:",(function(t){return"small"===t.size?"".concat(Object(I.a)(1)," ").concat(Object(I.a)(1.5)):Object(I.a)(2)}),";margin-bottom:",(function(t){return t.withoutMarginBottom?0:Object(I.a)(3)}),";border-radius:0.25em;transition:0.2s border-color;&.focus-visible{outline:none;box-shadow:",(function(t){return t.theme.alert[t.priority].border}),"7f 0 0 0 2px;}"),T=Object(O.a)("span",{target:"e1ylhppg1",label:"IconWrapper"})("display:flex;margin:",Object(I.a)(.5)," ",Object(I.a)(1.5)," ",Object(I.a)(.5)," 0;"),L=Object(O.a)(T,{target:"e1ylhppg2",label:"IconLink"})("margin:",Object(I.a)(.5)," 0;"),N=Object(O.a)("div",{target:"e1ylhppg3",label:"AlertLinkText"})({name:"56nju3",styles:"line-height:1.5;flex-grow:1;"})},2128:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return c})),n.d(e,"d",(function(){return u})),n.d(e,"a",(function(){return l}));var r=n(34),a=n(55),o=n(4);new a.a;function i(t,e,n){Object(r.b)();var a=t.requestPromise("/organizations/".concat(e,"/repos/").concat(n,"/"),{method:"DELETE"});return a.then((function(){return Object(r.e)()}),(function(){return Object(r.a)(Object(o.b)("Unable to delete repository."))})),a}function c(t,e,n){Object(r.b)();var a=t.requestPromise("/organizations/".concat(e,"/repos/").concat(n,"/"),{method:"PUT",data:{status:"visible"}});return a.then((function(){return Object(r.e)()}),(function(){return Object(r.a)(Object(o.b)("Unable to cancel deletion."))})),a}function s(t){return t.then((function(t){var e=Object(o.c)("[repo] has been successfully added.",{repo:t.name});Object(r.d)(e)}),(function(t){var e=t.responseJSON.errors?t.responseJSON.errors.__all__:Object(o.b)("Unable to add repository.");Object(r.a)(e)})),t}function u(t,e,n,a){var o={integrationId:a.id};return Object(r.b)(),s(t.requestPromise("/organizations/".concat(e,"/repos/").concat(n,"/"),{data:o,method:"PUT"}))}function l(t,e,n,a){var o={installation:a.id,identifier:n,provider:"integrations:".concat(a.provider.key)};return Object(r.b)(),s(t.requestPromise("/organizations/".concat(e,"/repos/"),{method:"POST",data:o}))}},2179:function(t,e,n){"use strict";var r=n(9),a=n.n(r),o=n(10),i=n.n(o),c=n(11),s=n.n(c),u=n(13),l=n.n(u),f=n(5),b=n.n(f),p=n(3),d=n(1),y=n.n(d),h=n(2128),O=n(425),g=n(26),j=n(139),m=n(118),v=n(32),R=n(16),w=n(4),S=n(7),I=n(47),k=n(0);function D(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b()(t);if(e){var a=b()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l()(this,n)}}var x=function(t){s()(n,t);var e=D(n);function n(){var t;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).cancelDelete=function(){var e=t.props,n=e.api,r=e.orgId,a=e.repository,o=e.onRepositoryChange;Object(h.b)(n,r,a.id).then((function(t){o&&o(t)}),(function(){}))},t.deleteRepo=function(){var e=t.props,n=e.api,r=e.orgId,a=e.repository,o=e.onRepositoryChange;Object(h.c)(n,r,a.id).then((function(t){o&&o(t)}),(function(){}))},t}return i()(n,[{key:"getStatusLabel",value:function(t){switch(t.status){case I.e.PENDING_DELETION:return"Deletion Queued";case I.e.DELETION_IN_PROGRESS:return"Deletion in Progress";case I.e.DISABLED:case I.e.HIDDEN:return"Disabled";default:return null}}},{key:"render",value:function(){var t=this,e=this.props,n=e.repository,r=e.showProvider,a=this.isActive;return Object(k.f)(O.a,{access:["org:integrations"]},(function(e){var o=e.hasAccess;return Object(k.f)(P,{status:n.status},Object(k.f)(L,null,Object(k.f)(N,null,Object(k.f)("strong",null,n.name),!a&&Object(k.f)("small",null," — ",t.getStatusLabel(n)),n.status===I.e.PENDING_DELETION&&Object(k.f)(T,{size:"xsmall",onClick:t.cancelDelete,disabled:!o,"data-test-id":"repo-cancel"},Object(w.b)("Cancel"))),Object(k.f)("div",null,r&&Object(k.f)("small",null,n.provider.name),r&&n.url&&Object(k.f)("span",null," — "),n.url&&Object(k.f)("small",null,Object(k.f)("a",{href:n.url},n.url.replace("https://",""))))),Object(k.f)(v.a,{title:Object(w.b)("You must be an organization owner, manager or admin to remove a repository."),disabled:o},Object(k.f)(j.a,{disabled:!o||!a&&n.status!==I.e.DISABLED,onConfirm:t.deleteRepo,message:Object(w.b)("Are you sure you want to remove this repository? All associated commit data will be removed in addition to the repository.")},Object(k.f)(g.b,{size:"xsmall",icon:Object(k.f)(R.r,{size:"xs"}),label:Object(w.b)("delete"),disabled:!o}))))}))}},{key:"isActive",get:function(){return this.props.repository.status===I.e.ACTIVE}}]),n}(y.a.Component);x.displayName="RepositoryRow",x.defaultProps={showProvider:!1};var P=Object(p.a)(m.f,{target:"e1ymnanf0",label:"StyledPanelItem"})("padding:",Object(S.a)(1)," ",Object(S.a)(2)," ",Object(S.a)(2),";justify-content:space-between;align-items:center;flex:1;",(function(t){return t.status===I.e.DISABLED&&"\n    filter: grayscale(1);\n    opacity: 0.4;\n  "}),";&:last-child{border-bottom:none;}"),T=Object(p.a)(g.b,{target:"e1ymnanf1",label:"StyledButton"})("margin-left:",Object(S.a)(1),";"),L=Object(p.a)("div",{target:"e1ymnanf2",label:"RepositoryTitleAndUrl"})({name:"j7qwjs",styles:"display:flex;flex-direction:column;"}),N=Object(p.a)("div",{target:"e1ymnanf3",label:"RepositoryTitle"})("margin-bottom:",Object(S.a)(1),";line-height:26px;");e.a=x},2887:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return z}));var r=n(6),a=n.n(r),o=n(9),i=n.n(o),c=n(10),s=n.n(c),u=n(11),l=n.n(u),f=n(13),b=n.n(f),p=n(5),d=n.n(p),y=n(1),h=n.n(y),O=n(698),g=n(4),j=n(1888),m=n(1885),v=n(1914),R=n(26),w=n(118),S=n(2179),I=n(16),k=n(426),D=n(1886),x=n(699),P=n(0),T=function(t){var e=t.itemList,n=t.onRepositoryChange,r=t.api,a=t.params.orgId,o=e&&e.length>0;return Object(P.f)("div",null,Object(P.f)(D.a,{title:Object(g.b)("Repositories")}),Object(P.f)(v.a,{to:"/settings/".concat(a,"/integrations/")},Object(g.b)("Want to add a repository to start tracking commits? Install or configure your version control integration here.")),!o&&Object(P.f)("div",{className:"m-b-2"},Object(P.f)(x.a,null,Object(g.b)("Connecting a repository allows Sentry to capture commit data via webhooks. This enables features like suggested assignees and resolving issues via commit message. Once you've connected a repository, you can associate commits with releases via the API.")," ",Object(g.c)("See our [link:documentation] for more details.",{link:Object(P.f)("a",{href:"https://docs.sentry.io/learn/releases/"})}))),o?Object(P.f)(w.a,null,Object(P.f)(w.e,null,Object(g.b)("Added Repositories")),Object(P.f)(w.c,null,Object(P.f)("div",null,e.map((function(t){return Object(P.f)(S.a,{key:t.id,repository:t,api:r,showProvider:!0,orgId:a,onRepositoryChange:n})}))))):Object(P.f)(w.a,null,Object(P.f)(k.a,{icon:Object(P.f)(I.p,{size:"xl"}),title:Object(g.b)("Sentry is better with commit data"),description:Object(g.b)("Adding one or more repositories will enable enhanced releases and the ability to resolve Sentry Issues via git message."),action:Object(P.f)(R.b,{href:"https://docs.sentry.io/learn/releases/"},Object(g.b)("Learn more"))})))};T.displayName="OrganizationRepositories";var L=T;function N(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var a=d()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}var z=function(t){l()(n,t);var e=N(n);function n(){var t;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).onRepositoryChange=function(e){var n=t.state.itemList;null==n||n.forEach((function(t){t.id===e.id&&(t.status=e.status)})),t.setState({itemList:n})},t}return s()(n,[{key:"getEndpoints",value:function(){var t=this.props.params.orgId;return[["itemList","/organizations/".concat(t,"/repos/"),{query:{status:""}}],["repoConfig","/organizations/".concat(t,"/config/repos/")]]}},{key:"getTitle",value:function(){var t=this.props.params.orgId;return Object(j.a)(Object(g.b)("Repositories"),t,!1)}},{key:"renderBody",value:function(){return Object(P.f)(h.a.Fragment,null,Object(P.f)(L,a()({},this.props,{itemList:this.state.itemList,api:this.api,onRepositoryChange:this.onRepositoryChange})),this.state.itemListPageLinks&&Object(P.f)(O.a,a()({pageLinks:this.state.itemListPageLinks},this.props)))}}]),n}(m.a)}}]);
//# sourceMappingURL=OrganizationRepositories.js.map