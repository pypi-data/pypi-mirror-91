(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[86],{2050:function(e,t,r){"use strict";r(1);var n=r(26),a=r(53),s=r(16),i=r(4),o=r(21),c=r(0),u=[{icon:Object(c.f)(s.D,{size:"xs"}),providerIds:["github","integrations:github","integrations:github_enterprise"],commitUrl:function(e){var t=e.baseUrl,r=e.commitId;return"".concat(t,"/commit/").concat(r)}},{icon:Object(c.f)(s.e,{size:"xs"}),providerIds:["bitbucket","integrations:bitbucket"],commitUrl:function(e){var t=e.baseUrl,r=e.commitId;return"".concat(t,"/commits/").concat(r)}},{icon:Object(c.f)(s.Gb,{size:"xs"}),providerIds:["visualstudio","integrations:vsts"],commitUrl:function(e){var t=e.baseUrl,r=e.commitId;return"".concat(t,"/commit/").concat(r)}},{icon:Object(c.f)(s.E,{size:"xs"}),providerIds:["gitlab","integrations:gitlab"],commitUrl:function(e){var t=e.baseUrl,r=e.commitId;return"".concat(t,"/commit/").concat(r)}}];t.a=function(e){var t=e.inline,r=e.commitId,s=e.repository;if(!r||!s)return Object(c.f)("span",null,Object(i.b)("Unknown Commit"));var d=Object(o.l)(r),l=u.find((function(e){return!!s.provider&&e.providerIds.includes(s.provider.id)}));if(void 0===l)return Object(c.f)("span",null,d);var b=s.url&&l.commitUrl({commitId:r,baseUrl:s.url});return t?Object(c.f)(a.a,{className:"inline-commit",href:b},l.icon," "+d):Object(c.f)(n.b,{external:!0,href:b,size:"small",icon:l.icon},d)}},2219:function(e,t,r){"use strict";var n=r(9),a=r.n(n),s=r(10),i=r.n(s),o=r(11),c=r.n(o),u=r(13),d=r.n(u),l=r(5),b=r.n(l),p=r(3),f=r(1),h=r.n(f),O=r(720),m=r(67),v=r(16),g=r(4),j=r(7),y=r(137),S=r(0);function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=b()(e);if(t){var a=b()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return d()(this,r)}}var I=function(e){c()(r,e);var t=E(r);function r(){var e;a()(this,r);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={isBannerHidden:"true"===y.a.getItem(e.getBannerUniqueId())},e.handleBannerDismiss=function(){y.a.setItem(e.getBannerUniqueId(),"true"),e.setState({isBannerHidden:!0})},e}return i()(r,[{key:"getBannerUniqueId",value:function(){var e=this.props.reprocessActivity.id;return"reprocessed-activity-".concat(e,"-banner-dismissed")}},{key:"render",value:function(){var e=this.props,t=e.orgSlug,r=e.reprocessActivity,n=e.groupCount,a=e.className,s=r.data,i=s.eventCount,o=s.oldGroupId;if(this.state.isBannerHidden)return null;var c=Object(S.f)(m.a,{to:"/organizations/".concat(t,"/issues/?query=reprocessing.original_issue_id:").concat(o)},Object(g.d)("See %s new event","See %s new events",i));return Object(S.f)(O.a,{priority:"success",className:a},Object(S.f)(N,null,Object(S.f)(v.i,{color:"green300",isCircled:!0}),Object(S.f)("span",null,0===n?Object(g.c)("All events in this issue were moved during reprocessing. [link]",{link:c}):Object(g.c)("Events in this issue were successfully reprocessed. [link]",{link:c})),Object(S.f)(R,{color:"green300","aria-label":Object(g.b)("Dismiss"),isCircled:!0,onClick:this.handleBannerDismiss})))}}]),r}(h.a.Component);I.displayName="ReprocessedBox",t.a=I;var N=Object(p.a)(O.b,{target:"e2r0jxr0",label:"StyledBannerSummary"})("& > svg:last-child{margin-right:0;margin-left:",Object(j.a)(1),";}"),R=Object(p.a)(v.n,{target:"e2r0jxr1",label:"StyledIconClose"})({name:"4g6ai3",styles:"cursor:pointer;"})},2220:function(e,t,r){"use strict";r(1);var n=r(53),a=r(16),s=r(0);t.a=function(e){var t=e.pullRequest,r=e.repository,i=e.inline,o="".concat(r.name," #").concat(t.id,": ").concat(t.title);return t.externalUrl?Object(s.f)(n.a,{className:i?"inline-commit":"btn btn-default btn-sm",href:t.externalUrl},function(e){if(!e.provider)return null;var t=e.provider.id;switch(t.includes(":")?t.split(":").pop():t){case"github":return Object(s.f)(a.D,{size:"xs"});case"gitlab":return Object(s.f)(a.E,{size:"xs"});case"bitbucket":return Object(s.f)(a.e,{size:"xs"});default:return null}}(r),i?"":" ",o):Object(s.f)("span",null,o)}},2899:function(e,t,r){"use strict";r.r(t),r.d(t,"GroupActivity",(function(){return ee}));var n=r(6),a=r.n(n),s=r(22),i=r.n(s),o=r(30),c=r.n(o),u=r(9),d=r.n(u),l=r(10),b=r.n(l),p=r(11),f=r.n(p),h=r(13),O=r.n(h),m=r(5),v=r.n(m),g=r(3),j=r(1),y=r.n(j),S=r(523),E=r(34),I=r(2064),N=r(2033),R=r(2380),U=r(2316),w=r(153),_=r(2219),k=r(33),C=r(4),x=r(36),D=r(7),T=r(47),A=r(156),B=r(50),$=r(58),G=r(8),z=r.n(G),V=r(121),L=r.n(V),J=r(2050),P=r(434),q=r(67),H=r(2220),W=r(427),M=r(171),F=r(223),K=r(0);function Q(e){var t=e.activity,r=e.orgSlug,n=e.projectId,a=e.author,s="/organizations/".concat(r,"/issues/");return Object(K.f)(y.a.Fragment,null,function(){switch(t.type){case T.b.NOTE:return Object(C.c)("[author] left a comment",{author:a});case T.b.SET_RESOLVED:return Object(C.c)("[author] marked this issue as resolved",{author:a});case T.b.SET_RESOLVED_BY_AGE:return Object(C.c)("[author] marked this issue as resolved due to inactivity",{author:a});case T.b.SET_RESOLVED_IN_RELEASE:return t.data.version?Object(C.c)("[author] marked this issue as resolved in [version]",{author:a,version:Object(K.f)(W.a,{version:t.data.version,projectId:n,tooltipRawVersion:!0})}):Object(C.c)("[author] marked this issue as resolved in the upcoming release",{author:a});case T.b.SET_RESOLVED_IN_COMMIT:return Object(C.c)("[author] marked this issue as resolved in [version]",{author:a,version:Object(K.f)(J.a,{inline:!0,commitId:t.data.commit.id,repository:t.data.commit.repository})});case T.b.SET_RESOLVED_IN_PULL_REQUEST:var e=t.data.pullRequest;return Object(C.c)("[author] marked this issue as resolved in [version]",{author:a,version:Object(K.f)(H.a,{inline:!0,pullRequest:e,repository:e.repository})});case T.b.SET_UNRESOLVED:return Object(C.c)("[author] marked this issue as unresolved",{author:a});case T.b.SET_IGNORED:return function(e){return e.ignoreDuration?Object(C.c)("[author] ignored this issue for [duration]",{author:a,duration:Object(K.f)(P.a,{seconds:60*e.ignoreDuration})}):e.ignoreCount&&e.ignoreWindow?Object(C.c)("[author] ignored this issue until it happens [count] time(s) in [duration]",{author:a,count:e.ignoreCount,duration:Object(K.f)(P.a,{seconds:60*e.ignoreWindow})}):e.ignoreCount?Object(C.c)("[author] ignored this issue until it happens [count] time(s)",{author:a,count:e.ignoreCount}):e.ignoreUserCount&&e.ignoreUserWindow?Object(C.c)("[author] ignored this issue until it affects [count] user(s) in [duration]",{author:a,count:e.ignoreUserCount,duration:Object(K.f)(P.a,{seconds:60*e.ignoreUserWindow})}):e.ignoreUserCount?Object(C.c)("[author] ignored this issue until it affects [count] user(s)",{author:a,count:e.ignoreUserCount}):Object(C.c)("[author] ignored this issue",{author:a})}(t.data);case T.b.SET_PUBLIC:return Object(C.c)("[author] made this issue public",{author:a});case T.b.SET_PRIVATE:return Object(C.c)("[author] made this issue private",{author:a});case T.b.SET_REGRESSION:var i=t.data;return i.version?Object(C.c)("[author] marked this issue as a regression in [version]",{author:a,version:Object(K.f)(W.a,{version:i.version,projectId:n,tooltipRawVersion:!0})}):Object(C.c)("[author] marked this issue as a regression",{author:a});case T.b.CREATE_ISSUE:var o=t.data;return Object(C.c)("[author] created an issue on [provider] titled [title]",{author:a,provider:o.provider,title:Object(K.f)(q.a,{to:o.location},o.title)});case T.b.UNMERGE_SOURCE:var c=t.data,u=c.destination,d=c.fingerprints;return Object(C.d)("%2$s migrated %1$s fingerprint to %3$s","%2$s migrated %1$s fingerprints to %3$s",d.length,a,u?Object(K.f)(q.a,{to:"".concat(s).concat(u.id)},u.shortId):Object(C.b)("a group"));case T.b.UNMERGE_DESTINATION:var l=t.data,b=l.source,p=l.fingerprints;return Object(C.d)("%2$s migrated %1$s fingerprint from %3$s","%2$s migrated %1$s fingerprints from %3$s",p.length,a,b?Object(K.f)(q.a,{to:"".concat(s).concat(b.id)},b.shortId):Object(C.b)("a group"));case T.b.FIRST_SEEN:return Object(C.c)("[author] first saw this issue",{author:a});case T.b.ASSIGNED:return function(e){var r,n=void 0;if("team"===e.assigneeType){var s=F.a.getById(e.assignee);return n=s?s.slug:"<unknown-team>",Object(C.c)("[author] assigned this issue to #[assignee]",{author:a,assignee:n})}return t.user&&t.assignee===t.user.id?Object(C.c)("[author] assigned this issue to themselves",{author:a}):(n=M.a.getById(e.assignee),"object"===L()(n)&&(null===(r=n)||void 0===r?void 0:r.email)?Object(C.c)("[author] assigned this issue to [assignee]",{author:a,assignee:n.email}):Object(C.c)("[author] assigned this issue to an unknown user",{author:a}))}(t.data);case T.b.UNASSIGNED:return Object(C.c)("[author] unassigned this issue",{author:a});case T.b.MERGE:return Object(C.d)("%2$s merged %1$s issue into this issue","%2$s merged %1$s issues into this issue",t.data.issues.length,a);case T.b.REPROCESS:var f=t.data,h=f.oldGroupId,O=f.eventCount;return Object(C.c)("[author] reprocessed the events in this issue. [new-events]",z()({author:a},"new-events",Object(K.f)(q.a,{to:"/organizations/".concat(r,"/issues/?query=reprocessing.original_issue_id:").concat(h)},Object(C.d)("See %s new event","See %s new events",O))));default:return""}}())}Q.displayName="GroupActivityItem";var Y=Q,X=r(340);function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v()(e);if(t){var a=v()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return O()(this,r)}}var ee=function(e){f()(r,e);var t=Z(r);function r(){var e;d()(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={createBusy:!1,error:!1,errorJSON:null,inputId:Object(A.a)()},e.handleNoteDelete=function(){var t=c()(i.a.mark((function t(r){var n,a,s,o,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.modelId,a=r.text,s=e.props,o=s.api,c=s.group,Object(E.b)(Object(C.b)("Removing comment...")),t.prev=3,t.next=6,Object(S.e)(o,c,n,a);case 6:Object(E.e)(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),Object(E.a)(Object(C.b)("Failed to delete comment"));case 12:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e){return t.apply(this,arguments)}}(),e.handleNoteCreate=function(){var t=c()(i.a.mark((function t(r){var n,a,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,a=n.api,s=n.group,e.setState({createBusy:!0}),Object(E.b)(Object(C.b)("Posting comment...")),t.prev=3,t.next=6,Object(S.d)(a,s,r);case 6:e.setState({createBusy:!1,inputId:Object(A.a)()}),Object(E.e)(),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(3),e.setState({createBusy:!1,error:!0,errorJSON:t.t0.responseJSON||k.i}),Object(E.a)(Object(C.b)("Unable to post comment"));case 14:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}(),e.handleNoteUpdate=function(){var t=c()(i.a.mark((function t(r,n){var a,s,o,c,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.modelId,s=n.text,o=e.props,c=o.api,u=o.group,Object(E.b)(Object(C.b)("Updating comment...")),t.prev=3,t.next=6,Object(S.f)(c,u,r,a,s);case 6:Object(E.e)(),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(3),e.setState({error:!0,errorJSON:t.t0.responseJSON||k.i}),Object(E.a)(Object(C.b)("Unable to update comment"));case 13:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e,r){return t.apply(this,arguments)}}(),e}return b()(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.group,n=t.organization,s=r.activity,i=r.count,o=Number(i),c=Object(X.e)(s),u=Object(X.f)(r,c),d=x.default.get("user"),l=r&&r.project?[r.project.slug]:[],b={minHeight:140,group:r,projectSlugs:l,placeholder:Object(C.b)("Add details or updates to this event. \nTag users with @, or teams with #")};return Object(K.f)(y.a.Fragment,null,(u===X.a.REPROCESSED_AND_HASNT_EVENT||u===X.a.REPROCESSED_AND_HAS_EVENT)&&Object(K.f)(te,{reprocessActivity:c,groupCount:o,orgSlug:n.slug}),Object(K.f)("div",{className:"row"},Object(K.f)("div",{className:"col-md-9"},Object(K.f)("div",null,Object(K.f)(N.a,{author:{type:"user",user:d}},(function(){return Object(K.f)(U.a,a()({key:e.state.inputId,storageKey:"groupinput:latest",itemKey:r.id,onCreate:e.handleNoteCreate,busy:e.state.createBusy,error:e.state.error,errorJSON:e.state.errorJSON},b))})),r.activity.map((function(t){var n,s=t.user?t.user.name:"Sentry";return t.type===T.b.NOTE?Object(K.f)(w.a,{mini:!0,key:"note-".concat(t.id)},Object(K.f)(R.a,a()({showTime:!1,text:t.data.text,modelId:t.id,user:t.user,dateCreated:t.dateCreated,authorName:s,onDelete:e.handleNoteDelete,onUpdate:e.handleNoteUpdate},b))):Object(K.f)(w.a,{mini:!0,key:"item-".concat(t.id)},Object(K.f)(N.a,{author:{type:t.user?"user":"system",user:null!==(n=t.user)&&void 0!==n?n:void 0},date:t.dateCreated,header:Object(K.f)(Y,{author:Object(K.f)(I.a,null,s),activity:t,orgSlug:e.props.params.orgId,projectId:r.project.id})}))}))))))}}]),r}(y.a.Component);ee.displayName="GroupActivity";t.default=Object(B.a)(Object($.a)(ee));var te=Object(g.a)(_.a,{target:"ergnc8n0",label:"StyledReprocessedBox"})("margin:-",Object(D.a)(3)," -",Object(D.a)(4)," ",Object(D.a)(4)," -",Object(D.a)(4),";z-index:1;")}}]);
//# sourceMappingURL=GroupActivity.js.map