(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[49],{1885:function(t,e,n){"use strict";n.d(e,"a",(function(){return j}));var r=n(9),a=n.n(r),i=n(10),c=n.n(i),o=n(11),s=n.n(o),u=n(13),l=n.n(u),f=n(5),h=n.n(f),p=(n(1),n(259)),d=n.n(p),b=n(423),y=n(0);function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l()(this,n)}}var j=function(t){s()(n,t);var e=v(n);function n(){return a()(this,n),e.apply(this,arguments)}return c()(n,[{key:"getTitle",value:function(){return""}},{key:"render",value:function(){var t=this.getTitle();return Object(y.f)(d.a,{title:"".concat(t?"".concat(t," - "):"","Sentry")},this.renderComponent())}}]),n}(b.a);j.displayName="AsyncView"},2119:function(t,e,n){"use strict";var r=n(29),a=n.n(r),i=n(9),c=n.n(i),o=n(10),s=n.n(o),u=n(11),l=n.n(u),f=n(13),h=n.n(f),p=n(5),d=n.n(p),b=n(1),y=n.n(b),v=n(709),j=n(134),O=n(44),g=n(50),m=n(0);function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var a=d()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var k=function(t){l()(n,t);var e=w(n);function n(){var t;c()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).state={error:!1,loading:!0,data:null},t}return s()(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"shouldComponentUpdate",value:function(t,e){return this.state.loading!==e.loading}},{key:"componentDidUpdate",value:function(t){t.since===this.props.since&&t.stat===this.props.stat&&t.resolution===this.props.resolution||this.fetchData()}},{key:"fetchData",value:function(){var t=this;this.setState({loading:!0}),this.props.api.request("/internal/stats/",{method:"GET",data:{since:this.props.since,resolution:this.props.resolution,key:this.props.stat},success:function(e){return t.setState({data:e,loading:!1,error:!1})},error:function(){return t.setState({error:!0})}})}},{key:"render",value:function(){var t,e=this.state,n=e.loading,r=e.error,i=e.data,c=this.props,o=c.label,s=c.height;if(n)return Object(m.f)(O.default,null);if(r)return Object(m.f)(j.a,{onRetry:this.fetchData});var u={seriesName:o,data:null!==(t=null==i?void 0:i.map((function(t){var e=a()(t,2);return{name:1e3*e[0],value:e[1]}})))&&void 0!==t?t:[]};return Object(m.f)(v.a,{height:null!=s?s:150,series:[u],isGroupedByDate:!0,showTimeInTooltip:!0,labelYAxisExtents:!0})}}]),n}(y.a.Component);k.displayName="InternalStatChart",e.a=Object(g.a)(k)},2806:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return W}));var r=n(24),a=n.n(r),i=n(8),c=n.n(i),o=n(9),s=n.n(o),u=n(10),l=n.n(u),f=n(126),h=n.n(f),p=n(11),d=n.n(p),b=n(13),y=n.n(b),v=n(5),j=n.n(v),O=n(3),g=(n(1),n(26)),m=n(81),w=n(43),k=n(2119),D=n(118),S=n(1885),R=n(0);function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach((function(e){c()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function C(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=j()(t);if(e){var a=j()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y()(this,n)}}var N=["1h","1d","1w"],W=function(t){d()(n,t);var e=C(n);function n(){return s()(this,n),e.apply(this,arguments)}return l()(n,[{key:"getDefaultState",value:function(){return T(T({},h()(j()(n.prototype),"getDefaultState",this).call(this)),{},{timeWindow:"1w",since:(new Date).getTime()/1e3-604800,resolution:"1h",taskName:null})}},{key:"getEndpoints",value:function(){return[["taskList","/internal/queue/tasks/"]]}},{key:"changeWindow",value:function(t){var e;if("1h"===t)e=3600;else if("1d"===t)e=86400;else{if("1w"!==t)throw new Error("Invalid time window");e=604800}this.setState({since:(new Date).getTime()/1e3-e,timeWindow:t})}},{key:"changeTask",value:function(t){this.setState({activeTask:t})}},{key:"renderBody",value:function(){var t,e=this,n=this.state,r=n.activeTask,i=n.taskList;return Object(R.f)("div",null,Object(R.f)(x,null,Object(R.f)("h3",{className:"no-border"},"Queue Overview"),Object(R.f)(m.a,{merged:!0,active:this.state.timeWindow},N.map((function(t){return Object(R.f)(g.b,{size:"small",barId:t,onClick:function(){return e.changeWindow(t)},key:t},t)})))),Object(R.f)(D.a,null,Object(R.f)(D.e,null,"Global Throughput"),Object(R.f)(D.c,{withPadding:!0},Object(R.f)(k.a,{since:this.state.since,resolution:this.state.resolution,stat:"jobs.all.started",label:"jobs started"}))),Object(R.f)("h3",{className:"no-border"},"Task Details"),Object(R.f)("div",null,Object(R.f)("div",{className:"m-b-1"},Object(R.f)("label",null,"Show details for task:"),Object(R.f)(w.SelectField,{deprecatedSelectControl:!0,name:"task",onChange:function(t){return e.changeTask(t)},value:r,clearable:!0,choices:(t=[""]).concat.apply(t,a()(i)).map((function(t){return[t,t]}))})),r?Object(R.f)("div",null,Object(R.f)(D.a,{key:"jobs.started.".concat(r)},Object(R.f)(D.e,null,"Jobs Started ",Object(R.f)("small",null,r)),Object(R.f)(D.c,{withPadding:!0},Object(R.f)(k.a,{since:this.state.since,resolution:this.state.resolution,stat:"jobs.started.".concat(r),label:"jobs",height:100}))),Object(R.f)(D.a,{key:"jobs.finished.".concat(r)},Object(R.f)(D.e,null,"Jobs Finished ",Object(R.f)("small",null,r)),Object(R.f)(D.c,{withPadding:!0},Object(R.f)(k.a,{since:this.state.since,resolution:this.state.resolution,stat:"jobs.finished.".concat(r),label:"jobs",height:100})))):null))}}]),n}(S.a),x=Object(O.a)("div",{target:"e1abqlly0",label:"Header"})({name:"69i1ev",styles:"display:flex;justify-content:space-between;align-items:center;"})}}]);
//# sourceMappingURL=AdminQueue.js.map