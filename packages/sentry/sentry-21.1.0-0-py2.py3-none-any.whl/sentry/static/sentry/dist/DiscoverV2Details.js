(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[78],{2230:function(e,t,n){"use strict";var r=n(8),a=n.n(r),o=n(9),i=n.n(o),c=n(10),u=n.n(c),s=n(11),l=n.n(s),f=n(13),b=n.n(f),p=n(5),d=n.n(p),v=n(1),g=n.n(v),j=n(1977),y=n(4),O=n(567),h=n(0);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var a=d()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}var D=function(e){l()(n,e);var t=w(n);function n(){return i()(this,n),t.apply(this,arguments)}return u()(n,[{key:"getCrumbs",value:function(){var e=[],t=this.props,n=t.eventView,r=t.event,a=t.organization,o=t.location,i=a.features.includes("discover-query")?{pathname:Object(O.d)(a),query:S(S(S({},o.query),n.generateBlankQueryStringObject()),n.getGlobalSelectionQuery())}:null;return e.push({to:i,label:Object(y.b)("Discover")}),n&&n.isValid()&&e.push({to:n.getResultsViewUrlTarget(a.slug),label:n.name||""}),r&&e.push({label:Object(y.b)("Event Detail")}),e}},{key:"render",value:function(){return Object(h.f)(j.a,{crumbs:this.getCrumbs()})}}]),n}(g.a.Component);D.displayName="DiscoverBreadcrumb",D.defaultProps={event:void 0},t.a=D},2871:function(e,t,n){"use strict";n.r(t);var r=n(9),a=n.n(r),o=n(10),i=n.n(o),c=n(11),u=n.n(c),s=n(13),l=n.n(s),f=n(5),b=n.n(f),p=n(3),d=n(1),v=n.n(d),g=n(706),j=n(1890),y=n(4),O=n(217),h=n(424),m=n(58),S=n(8),w=n.n(S),D=n(126),k=n.n(D),I=n(113),P=n(423),z=n(26),R=n(81),E=n(721),x=n(2150),V=n(2319),C=n(2193),T=n(2320),q=n(2384),B=n(2321),A=n(291),H=n(134),L=n(44),N=n(2322),U=n(7),_=n(37),F=n(63),G=n(567),K=n(210),Q=n(224),W=n(1907),J=n(2230),M=n(708),Y=n(70),X=n(1889),Z=n(1e3),$=n(237),ee=n(67),te=n(234),ne=n(770),re=n(347),ae=n(762),oe=n(16),ie=n(0);function ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b()(e);if(t){var a=b()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l()(this,n)}}var ue=function(e){u()(n,e);var t=ce(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"getEndpoints",value:function(){var e=this.props.groupId;return[["group","/issues/".concat(e,"/")]]}},{key:"renderLoading",value:function(){return Object(ie.f)(te.a,{height:"120px",bottomGutter:2})}},{key:"renderError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=this.state.errors,o=Object.values(a).find((function(e){return e&&404===e.status}));return o?Object(ie.f)(Y.b,{type:"warning",icon:Object(ie.f)(oe.Hb,{size:"md"})},Object(y.b)("The linked issue cannot be found. It may have been deleted, or merged.")):k()(b()(n.prototype),"renderError",this).call(this,e,t,r)}},{key:"renderBody",value:function(){var e=this.props.eventId,t=this.state.group,n="".concat(t.permalink,"events/").concat(e,"/");return Object(ie.f)(se,null,Object(ie.f)(X.c,null,Object(y.b)("Event Issue")),Object(ie.f)(le,null,Object(ie.f)(fe,null,Object(ie.f)(be,{to:n,"data-test-id":"linked-issue"},Object(ie.f)(ve,{shortId:t.shortId,avatar:Object(ie.f)($.a,{project:t.project,avatarSize:16,hideName:!0})})),Object(ie.f)(de,{seenBy:t.seenBy,maxVisibleAvatars:5})),Object(ie.f)(pe,null,Object(ie.f)(ae.a,{statsPeriod:"30d",data:t,height:56})),Object(ie.f)(ge,null,Object(ie.f)(Z.a,{lastSeen:t.lastSeen,firstSeen:t.firstSeen}))))}}]),n}(P.a),se=Object(p.a)("div",{target:"e1aotpux0",label:"Section"})("margin-bottom:",Object(U.a)(4),";"),le=Object(p.a)("div",{target:"e1aotpux1",label:"StyledIssueCard"})("border:1px solid ",(function(e){return e.theme.border}),";border-radius:",(function(e){return e.theme.borderRadius}),";"),fe=Object(p.a)("div",{target:"e1aotpux2",label:"IssueCardHeader"})("display:flex;align-items:center;justify-content:space-between;padding:",Object(U.a)(1),";"),be=Object(p.a)(ee.a,{target:"e1aotpux3",label:"StyledLink"})({name:"1fn0841",styles:"justify-content:flex-start;"}),pe=Object(p.a)("div",{target:"e1aotpux4",label:"IssueCardBody"})("background:",(function(e){return e.theme.backgroundSecondary}),";padding-top:",Object(U.a)(1),";"),de=Object(p.a)(ne.a,{target:"e1aotpux5",label:"StyledSeenByList"})({name:"1uk1gs8",styles:"margin:0;"}),ve=Object(p.a)(re.a,{target:"e1aotpux6",label:"StyledShortId"})("font-size:",(function(e){return e.theme.fontSizeMedium}),";color:",(function(e){return e.theme.textColor}),";"),ge=Object(p.a)("div",{target:"e1aotpux7",label:"IssueCardFooter"})("color:",(function(e){return e.theme.gray300}),";font-size:",(function(e){return e.theme.fontSizeSmall}),";padding:",Object(U.a)(.5)," ",Object(U.a)(1),";"),je=ue;function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b()(e);if(t){var a=b()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l()(this,n)}}var me=function(e){u()(n,e);var t=he(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={loading:!0,reloading:!1,error:!1,errors:[],event:void 0,isSidebarVisible:!0},e.toggleSidebar=function(){e.setState({isSidebarVisible:!e.state.isSidebarVisible})},e.generateTagKey=function(e){return e.key in F.c?"tags[".concat(e.key,"]"):e.key},e.generateTagUrl=function(t){var n=e.props,r=n.eventView,a=n.organization,o=e.state.event;if(!o)return"";var i=Oe({},o);i.id&&delete i.id;var c=e.generateTagKey(t);return Object(M.e)(r,w()({},c,t.value),i).getResultsViewUrlTarget(a.slug)},e}return i()(n,[{key:"getEndpoints",value:function(){var e=this.props,t=e.organization,n=e.params,r=e.location,a=e.eventView,o=n.eventSlug,i=a.getEventsAPIPayload(r);return i.field=[],[["event","/organizations/".concat(t.slug,"/events/").concat(o,"/"),{query:i}]]}},{key:"renderBody",value:function(){var e=this.state.event;return e?this.renderContent(e):Object(ie.f)(E.a,null)}},{key:"renderContent",value:function(e){var t,n=this.props,r=n.organization,a=n.location,o=n.eventView,i=this.state.isSidebarVisible;Object(_.d)({eventKey:"discover_v2.event_details",eventName:"Discoverv2: Opened Event Details",event_type:e.type,organization_id:parseInt(r.id,10)});var c=null===(t=e.tags.find((function(e){return"transaction"===e.key})))||void 0===t?void 0:t.value,u="transaction"===e.type&&c?Object(W.b)({orgSlug:r.slug,transaction:c,projectID:e.projectID,query:a.query}):null;return Object(ie.f)(v.a.Fragment,null,Object(ie.f)(A.b,null,Object(ie.f)(A.d,null,Object(ie.f)(J.a,{eventView:o,event:e,organization:r,location:a}),Object(ie.f)(Se,{event:e,organization:r})),Object(ie.f)(we,null,Object(ie.f)(R.a,{gap:1},Object(ie.f)(z.b,{onClick:this.toggleSidebar},i?"Hide Details":"Show Details"),u&&Object(ie.f)(I.a,{organization:r,features:["performance-view"]},(function(e){var t=e.hasFeature;return Object(ie.f)(z.b,{disabled:!t,priority:"primary",to:u},Object(y.b)("Go to Summary"))}))))),Object(ie.f)(A.a,null,Object(ie.f)(A.f,{fullWidth:!i},Object(ie.f)(Q.a,{orgId:r.slug,slugs:[this.projectId]},(function(t){var n=t.projects;return t.initiallyLoaded?Object(ie.f)(C.b,{value:{getViewChildTransactionTarget:function(e){return{pathname:Object(G.a)({eventSlug:e.eventSlug,orgSlug:r.slug}),query:o.generateQueryStringObject()}}}},Object(ie.f)(x.a,{organization:r,event:e,project:n[0],location:a,showExampleCommit:!1,showTagSummary:!1})):Object(ie.f)(L.default,null)}))),i&&Object(ie.f)(A.g,null,Object(ie.f)(V.a,{event:e,organization:r,projectId:this.projectId}),Object(ie.f)(B.a,{event:e}),Object(ie.f)(T.a,{event:e}),Object(ie.f)(q.a,{event:e}),e.groupID&&Object(ie.f)(je,{groupId:e.groupID,eventId:e.eventID}),Object(ie.f)(N.a,{generateUrl:this.generateTagUrl,event:e,query:o.query}))))}},{key:"renderError",value:function(e){var t=Object.values(this.state.errors).find((function(e){return e&&404===e.status})),r=Object.values(this.state.errors).find((function(e){return e&&403===e.status}));return t?Object(ie.f)(E.a,null):r?Object(ie.f)(H.a,{message:Object(y.b)("You do not have permission to view that event.")}):k()(b()(n.prototype),"renderError",this).call(this,e,!0,!0)}},{key:"renderComponent",value:function(){var e=this.props,t=e.eventView,r=e.organization,a=this.state.event,o=Object(M.d)({eventView:t,event:a,organization:r});return Object(ie.f)(j.a,{title:o,objSlug:r.slug},k()(b()(n.prototype),"renderComponent",this).call(this))}},{key:"projectId",get:function(){return this.props.eventSlug.split(":")[0]}}]),n}(P.a),Se=function(e){var t=e.event,n=e.organization,r=Object(K.d)(t,n).title,a=Object(K.b)(t);return Object(ie.f)(A.h,{"data-test-id":"event-header"},Object(ie.f)("span",null,r,a&&a.length>0?":":null),Object(ie.f)(De,null,Object(K.b)(t)))};Se.displayName="EventHeader";var we=Object(p.a)(A.c,{target:"e60qfln0",label:"StyledHeaderActions"})("@media (max-width:",(function(e){return e.theme.breakpoints[1]}),"){display:none;}"),De=Object(p.a)("span",{target:"e60qfln1",label:"EventSubheading"})("color:",(function(e){return e.theme.gray300}),";margin-left:",Object(U.a)(1),";"),ke=me;function Ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b()(e);if(t){var a=b()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l()(this,n)}}var Pe=function(e){u()(n,e);var t=Ie(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).getEventSlug=function(){var t=e.props.params.eventSlug;return"string"==typeof t?t.trim():""},e.getEventView=function(){var t=e.props.location;return h.a.fromLocation(t)},e.getDocumentTitle=function(e){return"string"==typeof e&&String(e).trim().length>0?[String(e).trim(),Object(y.b)("Discover")]:[Object(y.b)("Discover")]},e}return i()(n,[{key:"render",value:function(){var e=this.props,t=e.organization,n=e.location,r=e.params,a=this.getEventView(),o=this.getDocumentTitle(a.name).join(" - ");return Object(ie.f)(j.a,{title:o,objSlug:t.slug},Object(ie.f)(ze,null,Object(ie.f)(g.a,{organization:t},Object(ie.f)(ke,{organization:t,location:n,params:r,eventView:a,eventSlug:this.getEventSlug()}))))}}]),n}(v.a.Component);Pe.displayName="EventDetails";t.default=Object(m.a)(Pe);var ze=Object(p.a)(O.b,{target:"e1i20vgd0",label:"StyledPageContent"})({name:"y8aj3r",styles:"padding:0;"})}}]);
//# sourceMappingURL=DiscoverV2Details.js.map