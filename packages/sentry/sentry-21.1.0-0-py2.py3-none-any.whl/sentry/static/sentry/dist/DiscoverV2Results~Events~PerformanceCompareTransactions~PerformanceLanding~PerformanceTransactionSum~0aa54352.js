(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[6],{1910:function(e,r,t){"use strict";var n=t(8),a=t.n(n),i=t(29),s=t.n(i),o=t(22),u=t.n(o),c=t(15),l=t.n(c),p=t(30),f=t.n(p),d=t(9),m=t.n(d),v=t(10),h=t.n(v),g=t(11),y=t.n(g),b=t(13),O=t.n(b),D=t(5),j=t.n(D),P=t(1),S=t.n(P),w=t(60),N=t.n(w),T=t(2020),x=t.n(T),R=t(1964),k=t(34),A=t(1905),E=t(218),C=t(4),z=t(0);function L(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Q(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?L(Object(t),!0).forEach((function(r){a()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):L(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function U(e){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=j()(e);if(r){var a=j()(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return O()(this,t)}}var q=["api","children","organization","loading"],W=function(e){return x()(e,(function(e,r){return q.includes(r)}))},J=function(e){y()(t,e);var r=U(t);function t(){var e;m()(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=r.call.apply(r,[this].concat(a))).state={reloading:!!e.props.loading,errored:!1,timeseriesData:null,fetchedWithPrevious:!1},e.unmounting=!1,e.fetchData=f()(u.a.mark((function r(){var t,n,a,i,s;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.props,n=t.api,a=t.confirmedQuery,i=l()(t,["api","confirmedQuery"]),s=null,!1!==a){r.next=4;break}return r.abrupt("return");case 4:return e.setState((function(e){return{reloading:null!==e.timeseriesData,errored:!1}})),r.prev=5,n.clear(),r.next=9,Object(R.a)(n,i);case 9:s=r.sent,r.next=16;break;case 12:r.prev=12,r.t0=r.catch(5),r.t0&&r.t0.responseJSON&&r.t0.responseJSON.detail?Object(k.a)(r.t0.responseJSON.detail):Object(k.a)(Object(C.b)("Error loading chart data")),e.setState({errored:!0});case 16:if(!e.unmounting){r.next=18;break}return r.abrupt("return");case 18:e.setState({reloading:!1,timeseriesData:s,fetchedWithPrevious:i.includePrevious});case 19:case"end":return r.stop()}}),r,null,[[5,12]])}))),e.getData=function(r){var t=e.state.fetchedWithPrevious,n=e.props,a=n.period,i=n.includePrevious,s=t||Object(E.b)(i,a),o=Math.floor(r.length/2);return{current:s?r.slice(o):r,previous:s?r.slice(0,o):null}},e}return h()(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(e){N()(W(e),W(this.props))||this.fetchData()}},{key:"componentWillUnmount",value:function(){this.unmounting=!0}},{key:"calculateTotalsPerTimestamp",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return 1e3*e};return e.map((function(e,t){var n=s()(e,2),a=n[0],i=n[1];return{name:r(a,i,t),value:i.reduce((function(e,r){return e+r.count}),0)}}))}},{key:"transformPreviousPeriodData",value:function(e,r){var t;return r?{seriesName:null!==(t=this.props.previousSeriesName)&&void 0!==t?t:"Previous",data:this.calculateTotalsPerTimestamp(r,(function(r,t,n){return 1e3*e[n][0]}))}:null}},{key:"transformAggregatedTimeseries",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{seriesName:r,data:this.calculateTotalsPerTimestamp(e)}}},{key:"transformTimeseriesData",value:function(e,r){return[{seriesName:r||"Current",data:e.map((function(e){var r=s()(e,2);return{name:1e3*r[0],value:r[1].reduce((function(e,r){return e+r.count}),0)}}))}]}},{key:"processData",value:function(e){if(!e)return{};var r=e.data,t=e.totals,n=this.props,a=n.includeTransformedData,i=n.includeTimeAggregation,s=n.timeAggregationSeriesName,o=this.getData(r),u=o.current,c=o.previous;return{data:a?this.transformTimeseriesData(u,this.props.currentSeriesName):[],allData:r,originalData:u,totals:t,originalPreviousData:c,previousData:a?this.transformPreviousPeriodData(u,c):null,timeAggregatedData:i?this.transformAggregatedTimeseries(u,s||""):{}}}},{key:"render",value:function(){var e=this,r=this.props,t=r.children,n=r.showLoading,a=l()(r,["children","showLoading"]),i=this.state,s=i.timeseriesData,o=i.reloading,u=i.errored,c=this.props.loading||null===s;if(n&&c)return Object(z.f)(A.a,{"data-test-id":"events-request-loading"});if(Object(E.f)(s))return t(Q({loading:c,reloading:o,errored:u,results:Object.keys(s).map((function(r){var t=s[r],n=e.transformTimeseriesData(t.data,r)[0];return[t.order||0,n]})).sort((function(e,r){return e[0]-r[0]})).map((function(e){return e[1]}))},a));var p=this.processData(s);return t(Q({loading:c,reloading:o,errored:u,timeseriesData:p.data,allTimeseriesData:p.allData,originalTimeseriesData:p.originalData,timeseriesTotals:p.totals,originalPreviousTimeseriesData:p.originalPreviousData,previousTimeseriesData:p.previousData,timeAggregatedData:p.timeAggregatedData},a))}}]),t}(S.a.PureComponent);J.displayName="EventsRequest",J.defaultProps={period:void 0,start:null,end:null,interval:"1d",limit:15,query:"",includePrevious:!0,includeTransformedData:!0},r.a=J},2020:function(e,r,t){var n=t(261),a=t(2107),i=t(295);e.exports=function(e,r){return i(e,a(n(r)))}},2039:function(e,r,t){"use strict";var n=t(6),a=t.n(n),i=t(24),s=t.n(i),o=t(8),u=t.n(o),c=t(15),l=t.n(c),p=t(9),f=t.n(p),d=t(10),m=t.n(d),v=t(11),h=t.n(v),g=t(13),y=t.n(g),b=t(5),O=t.n(b),D=t(1),j=t.n(D),P=t(60),S=t.n(P),w=t(1909),N=t(707),T=t(1902),x=t(1893),R=t(1900),k=t(1965),A=t(1904),E=t(1906),C=t(218),z=t(16),L=t(4),Q=t(1891),U=t(63),q=t(31),W=t(1910),J=t(0);function H(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function F(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?H(Object(t),!0).forEach((function(r){u()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):H(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function M(e){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=O()(e);if(r){var a=O()(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return y()(this,t)}}var G=function(e){h()(t,e);var r=M(t);function t(){var e;f()(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=r.call.apply(r,[this].concat(a))).state={seriesSelection:{},forceUpdate:!1},e.handleLegendSelectChanged=function(r){var t=e.props.disableableSeries,n=void 0===t?[]:t,a=r.selected,i=Object.keys(a).reduce((function(e,r){var t="Releases"===r||n.includes(r);return e[r]=!t||a[r],e}),{});e.setState({seriesSelection:i,forceUpdate:!0},(function(){return e.setState({forceUpdate:!1})}))},e}return m()(t,[{key:"shouldComponentUpdate",value:function(e,r){return!!r.forceUpdate||(!S()(this.state.seriesSelection,r.seriesSelection)||!(e.reloading||!e.timeseriesData)&&!(S()(this.props.timeseriesData,e.timeseriesData)&&S()(this.props.releaseSeries,e.releaseSeries)&&S()(this.props.previousTimeseriesData,e.previousTimeseriesData)))}},{key:"getChartComponent",value:function(){var e=this.props,r=e.showDaily,t=e.timeseriesData,n=e.yAxis;if(r)return N.a;if(t.length>1)switch(Object(U.g)(n)){case"line":return R.a;case"area":return w.a;default:throw new Error("Unknown multi plot type for ".concat(n))}return w.a}},{key:"render",value:function(){var e,r=this.props,t=(r.loading,r.reloading,r.yAxis),n=r.releaseSeries,i=r.zoomRenderProps,o=r.timeseriesData,u=r.previousTimeseriesData,c=r.showLegend,p=r.legendOptions,f=r.chartOptions,d=r.currentSeriesName,m=r.previousSeriesName,v=r.seriesNameTransformer,h=r.colors,g=l()(r,["loading","reloading","yAxis","releaseSeries","zoomRenderProps","timeseriesData","previousTimeseriesData","showLegend","legendOptions","chartOptions","currentSeriesName","previousSeriesName","seriesNameTransformer","colors"]),y=this.state.seriesSelection,b=[null!=d?d:Object(L.b)("Current"),null!=m?m:Object(L.b)("Previous")];Array.isArray(n)&&b.push(Object(L.b)("Releases"));var O=c?F({right:16,top:12,icon:"circle",itemHeight:8,itemWidth:8,itemGap:12,align:"left",textStyle:{color:q.b.textColor,verticalAlign:"top",fontSize:11,fontFamily:"Rubik"},data:b,selected:y},null!=p?p:{}):void 0,D=F({colors:o.length?null!==(e=null==h?void 0:h.slice(0,o.length))&&void 0!==e?e:s()(q.b.charts.getColorPalette(o.length-2)):void 0,grid:{left:"24px",right:"24px",top:"32px",bottom:"12px"},seriesOptions:{showSymbol:!1},tooltip:{trigger:"axis",truncate:80,valueFormatter:function(e){return Object(Q.c)(e,t)}},yAxis:{axisLabel:{color:q.b.gray200,formatter:function(e){return Object(Q.b)(e,t)}}}},null!=f?f:{}),j=this.getChartComponent(),P=Array.isArray(n)?[].concat(s()(o),s()(n)):o;return v&&P.forEach((function(e){e.seriesName=v(e.seriesName)})),Object(J.f)(j,a()({},g,i,D,{legend:O,onLegendSelectChanged:this.handleLegendSelectChanged,series:P,previousPeriod:u?[u]:void 0}))}}]),t}(j.a.Component);G.displayName="Chart";var V=function(e){h()(t,e);var r=M(t);function t(){return f()(this,t),r.apply(this,arguments)}return m()(t,[{key:"render",value:function(){var e=this.props,r=e.api,t=e.period,n=e.utc,i=e.query,s=e.router,o=e.start,u=e.end,c=e.projects,p=e.environments,f=e.showLegend,d=e.yAxis,m=e.disablePrevious,v=e.disableReleases,h=e.emphasizeReleases,g=e.currentSeriesName,y=e.previousSeriesName,b=e.seriesNameTransformer,O=e.field,D=e.interval,P=e.showDaily,S=e.topEvents,w=e.orderby,N=e.confirmedQuery,R=e.colors,Q=e.chartHeader,U=e.legendOptions,q=e.chartOptions,H=e.preserveReleaseQueryParams,M=e.releaseQueryExtra,V=l()(e,["api","period","utc","query","router","start","end","projects","environments","showLegend","yAxis","disablePrevious","disableReleases","emphasizeReleases","currentSeriesName","previousSeriesName","seriesNameTransformer","field","interval","showDaily","topEvents","orderby","confirmedQuery","colors","chartHeader","legendOptions","chartOptions","preserveReleaseQueryParams","releaseQueryExtra"]),B=!m&&!o&&!u,I=null!=y?y:d?Object(L.b)("previous %s",d):void 0,K=null!=g?g:d,X=P?"1d":D||Object(C.d)(this.props,!0),Y=function(e){var r=e.zoomRenderProps,t=e.releaseSeries,n=e.errored,a=e.loading,i=e.reloading,s=e.results,o=e.timeseriesData,u=e.previousTimeseriesData;if(n)return Object(J.f)(x.a,null,Object(J.f)(z.Hb,{color:"gray300",size:"lg"}));var c=s||o;return Object(J.f)(A.a,{loading:a,reloading:i},Object(J.f)(E.a,{visible:i}),j.a.isValidElement(Q)&&Q,Object(J.f)(G,{zoomRenderProps:r,loading:a,reloading:i,showLegend:f,releaseSeries:t||[],timeseriesData:null!=c?c:[],previousTimeseriesData:u,currentSeriesName:K,previousSeriesName:I,seriesNameTransformer:b,stacked:"number"==typeof S&&S>0,yAxis:d,showDaily:P,colors:R,legendOptions:U,chartOptions:q}))};if(!v){var Z=Y;Y=function(e){return Object(J.f)(k.a,{utc:n,period:t,start:o,end:u,projects:c,environments:p,emphasizeReleases:h,preserveQueryParams:H,queryExtra:M},(function(r){var t=r.releaseSeries;return Z(F(F({},e),{},{releaseSeries:t}))}))}}return Object(J.f)(T.a,a()({router:s,period:t,utc:n},V),(function(e){return Object(J.f)(W.a,a()({},V,{api:r,period:t,project:c,environment:p,start:o,end:u,interval:X,query:i,includePrevious:B,currentSeriesName:K,previousSeriesName:I,yAxis:d,field:O,orderby:w,topEvents:S,confirmedQuery:N}),(function(r){return Y(F(F({},r),{},{zoomRenderProps:e}))}))}))}}]),t}(j.a.Component);V.displayName="EventsChart",r.a=V},2107:function(e,r){e.exports=function(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var r=arguments;switch(r.length){case 0:return!e.call(this);case 1:return!e.call(this,r[0]);case 2:return!e.call(this,r[0],r[1]);case 3:return!e.call(this,r[0],r[1],r[2])}return!e.apply(this,r)}}}}]);
//# sourceMappingURL=DiscoverV2Results~Events~PerformanceCompareTransactions~PerformanceLanding~PerformanceTransactionSum~0aa54352.js.map