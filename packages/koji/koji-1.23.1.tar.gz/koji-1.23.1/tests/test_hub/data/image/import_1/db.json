{
    "inserts": [
        [
            "INSERT INTO archiveinfo (archive_id, btype_id, build_id, buildroot_id, checksum, checksum_type, filename, id, size, type_id) VALUES (%(archive_id)s, %(btype_id)s, %(build_id)s, %(buildroot_id)s, %(checksum)s, %(checksum_type)s, %(filename)s, %(id)s, %(size)s, %(type_id)s)",
            {
                "build_id": 137,
                "archive_id": "ARCHIVE_ID",
                "type_id": "ARCHIVETYPE",
                "checksum": "ca9dd08a0b9f81b209c3ac768a7d1ca27973cfd920095e2dc3df5159f752039e",
                "filename": "tdl-x86_64.xml",
                "checksum_type": 2,
                "btype_id": "BTYPEID:image",
                "buildroot_id": null,
                "id": 1001,
                "size": 36
            },
            {}
        ],
        [
            "INSERT INTO image_archives (arch, archive_id) VALUES (%(arch)s, %(archive_id)s)",
            {
                "archive_id": 1001,
                "arch": "x86_64"
            },
            {}
        ],
        [
            "INSERT INTO archiveinfo (archive_id, btype_id, build_id, buildroot_id, checksum, checksum_type, filename, id, size, type_id) VALUES (%(archive_id)s, %(btype_id)s, %(build_id)s, %(buildroot_id)s, %(checksum)s, %(checksum_type)s, %(filename)s, %(id)s, %(size)s, %(type_id)s)",
            {
                "build_id": 137,
                "archive_id": "ARCHIVE_ID",
                "type_id": "ARCHIVETYPE",
                "checksum": "4083a6838c1b6895df27a69373f4c527a9722c045bccc08efe064f105d566c77",
                "filename": "image.ks",
                "checksum_type": 2,
                "btype_id": "BTYPEID:image",
                "buildroot_id": null,
                "id": 1002,
                "size": 30
            },
            {}
        ],
        [
            "INSERT INTO image_archives (arch, archive_id) VALUES (%(arch)s, %(archive_id)s)",
            {
                "archive_id": 1002,
                "arch": "x86_64"
            },
            {}
        ],
        [
            "INSERT INTO archiveinfo (archive_id, btype_id, build_id, buildroot_id, checksum, checksum_type, filename, id, size, type_id) VALUES (%(archive_id)s, %(btype_id)s, %(build_id)s, %(buildroot_id)s, %(checksum)s, %(checksum_type)s, %(filename)s, %(id)s, %(size)s, %(type_id)s)",
            {
                "build_id": 137,
                "archive_id": "ARCHIVE_ID",
                "type_id": "ARCHIVETYPE",
                "checksum": "963a4396be7072012370db407b9ea3633b09dbe45926bb2ef912a86baac1d7b7",
                "filename": "image-base.ks",
                "checksum_type": 2,
                "btype_id": "BTYPEID:image",
                "buildroot_id": null,
                "id": 1003,
                "size": 35
            },
            {}
        ],
        [
            "INSERT INTO image_archives (arch, archive_id) VALUES (%(arch)s, %(archive_id)s)",
            {
                "archive_id": 1003,
                "arch": "x86_64"
            },
            {}
        ],
        [
            "INSERT INTO archiveinfo (archive_id, btype_id, build_id, buildroot_id, checksum, checksum_type, filename, id, size, type_id) VALUES (%(archive_id)s, %(btype_id)s, %(build_id)s, %(buildroot_id)s, %(checksum)s, %(checksum_type)s, %(filename)s, %(id)s, %(size)s, %(type_id)s)",
            {
                "build_id": 137,
                "archive_id": "ARCHIVE_ID",
                "type_id": "ARCHIVETYPE",
                "checksum": "9f4dea3a4b64def36be0119fef4d3f6e62eb6e316bf5749acddb134596faf5e9",
                "filename": "foo-x86_64.xml",
                "checksum_type": 2,
                "btype_id": "BTYPEID:image",
                "buildroot_id": null,
                "id": 1004,
                "size": 36
            },
            {}
        ],
        [
            "INSERT INTO image_archives (arch, archive_id) VALUES (%(arch)s, %(archive_id)s)",
            {
                "archive_id": 1004,
                "arch": "x86_64"
            },
            {}
        ],
        [
            "INSERT INTO archiveinfo (archive_id, btype_id, build_id, buildroot_id, checksum, checksum_type, filename, id, size, type_id) VALUES (%(archive_id)s, %(btype_id)s, %(build_id)s, %(buildroot_id)s, %(checksum)s, %(checksum_type)s, %(filename)s, %(id)s, %(size)s, %(type_id)s)",
            {
                "build_id": 137,
                "archive_id": "ARCHIVE_ID",
                "type_id": "ARCHIVETYPE",
                "checksum": "e3ff2b57824a7ee9201786a624c54057de1b279fbcf6782fe25898d657ebd354",
                "filename": "my-image-7.4.2-2.x86_64.ova",
                "checksum_type": 2,
                "btype_id": "BTYPEID:image",
                "buildroot_id": null,
                "id": 1005,
                "size": 49
            },
            {}
        ],
        [
            "INSERT INTO image_archives (arch, archive_id) VALUES (%(arch)s, %(archive_id)s)",
            {
                "archive_id": 1005,
                "arch": "x86_64"
            },
            {}
        ],
        [
            "INSERT INTO archive_rpm_components (archive_id, rpm_id) VALUES (%(archive_id0)s, %(rpm_id0)s), (%(archive_id1)s, %(rpm_id1)s), (%(archive_id2)s, %(rpm_id2)s), (%(archive_id3)s, %(rpm_id3)s), (%(archive_id4)s, %(rpm_id4)s), (%(archive_id5)s, %(rpm_id5)s), (%(archive_id6)s, %(rpm_id6)s), (%(archive_id7)s, %(rpm_id7)s), (%(archive_id8)s, %(rpm_id8)s)",
              {"archive_id0": 1002,
               "archive_id1": 1002,
               "archive_id2": 1002,
               "archive_id3": 1003,
               "archive_id4": 1003,
               "archive_id5": 1003,
               "archive_id6": 1005,
               "archive_id7": 1005,
               "archive_id8": 1005,
               "rpm_id0": 1000,
               "rpm_id1": 1001,
               "rpm_id2": 1002,
               "rpm_id3": 1000,
               "rpm_id4": 1001,
               "rpm_id5": 1002,
               "rpm_id6": 1000,
               "rpm_id7": 1001,
               "rpm_id8": 1002}
        ]
    ],
    "updates": [
        [
            "UPDATE build SET completion_time = (now()), id = %(data.id)s, state = %(data.state)s\nWHERE ( id=%(build_id)i )",
            {
                "state": 1,
                "id": "BUILD_ID"
            },
            {
                "completion_time": "now()"
            }
        ]
    ]
}
