{"version":3,"sources":["components/Filter.js","components/valueState.js","services/ezbeq.js","App.js","beqc.png","index.js"],"names":["useStyles","makeStyles","theme","formControl","margin","spacing","minWidth","maxWidth","chips","display","flexWrap","chip","noLabel","marginTop","MenuProps","PaperProps","style","maxHeight","ITEM_HEIGHT","width","getStyles","v1","v2","fontWeight","indexOf","typography","fontWeightRegular","fontWeightMedium","SelectValue","name","value","handleValueChange","values","multi","classes","useTheme","FormControl","className","InputLabel","id","Select","labelId","multiple","onChange","input","Input","map","v","MenuItem","useValueChange","startingValue","useState","setValue","handleChange","event","target","API_PREFIX","getAuthors","doGet","getYears","getAudioTypes","getMeta","payload","a","fetch","method","response","ok","Error","status","json","appendTo","url","length","join","search","authors","years","audioTypes","searchUrl","load","sendFilter","slot","body","JSON","stringify","headers","clearSlot","activateSlot","command","getMinidspConfig","root","flexGrow","minHeight","title","marginLeft","position","borderRadius","shape","backgroundColor","fade","palette","common","white","breakpoints","up","searchIcon","padding","height","pointerEvents","alignItems","justifyContent","inputRoot","color","inputInput","paddingLeft","transition","transitions","create","advancedFilter","marginRight","smallAvatar","App","prefersDarkMode","useMediaQuery","React","useMemo","createMuiTheme","type","entries","setEntries","setAuthors","setYears","setAudioTypes","meta","setMeta","filteredEntries","setFilteredEntries","minidspConfigSlots","setMinidspConfigSlots","selectedAuthors","handleAuthorChange","selectedYears","handleYearChange","selectedAudioTypes","handleAudioTypeChange","txtFilter","handleTxtFilterChange","showFilters","setShowFilters","selectedEntryId","setSelectedEntryId","pushData","setter","getter","data","useEffect","ezbeq","isMatch","entry","author","year","some","at","toLowerCase","includes","filter","sendToDevice","entryId","slotId","selected","find","e","vals","clearDeviceSlot","minidspGridColumns","field","headerName","flex","valueFormatter","params","renderCell","IconButton","aria-label","disabled","onClick","row","edge","catalogueGridColumns","href","padZero","n","toString","padStart","ThemeProvider","CssBaseline","AppBar","Toolbar","Avatar","alt","variant","src","Typography","noWrap","InputBase","placeholder","inputProps","size","FormControlLabel","control","Switch","checked","prev","Grid","container","item","direction","rows","columns","autoPageSize","hideFooter","density","pageSize","sortModel","sort","onRowSelected","p","justify","align","s","d","Date","setUTCSeconds","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","formatSeconds","created","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1a794664.chunk.js","sourcesContent":["import {makeStyles, useTheme} from \"@material-ui/core/styles\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Select from \"@material-ui/core/Select\";\nimport Input from \"@material-ui/core/Input\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport React from \"react\";\n\nconst useStyles = makeStyles((theme) => ({\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: 120,\n        maxWidth: 300,\n    },\n    chips: {\n        display: 'flex',\n        flexWrap: 'wrap',\n    },\n    chip: {\n        margin: 2,\n    },\n    noLabel: {\n        marginTop: theme.spacing(3),\n    },\n}));\n\nconst ITEM_HEIGHT = 48;\nconst ITEM_PADDING_TOP = 8;\nconst MenuProps = {\n    PaperProps: {\n        style: {\n            maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n            width: 250,\n        },\n    },\n};\n\nfunction getStyles(v1, v2, theme) {\n    return {\n        fontWeight:\n            v2.indexOf(v1) === -1\n                ? theme.typography.fontWeightRegular\n                : theme.typography.fontWeightMedium,\n    };\n}\n\nconst SelectValue = ({name, value, handleValueChange, values, multi = true}) => {\n    const classes = useStyles();\n    const theme = useTheme();\n    return (\n        <FormControl className={classes.formControl}>\n            <InputLabel id={`${name}-label`}>{name}</InputLabel>\n            <Select\n                labelId={`${name}-label`}\n                id={`${name}-select`}\n                multiple={multi}\n                value={value}\n                onChange={handleValueChange}\n                input={<Input />}\n                MenuProps={MenuProps}>\n                {values.map((v) => (\n                    <MenuItem key={v} value={v} style={getStyles(v, value, theme)}>\n                        {v}\n                    </MenuItem>\n                ))}\n            </Select>\n        </FormControl>\n    );\n};\n\nexport {\n    SelectValue\n};","import { useState } from 'react'\n\nexport const useValueChange = (startingValue = null) => {\n    const [value, setValue] = useState(startingValue !== null ? startingValue : []);\n\n    const handleChange = (event) => {\n        setValue(event.target.value);\n    };\n\n    return [value, handleChange];\n};","const API_PREFIX = '/api/1';\n\n/**\n * Encapsulates any calls to the ezbeq server.\n */\nclass EzBeqService {\n\n    getAuthors = () => {\n        return this.doGet('authors');\n    };\n\n    getYears = () => {\n        return this.doGet('years');\n    };\n\n    getAudioTypes = () => {\n        return this.doGet('audiotypes');\n    };\n\n    getMeta = () => {\n        return this.doGet('meta');\n    }\n\n    doGet = async (payload) => {\n        const response = await fetch(`${API_PREFIX}/${payload}`, {\n            method: 'GET'\n        });\n        if (!response.ok) {\n            throw new Error(`EzBeq.get${payload} failed, HTTP status ${response.status}`);\n        }\n        return await response.json();\n    }\n\n    appendTo = (url, name, values) => {\n        if (values && values.length > 0) {\n            return `${url}${url.indexOf('?') === -1 ? '?' : '&'}${name}=${values.join(',')}`;\n        }\n        return url;\n    }\n\n    search = async (authors = null, years = null, audioTypes = null) => {\n        const searchUrl = this.appendTo(this.appendTo(this.appendTo(`${API_PREFIX}/search`, 'authors', authors), 'years', years), 'audioTypes', audioTypes);\n        const response = await fetch(searchUrl, {\n            method: 'GET'\n        });\n        if (!response.ok) {\n            throw new Error(`EzBeq.search failed, HTTP status ${response.status}`);\n        }\n        return await response.json();\n    }\n\n    load = async () => {\n        return this.search();\n    }\n\n    sendFilter = async (id, slot) => {\n        const response = await fetch(`${API_PREFIX}/minidsp/${slot}`, {\n            method: 'PUT',\n            body: JSON.stringify({\n                id: id\n            }),\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n        });\n        if (!response.ok) {\n            throw new Error(`EzBeq.sendFilter failed, HTTP status ${response.status}`);\n        }\n        return await response.json();\n    }\n\n    clearSlot = async (slot) => {\n        const response = await fetch(`${API_PREFIX}/minidsp/${slot}`, {\n            method: 'DELETE'\n        });\n        if (!response.ok) {\n            throw new Error(`EzBeq.clearSlot failed, HTTP status ${response.status}`);\n        }\n        return await response.json();\n    }\n\n    activateSlot = async (slot) => {\n        const response = await fetch(`${API_PREFIX}/minidsp/${slot}`, {\n            method: 'PUT',\n            body: JSON.stringify({\n                command: 'activate'\n            }),\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n        });\n        if (!response.ok) {\n            throw new Error(`EzBeq.activateSlot failed, HTTP status ${response.status}`);\n        }\n        return await response.json();\n    }\n\n    getMinidspConfig = async () => {\n        return this.doGet('minidsps');\n    }\n}\n\nexport default new EzBeqService();\n","import React, {useEffect, useState} from 'react';\nimport {SelectValue} from \"./components/Filter\";\nimport {useValueChange} from \"./components/valueState\";\nimport {createMuiTheme, fade, makeStyles, ThemeProvider} from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport {DataGrid} from '@material-ui/data-grid';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport {Avatar, FormControlLabel, Grid, IconButton, InputBase, Switch} from \"@material-ui/core\";\nimport SearchIcon from '@material-ui/icons/Search';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport beqcIcon from './beqc.png'\nimport ezbeq from './services/ezbeq';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        flexGrow: 1,\n        minHeight: '100vh',\n        '& > *': {\n            margin: theme.spacing(1),\n        }\n    },\n    title: {\n        flexGrow: 1,\n        marginLeft: theme.spacing(1)\n    },\n    search: {\n        position: 'relative',\n        borderRadius: theme.shape.borderRadius,\n        backgroundColor: fade(theme.palette.common.white, 0.15),\n        '&:hover': {\n            backgroundColor: fade(theme.palette.common.white, 0.25),\n        },\n        marginLeft: 0,\n        width: '50%',\n        [theme.breakpoints.up('sm')]: {\n            marginLeft: theme.spacing(1),\n            width: 'auto',\n        },\n    },\n    searchIcon: {\n        padding: theme.spacing(0, 2),\n        height: '100%',\n        position: 'absolute',\n        pointerEvents: 'none',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    inputRoot: {\n        color: 'inherit',\n    },\n    inputInput: {\n        padding: theme.spacing(1, 1, 1, 0),\n        // vertical padding + font size from searchIcon\n        paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n        transition: theme.transitions.create('width'),\n        width: '100%',\n        [theme.breakpoints.up('sm')]: {\n            width: '12ch',\n            '&:focus': {\n                width: '20ch',\n            },\n        },\n    },\n    advancedFilter: {\n        marginLeft: '4px',\n        marginRight: '0px'\n    },\n    smallAvatar: {\n        width: theme.spacing(3),\n        height: theme.spacing(3),\n    }\n}));\n\nconst App = () => {\n    const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');\n    const theme = React.useMemo(\n        () =>\n            createMuiTheme({\n                palette: {\n                    type: prefersDarkMode ? 'dark' : 'light',\n                },\n            }),\n        [prefersDarkMode],\n    );\n\n    const classes = useStyles();\n    // catalogue data\n    const [entries, setEntries] = useState([]);\n    const [authors, setAuthors] = useState([]);\n    const [years, setYears] = useState([]);\n    const [audioTypes, setAudioTypes] = useState([]);\n    const [meta, setMeta] = useState({});\n    // filtered catalogue data\n    const [filteredEntries, setFilteredEntries] = useState([]);\n    // const [filteredAuthors, setFilteredAuthors] = useState([]);\n    // const [filteredYears, setFilteredYears] = useState([]);\n    // const [filteredContentTypes, setFilteredContentTypes] = useState([]);\n    // minidsp data\n    const [minidspConfigSlots, setMinidspConfigSlots] = useState([]);\n    // user selections\n    const [selectedAuthors, handleAuthorChange] = useValueChange()\n    const [selectedYears, handleYearChange] = useValueChange()\n    const [selectedAudioTypes, handleAudioTypeChange] = useValueChange()\n    const [txtFilter, handleTxtFilterChange] = useValueChange('');\n    const [showFilters, setShowFilters] = useState(false);\n    const [selectedEntryId, setSelectedEntryId] = useState(-1);\n\n    const toggleShowFilters = () => {\n        setShowFilters((prev) => !prev);\n    };\n\n    const pushData = async (setter, getter) => {\n        const data = await getter();\n        setter(data);\n    };\n\n    // initial data load\n    useEffect(() => {\n        pushData(setEntries, ezbeq.load);\n    }, []);\n\n    useEffect(() => {\n        pushData(setMeta, ezbeq.getMeta);\n    }, []);\n\n    useEffect(() => {\n        pushData(setMinidspConfigSlots, ezbeq.getMinidspConfig);\n    }, []);\n\n    useEffect(() => {\n        pushData(setAuthors, ezbeq.getAuthors);\n    }, []);\n\n    useEffect(() => {\n        pushData(setYears, ezbeq.getYears);\n    }, []);\n\n    useEffect(() => {\n        pushData(setAudioTypes, ezbeq.getAudioTypes);\n    }, []);\n\n    useEffect(() => {\n        // catalogue filter\n        const isMatch = (entry) => {\n            if (!selectedAuthors.length || selectedAuthors.indexOf(entry.author) > -1) {\n                if (!selectedYears.length || selectedYears.indexOf(entry.year) > -1) {\n                    if (!selectedAudioTypes.length || entry.audioTypes.some(at => selectedAudioTypes.indexOf(at) > -1)) {\n                        if (!txtFilter || entry.title.toLowerCase().includes(txtFilter.toLowerCase())) {\n                            return true;\n                        }\n                    }\n                }\n            }\n            return false;\n        }\n        pushData(setFilteredEntries, () => entries.filter(isMatch));\n    }, [entries, selectedAudioTypes, selectedYears, selectedAuthors, txtFilter]);\n\n    const sendToDevice = async (entryId, slotId) => {\n        const selected = filteredEntries.find(e => e.id === entryId);\n        const vals = await ezbeq.sendFilter(selected.id, slotId);\n        setMinidspConfigSlots(vals);\n    }\n\n    const clearDeviceSlot = async (slotId) => {\n        const vals = await ezbeq.clearSlot(slotId);\n        setMinidspConfigSlots(vals);\n    }\n\n    const activateSlot = async (slotId) => {\n        const vals = await ezbeq.activateSlot(slotId);\n        setMinidspConfigSlots(vals);\n    }\n\n    // grid definitions\n    const minidspGridColumns = [\n        {\n            field: 'id',\n            headerName: ' ',\n            flex: 0.12,\n            valueFormatter: params => params.value + 1\n        },\n        {\n            field: 'last',\n            headerName: 'Loaded',\n            flex: 0.45,\n        },\n        {\n            field: 'actions',\n            headerName: 'Actions',\n            flex: 0.33,\n            renderCell: params => (\n                <>\n                    <IconButton aria-label={'send'}\n                                disabled={selectedEntryId === -1}\n                                onClick={() => sendToDevice(selectedEntryId, params.row.id)}\n                                color=\"primary\"\n                                edge={'start'}>\n                        <CloudUploadIcon/>\n                    </IconButton>\n                    <IconButton aria-label={'activate'}\n                                onClick={() => activateSlot(params.row.id)}\n                                color=\"primary\"\n                                edge={'start'}>\n                        <PlayArrowIcon/>\n                    </IconButton>\n                    <IconButton aria-label={'clear'}\n                                onClick={() => clearDeviceSlot(params.row.id)}\n                                color=\"primary\"\n                                edge={'start'}>\n                        <ClearIcon/>\n                    </IconButton>\n                </>\n            )\n        }\n    ];\n    const catalogueGridColumns = [\n        {\n            field: 'title',\n            headerName: 'Title',\n            flex: 0.6,\n            renderCell: params => (\n                params.row.url\n                    ? <a href={params.row.url} target='_beq'>{params.value}</a>\n                    : params.value\n            )\n        },\n        {\n            field: 'audioTypes',\n            headerName: 'Audio Type',\n            flex: 0.4\n        }\n    ];\n    const padZero = n => n.toString().padStart(2, '0');\n    const formatSeconds = s => {\n        if (s) {\n            const d = new Date(0);\n            d.setUTCSeconds(s);\n            return `${d.getFullYear()}${padZero(d.getMonth()+1)}${padZero(d.getDate())}_${padZero(d.getHours())}${padZero(d.getMinutes())}${padZero(d.getSeconds())}`\n        }\n        return '?';\n    }\n\n    return (\n        <ThemeProvider theme={theme}>\n            <CssBaseline/>\n            <div className={classes.root}>\n                <AppBar position=\"static\">\n                    <Toolbar>\n                        <Avatar alt=\"beqcatalogue\"\n                                variant=\"rounded\"\n                                src={beqcIcon}\n                                className={classes.smallAvatar}/>\n                        <Typography className={classes.title} variant=\"h6\" noWrap>ezbeq</Typography>\n                        <div className={classes.search}>\n                            <div className={classes.searchIcon}>\n                                <SearchIcon/>\n                            </div>\n                            <InputBase\n                                placeholder=\"Searchâ€¦\"\n                                classes={{\n                                    root: classes.inputRoot,\n                                    input: classes.inputInput,\n                                }}\n                                inputProps={{'aria-label': 'search'}}\n                                value={txtFilter}\n                                onChange={handleTxtFilterChange}\n                                size={'small'}\n                            />\n                        </div>\n                        <FormControlLabel className={classes.advancedFilter}\n                                          control={<Switch checked={showFilters} onChange={toggleShowFilters}\n                                                           size={'small'}/>}\n                        />\n                    </Toolbar>\n                </AppBar>\n                {\n                    showFilters\n                        ?\n                        <Grid container>\n                            <Grid item>\n                                <SelectValue name=\"Author\"\n                                             value={selectedAuthors}\n                                             handleValueChange={handleAuthorChange}\n                                             values={authors}/>\n                                <SelectValue name=\"Year\"\n                                             value={selectedYears}\n                                             handleValueChange={handleYearChange}\n                                             values={years}/>\n                                <SelectValue name=\"Audio Type\"\n                                             value={selectedAudioTypes}\n                                             handleValueChange={handleAudioTypeChange}\n                                             values={audioTypes}/>\n                            </Grid>\n                        </Grid>\n                        : null\n                }\n                <Grid container direction={'column'}>\n                    <Grid item style={{height: '190px', width: '100%'}}>\n                        <DataGrid rows={minidspConfigSlots}\n                                  columns={minidspGridColumns}\n                                  autoPageSize\n                                  hideFooter\n                                  density={'compact'}/>\n                    </Grid>\n                </Grid>\n                {\n                    filteredEntries.length\n                        ?\n                        <Grid container>\n                            <Grid item style={{minHeight: '60vh', width: '100%'}}>\n                                <DataGrid rows={filteredEntries}\n                                          columns={catalogueGridColumns}\n                                          pageSize={100}\n                                          density={'compact'}\n                                          sortModel={[\n                                              {\n                                                  field: 'title',\n                                                  sort: 'asc',\n                                              },\n                                          ]}\n                                          onRowSelected={p => setSelectedEntryId(p.data.id)}\n                                />\n                            </Grid>\n                        </Grid>\n                        : null\n                }\n                {\n                    meta\n                    ?\n                        <Grid container justify=\"center\">\n                            <Grid item>\n                                <Typography align={'center'} variant={'caption'} color={'textSecondary'}>\n                                    BEQCatalogue: {formatSeconds(meta.created)}\n                                </Typography>\n                            </Grid>\n                        </Grid>\n                    : null\n                }\n            </div>\n        </ThemeProvider>\n    );\n};\n\nexport default App;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAHmUExURRUoRhsuTgQUKAIGEwcTJwkUKDhCUgAAABUnRRcqSxMnRAoVKhcoRRYpSQUNHBEeNCIRIgcSJBIkRBwoPRQoRwsVJwEGKRgrTBIfPa8ABf+gLFw5JhUiOK7XAP+lKwwaMQIDBsUDAxEkRgoiSPudLE5pEz6uyM8DAwYKGmeCCwUIDRAiQRgkORxjihcpRwwlQwMQIDosXf+rLJZq2QsfODUQHx0uQd4CAAsaJxxWa0C0ztICAj9UGbQABEO61LjjACAlLiYsNxYmISUzVlULGEZiFbsCBAEWKgsZLLXfAC0pTAEOKAoqSlU6KL3pAC80P8w0c8h3Lh0SJBpJYE01KE45Kb1yLl5GKWd9A22HBi5BGz9PaotaKj1LY0dUax8yUSUwQyAoScgCAmomT8IzcLstZNg3eVtDjY1lzSdifxQTJXVMpjqivBdAVJ8GCseAMsuDMismKcEDBGILFyp1jC4RIXORC9kDAowDDJi8AjYrKOQDAYEIER1okNOFLKDIAt6QKxceKZZmKrlvLjFBXzBBX1ENGqgxaSQeNUIfN4soVyVeeoFev5gtYLAsYmRMmVkaMDo5Qp5x4wYRKjwgOWVQPgwrPG5JnlhHP1I8MxxWgFduG7huLhE2U5ZiOjhVLcJ0LjyqxOcUrVYAAAJzSURBVDjLhdP3V9pQFAfwEPNqyECCIEsQmYIaREBExAoiInXvvbd111FX1e699/pXe2MYaj3t94d7cl8+eUlOcrHc/wQTiqv9xjVpN6VBZOzhuOSvjD8YqxdBZFhRqqAoiqTcbjeVCSwO1wvANVqK8RiGMcrJZDIpHKXCk4pRE4BIg0JcZR53zHRMu7OEVzTUA5hQk+enqcmZuY65Z01sdg9SPQGgSkqmLng5+2p2uqJImQXSKgD5KcBQDR6PJ4/jsoKU5l8ApPSFd8E7L6Oz4hJQUpIFr/fdaxmNQEhZlr26A4bNL39e9lTQCIQGQqZAWRoouoPB4CcOIUQkgouLzyUkKS27AEj17Rp73Z0SGtGylRq7vaZbw14GEhEkqqtlK3V2e103IYLC9C3Ib0flRz8LhPjKIT6uSH0JmL8PDgwODe0M7tiiA07nQPQ95ysEkCcC3lx1r9nQ5nS2GZrv1jYbDDdrC1RIlQI8z/DKawAtEwFjtpjNFstvW6MtGoUyhDfabI3VBJECjOXt2vr6Wvuvzvudra1QRjZ+9PX1beAoAz4arTpj/4nRWnl2Vmk1nvQbddbK/luqDPiis+p0vccARkYAHPfqYKE3A+Ahv+r1Pfi+vlV/egplH++BHj5KeoeWD2GtVru9F9bGY7G4Nry3DW3Yj4s7JNRMy5uAIxSIxXcdB4eHB47deCwQcgQeNanoEgAyAE+niouL/auOzdDWVmjTseqHdsrfhBIuYS4YllQ+kcu78CW5XI4QlCW8S+gJxJ0PTg4PwofjCIcQhFBVQoEfwySOnkvDs2oNfTWowpQe3twcDt4o50pM2en+V/4ADiuBy0gwQ9YAAABXelRYdFJhdyBwcm9maWxlIHR5cGUgaXB0YwAAeJzj8gwIcVYoKMpPy8xJ5VIAAyMLLmMLEyMTS5MUAxMgRIA0w2QDI7NUIMvY1MjEzMQcxAfLgEigSi4A6hcRdPJCNZUAAAAASUVORK5CYII=\"","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport '@fontsource/roboto'\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}