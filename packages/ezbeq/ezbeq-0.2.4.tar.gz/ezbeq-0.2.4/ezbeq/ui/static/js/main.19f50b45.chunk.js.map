{"version":3,"sources":["components/Filter.js","components/valueState.js","services/ezbeq.js","App.js","beqc.png","index.js"],"names":["useStyles","makeStyles","theme","formControl","margin","spacing","minWidth","maxWidth","chips","display","flexWrap","chip","noLabel","marginTop","MenuProps","PaperProps","style","maxHeight","ITEM_HEIGHT","width","getStyles","v1","v2","isInView","fontWeight","indexOf","typography","fontWeightRegular","fontWeightLight","fontWeightMedium","textDecoration","SelectValue","name","value","handleValueChange","values","multi","classes","useTheme","FormControl","className","InputLabel","id","Select","labelId","multiple","onChange","input","Input","map","v","MenuItem","useValueChange","startingValue","useState","setValue","handleChange","event","target","API_PREFIX","getAuthors","doGet","getYears","getAudioTypes","getMeta","payload","a","fetch","method","response","ok","Error","status","json","appendTo","url","length","join","search","authors","years","audioTypes","searchUrl","load","sendFilter","slot","body","JSON","stringify","headers","clearSlot","activateSlot","command","getMinidspConfig","root","flexGrow","height","noLeft","marginLeft","noLeftTop","title","position","borderRadius","shape","backgroundColor","fade","palette","common","white","breakpoints","up","searchIcon","padding","pointerEvents","alignItems","justifyContent","inputRoot","color","inputInput","paddingLeft","transition","transitions","create","advancedFilter","marginRight","smallAvatar","App","prefersDarkMode","useMediaQuery","React","useMemo","createMuiTheme","type","entries","setEntries","setAuthors","setYears","setAudioTypes","meta","setMeta","filteredEntries","setFilteredEntries","filteredYears","setFilteredYears","filteredAudioTypes","setFilteredAudioTypes","minidspConfigSlots","setMinidspConfigSlots","selectedAuthors","handleAuthorChange","selectedYears","handleYearChange","selectedAudioTypes","handleAudioTypeChange","txtFilter","handleTxtFilterChange","showFilters","setShowFilters","selectedEntryId","setSelectedEntryId","pushData","setter","getter","data","useEffect","ezbeq","combineMinidspState","state","slots","s","Object","assign","active","isMatch","entry","author","year","some","at","toLowerCase","includes","filter","Set","e","flat","sendToDevice","entryId","slotId","selected","find","vals","clearDeviceSlot","minidspGridColumns","field","headerName","valueFormatter","params","getValue","renderCell","IconButton","aria-label","disabled","onClick","row","edge","flex","hide","catalogueGridColumns","href","padZero","n","toString","padStart","ThemeProvider","CssBaseline","AppBar","Toolbar","Avatar","alt","variant","src","Typography","noWrap","InputBase","placeholder","inputProps","size","FormControlLabel","control","Switch","checked","prev","Grid","container","item","direction","rows","columns","autoPageSize","hideFooter","density","window","innerHeight","pageSize","sortModel","sort","onRowSelected","p","justify","align","d","Date","setUTCSeconds","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","formatSeconds","created","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.19f50b45.chunk.js","sourcesContent":["import {makeStyles, useTheme} from \"@material-ui/core/styles\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Select from \"@material-ui/core/Select\";\nimport Input from \"@material-ui/core/Input\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport React from \"react\";\n\nconst useStyles = makeStyles((theme) => ({\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: 120,\n        maxWidth: 300,\n    },\n    chips: {\n        display: 'flex',\n        flexWrap: 'wrap',\n    },\n    chip: {\n        margin: 2,\n    },\n    noLabel: {\n        marginTop: theme.spacing(3),\n    },\n}));\n\nconst ITEM_HEIGHT = 48;\nconst ITEM_PADDING_TOP = 8;\nconst MenuProps = {\n    PaperProps: {\n        style: {\n            maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n            width: 250,\n        },\n    },\n};\n\nfunction getStyles(v1, v2, theme, isInView) {\n    return {\n        fontWeight:\n            v2.indexOf(v1) === -1\n                ? (isInView ? theme.typography.fontWeightRegular : theme.typography.fontWeightLight)\n                : theme.typography.fontWeightMedium,\n        textDecoration: isInView ? 'none' : 'line-through'\n    };\n}\n\nconst SelectValue = ({name, value, handleValueChange, values, multi = true, isInView}) => {\n    const classes = useStyles();\n    const theme = useTheme();\n    return (\n        <FormControl className={classes.formControl}>\n            <InputLabel id={`${name}-label`}>{name}</InputLabel>\n            <Select\n                labelId={`${name}-label`}\n                id={`${name}-select`}\n                multiple={multi}\n                value={value}\n                onChange={handleValueChange}\n                input={<Input />}\n                MenuProps={MenuProps}>\n                {values.map((v) => (\n                    <MenuItem key={v} value={v} style={getStyles(v, value, theme, isInView(v))}>\n                        {v}\n                    </MenuItem>\n                ))}\n            </Select>\n        </FormControl>\n    );\n};\n\nexport {\n    SelectValue\n};","import { useState } from 'react'\n\nexport const useValueChange = (startingValue = null) => {\n    const [value, setValue] = useState(startingValue !== null ? startingValue : []);\n\n    const handleChange = (event) => {\n        setValue(event.target.value);\n    };\n\n    return [value, handleChange];\n};","const API_PREFIX = '/api/1';\n\n/**\n * Encapsulates any calls to the ezbeq server.\n */\nclass EzBeqService {\n\n    getAuthors = () => {\n        return this.doGet('authors');\n    };\n\n    getYears = () => {\n        return this.doGet('years');\n    };\n\n    getAudioTypes = () => {\n        return this.doGet('audiotypes');\n    };\n\n    getMeta = () => {\n        return this.doGet('meta');\n    }\n\n    doGet = async (payload) => {\n        const response = await fetch(`${API_PREFIX}/${payload}`, {\n            method: 'GET'\n        });\n        if (!response.ok) {\n            throw new Error(`EzBeq.get${payload} failed, HTTP status ${response.status}`);\n        }\n        return await response.json();\n    }\n\n    appendTo = (url, name, values) => {\n        if (values && values.length > 0) {\n            return `${url}${url.indexOf('?') === -1 ? '?' : '&'}${name}=${values.join(',')}`;\n        }\n        return url;\n    }\n\n    search = async (authors = null, years = null, audioTypes = null) => {\n        const searchUrl = this.appendTo(this.appendTo(this.appendTo(`${API_PREFIX}/search`, 'authors', authors), 'years', years), 'audioTypes', audioTypes);\n        const response = await fetch(searchUrl, {\n            method: 'GET'\n        });\n        if (!response.ok) {\n            throw new Error(`EzBeq.search failed, HTTP status ${response.status}`);\n        }\n        return await response.json();\n    }\n\n    load = async () => {\n        return this.search();\n    }\n\n    sendFilter = async (id, slot) => {\n        const response = await fetch(`${API_PREFIX}/minidsp/${slot}`, {\n            method: 'PUT',\n            body: JSON.stringify({\n                id: id\n            }),\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n        });\n        if (!response.ok) {\n            throw new Error(`EzBeq.sendFilter failed, HTTP status ${response.status}`);\n        }\n        return await response.json();\n    }\n\n    clearSlot = async (slot) => {\n        const response = await fetch(`${API_PREFIX}/minidsp/${slot}`, {\n            method: 'DELETE'\n        });\n        if (!response.ok) {\n            throw new Error(`EzBeq.clearSlot failed, HTTP status ${response.status}`);\n        }\n        return await response.json();\n    }\n\n    activateSlot = async (slot) => {\n        const response = await fetch(`${API_PREFIX}/minidsp/${slot}`, {\n            method: 'PUT',\n            body: JSON.stringify({\n                command: 'activate'\n            }),\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n        });\n        if (!response.ok) {\n            throw new Error(`EzBeq.activateSlot failed, HTTP status ${response.status}`);\n        }\n        return await response.json();\n    }\n\n    getMinidspConfig = async () => {\n        return this.doGet('minidsps');\n    }\n}\n\nexport default new EzBeqService();\n","import React, {useEffect, useState} from 'react';\nimport {SelectValue} from \"./components/Filter\";\nimport {useValueChange} from \"./components/valueState\";\nimport {createMuiTheme, fade, makeStyles, ThemeProvider} from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport {DataGrid} from '@material-ui/data-grid';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport {Avatar, FormControlLabel, Grid, IconButton, InputBase, Switch} from \"@material-ui/core\";\nimport SearchIcon from '@material-ui/icons/Search';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport beqcIcon from './beqc.png'\nimport ezbeq from './services/ezbeq';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        flexGrow: 1,\n        width: '100wh',\n        height: '100vh',\n        '& > *': {\n            margin: theme.spacing(1),\n        }\n    },\n    noLeft: {\n        marginLeft: '0px'\n    },\n    noLeftTop: {\n        marginLeft: '0px',\n        marginTop: '0px'\n    },\n    title: {\n        flexGrow: 1,\n        marginLeft: theme.spacing(1)\n    },\n    search: {\n        position: 'relative',\n        borderRadius: theme.shape.borderRadius,\n        backgroundColor: fade(theme.palette.common.white, 0.15),\n        '&:hover': {\n            backgroundColor: fade(theme.palette.common.white, 0.25),\n        },\n        marginLeft: 0,\n        width: '50%',\n        [theme.breakpoints.up('sm')]: {\n            marginLeft: theme.spacing(1),\n            width: 'auto',\n        },\n    },\n    searchIcon: {\n        padding: theme.spacing(0, 2),\n        height: '100%',\n        position: 'absolute',\n        pointerEvents: 'none',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    inputRoot: {\n        color: 'inherit',\n    },\n    inputInput: {\n        padding: theme.spacing(1, 1, 1, 0),\n        // vertical padding + font size from searchIcon\n        paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n        transition: theme.transitions.create('width'),\n        width: '100%',\n        [theme.breakpoints.up('sm')]: {\n            width: '12ch',\n            '&:focus': {\n                width: '20ch',\n            },\n        },\n    },\n    advancedFilter: {\n        marginLeft: '4px',\n        marginRight: '0px'\n    },\n    smallAvatar: {\n        width: theme.spacing(3),\n        height: theme.spacing(3),\n    }\n}));\n\nconst App = () => {\n    const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');\n    const theme = React.useMemo(\n        () =>\n            createMuiTheme({\n                palette: {\n                    type: prefersDarkMode ? 'dark' : 'light',\n                },\n            }),\n        [prefersDarkMode],\n    );\n\n    const classes = useStyles();\n    // catalogue data\n    const [entries, setEntries] = useState([]);\n    const [authors, setAuthors] = useState([]);\n    const [years, setYears] = useState([]);\n    const [audioTypes, setAudioTypes] = useState([]);\n    const [meta, setMeta] = useState({});\n    // filtered catalogue data\n    const [filteredEntries, setFilteredEntries] = useState([]);\n    const [filteredYears, setFilteredYears] = useState([]);\n    const [filteredAudioTypes, setFilteredAudioTypes] = useState([]);\n    // minidsp data\n    const [minidspConfigSlots, setMinidspConfigSlots] = useState([]);\n    // user selections\n    const [selectedAuthors, handleAuthorChange] = useValueChange()\n    const [selectedYears, handleYearChange] = useValueChange()\n    const [selectedAudioTypes, handleAudioTypeChange] = useValueChange()\n    const [txtFilter, handleTxtFilterChange] = useValueChange('');\n    const [showFilters, setShowFilters] = useState(false);\n    const [selectedEntryId, setSelectedEntryId] = useState(-1);\n\n    const toggleShowFilters = () => {\n        setShowFilters((prev) => !prev);\n    };\n\n    const pushData = async (setter, getter) => {\n        const data = await getter();\n        setter(data);\n    };\n\n    // initial data load\n    useEffect(() => {\n        pushData(setEntries, ezbeq.load);\n    }, []);\n\n    useEffect(() => {\n        pushData(setMeta, ezbeq.getMeta);\n    }, []);\n\n    const combineMinidspState = state => {\n        setMinidspConfigSlots(state.slots.map(s => Object.assign(s, {active: state.active !== null && state.active === s.id})));\n    };\n\n    useEffect(() => {\n        pushData(combineMinidspState, ezbeq.getMinidspConfig);\n    }, []);\n\n    useEffect(() => {\n        pushData(setAuthors, ezbeq.getAuthors);\n    }, []);\n\n    useEffect(() => {\n        pushData(setYears, ezbeq.getYears);\n    }, []);\n\n    useEffect(() => {\n        pushData(setAudioTypes, ezbeq.getAudioTypes);\n    }, []);\n\n    useEffect(() => {\n        // catalogue filter\n        const isMatch = (entry) => {\n            if (!selectedAuthors.length || selectedAuthors.indexOf(entry.author) > -1) {\n                if (!selectedYears.length || selectedYears.indexOf(entry.year) > -1) {\n                    if (!selectedAudioTypes.length || entry.audioTypes.some(at => selectedAudioTypes.indexOf(at) > -1)) {\n                        if (!txtFilter || entry.title.toLowerCase().includes(txtFilter.toLowerCase())) {\n                            return true;\n                        }\n                    }\n                }\n            }\n            return false;\n        }\n        pushData(setFilteredEntries, () => entries.filter(isMatch));\n    }, [entries, selectedAudioTypes, selectedYears, selectedAuthors, txtFilter]);\n\n    useEffect(() => {\n        pushData(setFilteredYears, () => [...new Set(filteredEntries.map(e => e.year))]);\n        pushData(setFilteredAudioTypes, () => [...new Set(filteredEntries.map(e => e.audioTypes).flat())]);\n    }, [filteredEntries]);\n\n    const sendToDevice = async (entryId, slotId) => {\n        const selected = filteredEntries.find(e => e.id === entryId);\n        const vals = await ezbeq.sendFilter(selected.id, slotId);\n        combineMinidspState(vals);\n    }\n\n    const clearDeviceSlot = async (slotId) => {\n        const vals = await ezbeq.clearSlot(slotId);\n        combineMinidspState(vals);\n    }\n\n    const activateSlot = async (slotId) => {\n        const vals = await ezbeq.activateSlot(slotId);\n        combineMinidspState(vals);\n    }\n\n    // grid definitions\n    const minidspGridColumns = [\n        {\n            field: 'id',\n            headerName: ' ',\n            width: 25,\n            valueFormatter: params => `${params.value + 1}${params.getValue('active') ? '*' : ''}`\n        },\n        {\n            field: 'actions',\n            headerName: 'Actions',\n            width: 120,\n            renderCell: params => (\n                <>\n                    <IconButton aria-label={'send'}\n                                disabled={selectedEntryId === -1}\n                                onClick={() => sendToDevice(selectedEntryId, params.row.id)}\n                                color=\"primary\"\n                                edge={'start'}>\n                        <CloudUploadIcon/>\n                    </IconButton>\n                    <IconButton aria-label={'activate'}\n                                onClick={() => activateSlot(params.row.id)}\n                                color=\"primary\"\n                                edge={'start'}>\n                        <PlayArrowIcon/>\n                    </IconButton>\n                    <IconButton aria-label={'clear'}\n                                onClick={() => clearDeviceSlot(params.row.id)}\n                                color=\"primary\"\n                                edge={'start'}>\n                        <ClearIcon/>\n                    </IconButton>\n                </>\n            ),\n        },\n        {\n            field: 'last',\n            headerName: 'Loaded',\n            flex: 0.45,\n        },\n        {\n            field: 'active',\n            headerName: 'Active',\n            hide: true\n        }\n    ];\n    const catalogueGridColumns = [\n        {\n            field: 'title',\n            headerName: 'Title',\n            flex: 0.6,\n            renderCell: params => (\n                params.row.url\n                    ? <a href={params.row.url} target='_beq'>{params.value}</a>\n                    : params.value\n            )\n        },\n        {\n            field: 'audioTypes',\n            headerName: 'Audio Type',\n            flex: 0.4\n        }\n    ];\n    const padZero = n => n.toString().padStart(2, '0');\n    const formatSeconds = s => {\n        if (s) {\n            const d = new Date(0);\n            d.setUTCSeconds(s);\n            return `${d.getFullYear()}${padZero(d.getMonth()+1)}${padZero(d.getDate())}_${padZero(d.getHours())}${padZero(d.getMinutes())}${padZero(d.getSeconds())}`\n        }\n        return '?';\n    }\n\n\n    return (\n        <ThemeProvider theme={theme}>\n            <CssBaseline/>\n            <div className={classes.root}>\n                <AppBar position=\"static\" className={classes.noLeftTop}>\n                    <Toolbar>\n                        <Avatar alt=\"beqcatalogue\"\n                                variant=\"rounded\"\n                                src={beqcIcon}\n                                className={classes.smallAvatar}/>\n                        <Typography className={classes.title} variant=\"h6\" noWrap>ezbeq</Typography>\n                        <div className={classes.search}>\n                            <div className={classes.searchIcon}>\n                                <SearchIcon/>\n                            </div>\n                            <InputBase\n                                placeholder=\"Searchâ€¦\"\n                                classes={{\n                                    root: classes.inputRoot,\n                                    input: classes.inputInput,\n                                }}\n                                inputProps={{'aria-label': 'search'}}\n                                value={txtFilter}\n                                onChange={handleTxtFilterChange}\n                                size={'small'}\n                            />\n                        </div>\n                        <FormControlLabel className={classes.advancedFilter}\n                                          control={<Switch checked={showFilters} onChange={toggleShowFilters}\n                                                           size={'small'}/>}\n                        />\n                    </Toolbar>\n                </AppBar>\n                {\n                    showFilters\n                        ?\n                        <Grid container className={classes.noLeft}>\n                            <Grid item>\n                                <SelectValue name=\"Author\"\n                                             value={selectedAuthors}\n                                             handleValueChange={handleAuthorChange}\n                                             values={authors}\n                                             isInView={v => true}/>\n                                <SelectValue name=\"Year\"\n                                             value={selectedYears}\n                                             handleValueChange={handleYearChange}\n                                             values={years}\n                                             isInView={v => filteredYears.length === 0 || filteredYears.indexOf(v) > -1}/>\n                                <SelectValue name=\"Audio Type\"\n                                             value={selectedAudioTypes}\n                                             handleValueChange={handleAudioTypeChange}\n                                             values={audioTypes}\n                                             isInView={v => filteredAudioTypes.length === 0 || filteredAudioTypes.indexOf(v) > -1}/>\n                            </Grid>\n                        </Grid>\n                        : null\n                }\n                <Grid container direction={'column'} className={classes.noLeft}>\n                    <Grid item style={{height: '190px', width: '100%'}}>\n                        <DataGrid rows={minidspConfigSlots}\n                                  columns={minidspGridColumns}\n                                  autoPageSize\n                                  hideFooter\n                                  density={'compact'}/>\n                    </Grid>\n                </Grid>\n                {\n                    filteredEntries.length\n                        ?\n                        <Grid container className={classes.noLeft}>\n                            <Grid item style={{height: `${window.innerHeight - 306}px`, width: '100%'}}>\n                                <DataGrid rows={filteredEntries}\n                                          columns={catalogueGridColumns}\n                                          pageSize={100}\n                                          density={'compact'}\n                                          sortModel={[\n                                              {\n                                                  field: 'title',\n                                                  sort: 'asc',\n                                              },\n                                          ]}\n                                          onRowSelected={p => setSelectedEntryId(p.data.id)}\n                                />\n                            </Grid>\n                        </Grid>\n                        : null\n                }\n                {\n                    meta\n                    ?\n                        <Grid container justify=\"center\" className={classes.noLeft}>\n                            <Grid item>\n                                <Typography align={'center'} variant={'caption'} color={'textSecondary'}>\n                                    BEQCatalogue: {formatSeconds(meta.created)}\n                                </Typography>\n                            </Grid>\n                        </Grid>\n                    : null\n                }\n            </div>\n        </ThemeProvider>\n    );\n};\n\nexport default App;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAHmUExURRUoRhsuTgQUKAIGEwcTJwkUKDhCUgAAABUnRRcqSxMnRAoVKhcoRRYpSQUNHBEeNCIRIgcSJBIkRBwoPRQoRwsVJwEGKRgrTBIfPa8ABf+gLFw5JhUiOK7XAP+lKwwaMQIDBsUDAxEkRgoiSPudLE5pEz6uyM8DAwYKGmeCCwUIDRAiQRgkORxjihcpRwwlQwMQIDosXf+rLJZq2QsfODUQHx0uQd4CAAsaJxxWa0C0ztICAj9UGbQABEO61LjjACAlLiYsNxYmISUzVlULGEZiFbsCBAEWKgsZLLXfAC0pTAEOKAoqSlU6KL3pAC80P8w0c8h3Lh0SJBpJYE01KE45Kb1yLl5GKWd9A22HBi5BGz9PaotaKj1LY0dUax8yUSUwQyAoScgCAmomT8IzcLstZNg3eVtDjY1lzSdifxQTJXVMpjqivBdAVJ8GCseAMsuDMismKcEDBGILFyp1jC4RIXORC9kDAowDDJi8AjYrKOQDAYEIER1okNOFLKDIAt6QKxceKZZmKrlvLjFBXzBBX1ENGqgxaSQeNUIfN4soVyVeeoFev5gtYLAsYmRMmVkaMDo5Qp5x4wYRKjwgOWVQPgwrPG5JnlhHP1I8MxxWgFduG7huLhE2U5ZiOjhVLcJ0LjyqxOcUrVYAAAJzSURBVDjLhdP3V9pQFAfwEPNqyECCIEsQmYIaREBExAoiInXvvbd111FX1e699/pXe2MYaj3t94d7cl8+eUlOcrHc/wQTiqv9xjVpN6VBZOzhuOSvjD8YqxdBZFhRqqAoiqTcbjeVCSwO1wvANVqK8RiGMcrJZDIpHKXCk4pRE4BIg0JcZR53zHRMu7OEVzTUA5hQk+enqcmZuY65Z01sdg9SPQGgSkqmLng5+2p2uqJImQXSKgD5KcBQDR6PJ4/jsoKU5l8ApPSFd8E7L6Oz4hJQUpIFr/fdaxmNQEhZlr26A4bNL39e9lTQCIQGQqZAWRoouoPB4CcOIUQkgouLzyUkKS27AEj17Rp73Z0SGtGylRq7vaZbw14GEhEkqqtlK3V2e103IYLC9C3Ib0flRz8LhPjKIT6uSH0JmL8PDgwODe0M7tiiA07nQPQ95ysEkCcC3lx1r9nQ5nS2GZrv1jYbDDdrC1RIlQI8z/DKawAtEwFjtpjNFstvW6MtGoUyhDfabI3VBJECjOXt2vr6Wvuvzvudra1QRjZ+9PX1beAoAz4arTpj/4nRWnl2Vmk1nvQbddbK/luqDPiis+p0vccARkYAHPfqYKE3A+Ahv+r1Pfi+vlV/egplH++BHj5KeoeWD2GtVru9F9bGY7G4Nry3DW3Yj4s7JNRMy5uAIxSIxXcdB4eHB47deCwQcgQeNanoEgAyAE+niouL/auOzdDWVmjTseqHdsrfhBIuYS4YllQ+kcu78CW5XI4QlCW8S+gJxJ0PTg4PwofjCIcQhFBVQoEfwySOnkvDs2oNfTWowpQe3twcDt4o50pM2en+V/4ADiuBy0gwQ9YAAABXelRYdFJhdyBwcm9maWxlIHR5cGUgaXB0YwAAeJzj8gwIcVYoKMpPy8xJ5VIAAyMLLmMLEyMTS5MUAxMgRIA0w2QDI7NUIMvY1MjEzMQcxAfLgEigSi4A6hcRdPJCNZUAAAAASUVORK5CYII=\"","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport '@fontsource/roboto'\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}