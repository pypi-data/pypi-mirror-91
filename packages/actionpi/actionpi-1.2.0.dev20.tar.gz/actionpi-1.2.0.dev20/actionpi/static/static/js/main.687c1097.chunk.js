(this["webpackJsonpreact-material-ui"]=this["webpackJsonpreact-material-ui"]||[]).push([[0],{101:function(e){e.exports=JSON.parse('{"name":"react-material-ui","version":"0.1.0","private":true,"dependencies":{"@material-ui/core":"^4.11.0","@material-ui/icons":"^4.9.1","@material-ui/lab":"^4.0.0-alpha.57","@mui-treasury/layout":"^4.5.0","@mui-treasury/mockup":"^1.2.9","@testing-library/jest-dom":"^4.2.4","@testing-library/react":"^9.3.2","@testing-library/user-event":"^7.1.2","conditional-wrap":"^1.0.2","mdi-material-ui":"^6.20.0","react":"^16.13.1","react-dom":"^16.13.1","react-router-dom":"^5.2.0","react-scripts":"3.4.1"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject"},"eslintConfig":{"extends":"react-app","rules":{"no-unused-vars":"off"}},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')},102:function(e,a,n){e.exports=n.p+"static/media/logo.cabc4b0d.png"},5879:function(e,a,n){e.exports=n(5890)},5884:function(e,a,n){},5890:function(e,a,n){"use strict";n.r(a);var t=n(0),r=n.n(t),o=n(10),c=n.n(o),l=(n(5884),n(99)),i=n(100),m=n(113),d=n(114),u=n(12),s=n(72),E=n(5933),p=n(5941),f=n(5940),g=n(5974),b=n(5894),A=n(5936),h=n(5937),S=n(5938),v=n(5939),C=n(41),y=n(106),I=n.n(y),O=n(107),N=n.n(O),T=n(108),M=n.n(T),w=n(38),x=n(101),j=r.a.createContext({isDrawerOpened:!1,toggleDrawer:function(){}}),R=n(109),k=n.n(R),G=n(102),B=n.n(G),K=Object(E.a)((function(e){return{root:{},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(s.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar,{justifyContent:"flex-end"}),expandedImg:{width:"100%",height:"100%"},link:{color:"grey","text-decoration":"none"},drawerFooter:{position:"absolute",bottom:0,right:0,fontSize:"0.5rem",padding:"10px","background-color":e.palette.grey[50]},sunnyIcon:{color:"yellow"},logo:{height:"35px"}}}));function L(){var e=K();return r.a.createElement(j.Consumer,null,(function(a){var n=a.isDrawerOpened,t=a.toggleDrawer;return r.a.createElement(g.a,{className:e.drawer,variant:"persistent",anchor:"left",open:n,classes:{paper:e.drawerPaper}},r.a.createElement("div",{className:e.drawerHeader}),r.a.createElement(A.a,null,r.a.createElement(w.b,{className:e.link,to:Oa.HOME,onClick:t},r.a.createElement(h.a,{button:!0,key:"Live Video"},r.a.createElement(S.a,null,r.a.createElement(I.a,null)),r.a.createElement(v.a,{primary:"Live Video"}))),r.a.createElement(w.b,{className:e.link,to:Oa.SETTINGS,onClick:t},r.a.createElement(h.a,{button:!0,key:"Settings"},r.a.createElement(S.a,null,r.a.createElement(N.a,null)),r.a.createElement(v.a,{primary:"Settings"}))),r.a.createElement(w.b,{className:e.link,to:Oa.RECORDINGS,onClick:t},r.a.createElement(h.a,{button:!0,key:"Recordings"},r.a.createElement(S.a,null,r.a.createElement(M.a,null)),r.a.createElement(v.a,{primary:"Recordings"})))),r.a.createElement(f.a,null),r.a.createElement(p.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:e.drawerFooter},r.a.createElement(p.a,{item:!0},r.a.createElement(p.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:1},r.a.createElement(p.a,{item:!0},r.a.createElement("img",{src:B.a,alt:"Logo",className:e.logo})),r.a.createElement(p.a,{item:!0},r.a.createElement(C.a,{className:e.title,align:"right",variant:"h6"},"ActionPi")))),r.a.createElement(p.a,{item:!0},r.a.createElement(p.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(p.a,{item:!0},r.a.createElement(b.a,{"aria-label":"github",href:"https://github.com/andreacioni/actionpi",target:"_blank"},r.a.createElement(k.a,null))),r.a.createElement(p.a,{item:!0},r.a.createElement(C.a,{className:e.title,align:"right",variant:"caption"},"v",x.version))))))}))}var P=n(5967),F=n(13),D=n(5946),U=n(5897),W=n(116),H=n(45),z=n(5944),J=n(5945),V=n(111),q=n.n(V),Y=n(69),Z=n.n(Y),X=n(5942),Q=n(5943);function _(){return r.a.createElement(X.a,{title:"Reboot to apply changes"},r.a.createElement(Q.a,{color:"primary"}))}var $=r.a.createContext({rebootRequired:!1,setRebootRequired:function(){}}),ee=Object(E.a)((function(e){return{root:{flexGrow:1},appBar:{zIndex:e.zIndex.drawer+1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function ae(e){var a=ee(),n=r.a.useContext($),t=n.rebootRequired,o=(n.setRebootRequired,r.a.useContext(j)),c=o.isDrawerOpened,l=o.toggleDrawer;return r.a.createElement("header",{className:a.root},r.a.createElement(z.a,{position:"fixed",className:a.appBar},r.a.createElement(J.a,null,r.a.createElement(b.a,{onClick:l,className:a.menuButton,color:"inherit","aria-label":"menu"},!0===c?r.a.createElement(Z.a,null):r.a.createElement(q.a,null)),r.a.createElement(C.a,{variant:"h6",className:a.title},e.title),t&&r.a.createElement(_,null))))}ae.defaultProps={};var ne=Object(E.a)((function(e){return{paper:{padding:e.spacing(2),color:e.palette.text.secondary},title:{textAlign:"left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},value:{textAlign:"right",fontWeight:"bold"}}}));function te(e){var a=ne();return r.a.createElement(p.a,{container:!0,spacing:2},r.a.createElement(p.a,{item:!0,xs:2},e.icon),r.a.createElement(p.a,{item:!0,className:a.title,xs:7},e.title),r.a.createElement(p.a,{item:!0,className:a.value,xs:3},Math.trunc(e.value)+" "+e.uom))}te.defaultProps={value:0,uom:"",warnValue:99999,alarmValue:99999};var re=n(82),oe=n.n(re),ce=Object(E.a)((function(e){return{expandedImg:{width:"100%",height:"100%"},paper:{padding:10,margin:10},buttonContainer:{"text-align":"center",margin:"10px 0 10px 0"}}}));function le(){var e,a,n=ce(),o=Object(t.useState)({system:{cpu_temperature:0,cpu_load:0,mem_usage:0,disk_usage:[]},recording:null,framerate:0}),c=Object(u.a)(o,2),l=c[0],i=c[1],m=Object(t.useState)(null),d=Object(u.a)(m,2),s=d[0],E=d[1],f=Object(t.useState)(oe.a),g=Object(u.a)(f,2),b=g[0],A=g[1];Object(t.useEffect)((function a(){return fetch("api/status").then((function(e){return e.json()})).then((function(n){i(n),E(n.recording),void 0===e&&(e=setInterval(a,2e3))})).catch((function(e){return console.error("There was an error getting status:",e)})),function(){clearInterval(e)}}),[]);Object(t.useEffect)((function e(){return s&&A("preview?"+(new Date).getTime()),void 0===a&&(a=setInterval(e,2e3)),function(){clearInterval(a)}}),[s]);var h=function(e){E(e),fetch("api/"+(e?"start":"stop")).then((function(e){return e})).then((function(a){E(e)})).catch((function(a){console.error("There was en error setting recording status:",e,a),E(!e)}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ae,{title:"ActionPi"}),r.a.createElement("div",null,r.a.createElement("img",{src:b,alt:"Live capture",onError:function(){return A(oe.a)},className:n.expandedImg}),r.a.createElement(C.a,{variant:"caption"},r.a.createElement("i",null,"*Recording quality may be different"))),r.a.createElement("div",{className:n.buttonContainer},r.a.createElement(D.a,{size:"large",color:"primary","aria-label":"large outlined secondary button group",variant:"contained"},r.a.createElement(U.a,{startIcon:r.a.createElement(H.e,null),disabled:null===s||!1===s,onClick:function(){return h(!1)}},"Stop"),r.a.createElement(U.a,{startIcon:r.a.createElement(H.c,null),disabled:null===s||!0===s,onClick:function(){return h(!0)}},"Rec"))),r.a.createElement("div",null,r.a.createElement(W.a,{className:n.paper},r.a.createElement(p.a,{container:!0,spacing:1},r.a.createElement(p.a,{item:!0,xs:12},r.a.createElement(C.a,null,"Status")),r.a.createElement(p.a,{item:!0,xs:6},r.a.createElement(te,{icon:r.a.createElement(H.f,null),title:"CPU Temperature",uom:"\xb0C",value:l.system.cpu_temperature})),r.a.createElement(p.a,{item:!0,xs:6},r.a.createElement(te,{icon:r.a.createElement(H.d,null),title:"CPU Load",uom:"%",value:l.system.cpu_load})),r.a.createElement(p.a,{item:!0,xs:6},r.a.createElement(te,{icon:r.a.createElement(H.b,null),title:"RAM Usage",uom:"%",value:l.system.mem_usage})),r.a.createElement(p.a,{item:!0,xs:6},r.a.createElement(te,{icon:r.a.createElement(H.a,null),title:"Disk Usage",uom:"%",value:l.system.disk_usage.length>0?l.system.disk_usage.find((function(e){return"/media/recordings"===e.mountpoint})).percent:0}))))))}var ie=n(5949),me=n(5950),de=n(5947),ue=n(5948),se=n(5951),Ee=Object(E.a)((function(e){return{}}));function pe(e){Ee();var a=e.fileName.endsWith(".h264");return r.a.createElement(h.a,{divider:!0,key:e.key},r.a.createElement(S.a,null,a?r.a.createElement(de.a,null):r.a.createElement(ue.a,null)),r.a.createElement(v.a,{primary:e.fileName,secondary:"Size: "+e.fileSize+" bytes"}),r.a.createElement(ie.a,null,r.a.createElement(me.a,{href:"api/recording/"+e.fileName},r.a.createElement(b.a,{disabled:!1===a},r.a.createElement(se.a,null)))))}var fe=Object(E.a)((function(e){return{}}));function ge(){fe();var e=Object(t.useState)(!0),a=Object(u.a)(e,2),n=(a[0],a[1],Object(t.useState)([])),o=Object(u.a)(n,2),c=o[0],l=o[1];return Object(t.useEffect)((function(){fetch("api/recordings").then((function(e){return e.json()})).then((function(e){return l(e)}))}),[]),r.a.createElement("div",null,r.a.createElement(ae,{title:"Recordings"}),r.a.createElement(A.a,null,c.map((function(e){return r.a.createElement(pe,{key:e.name,fileName:e.name,fileSize:e.size})}))))}var be=n(5961),Ae=n(5965),he=n(5962),Se=n(5963),ve=n(5964),Ce=n(5966),ye=Object(E.a)((function(e){return{}}));function Ie(e){ye();return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{onClick:e.onClick,button:e.button,divider:!0},r.a.createElement(S.a,null,e.icon),r.a.createElement(v.a,{primary:e.title,secondary:e.subtitle}),e.action),r.a.createElement(f.a,null))}Ie.defaultProps={button:!0};var Oe=n(5960),Ne=n(5952),Te=n(5953),Me=n(5954),we=(n(5955),n(5972)),xe=n(5956),je=n(5957),Re=n(5958),ke=n(5973),Ge=n(5959),Be=n(5971),Ke=n(5969),Le=n(5970),Pe=[{code:"AF",name:"Afghanistan"},{code:"AX",name:"\xc5land Islands"},{code:"AL",name:"Albania"},{code:"DZ",name:"Algeria"},{code:"AS",name:"American Samoa"},{code:"AD",name:"Andorra"},{code:"AO",name:"Angola"},{code:"AI",name:"Anguilla"},{code:"AQ",name:"Antarctica"},{code:"AG",name:"Antigua and Barbuda"},{code:"AR",name:"Argentina"},{code:"AM",name:"Armenia"},{code:"AW",name:"Aruba"},{code:"AU",name:"Australia"},{code:"AT",name:"Austria"},{code:"AZ",name:"Azerbaijan"},{code:"BS",name:"Bahamas"},{code:"BH",name:"Bahrain"},{code:"BD",name:"Bangladesh"},{code:"BB",name:"Barbados"},{code:"BY",name:"Belarus"},{code:"BE",name:"Belgium"},{code:"BZ",name:"Belize"},{code:"BJ",name:"Benin"},{code:"BM",name:"Bermuda"},{code:"BT",name:"Bhutan"},{code:"BO",name:"Bolivia, Plurinational State of"},{code:"BQ",name:"Bonaire, Sint Eustatius and Saba"},{code:"BA",name:"Bosnia and Herzegovina"},{code:"BW",name:"Botswana"},{code:"BV",name:"Bouvet Island"},{code:"BR",name:"Brazil"},{code:"IO",name:"British Indian Ocean Territory"},{code:"BN",name:"Brunei Darussalam"},{code:"BG",name:"Bulgaria"},{code:"BF",name:"Burkina Faso"},{code:"BI",name:"Burundi"},{code:"KH",name:"Cambodia"},{code:"CM",name:"Cameroon"},{code:"CA",name:"Canada"},{code:"CV",name:"Cape Verde"},{code:"KY",name:"Cayman Islands"},{code:"CF",name:"Central African Republic"},{code:"TD",name:"Chad"},{code:"CL",name:"Chile"},{code:"CN",name:"China"},{code:"CX",name:"Christmas Island"},{code:"CC",name:"Cocos (Keeling) Islands"},{code:"CO",name:"Colombia"},{code:"KM",name:"Comoros"},{code:"CG",name:"Congo"},{code:"CD",name:"Congo, the Democratic Republic of the"},{code:"CK",name:"Cook Islands"},{code:"CR",name:"Costa Rica"},{code:"CI",name:"C\xf4te d'Ivoire"},{code:"HR",name:"Croatia"},{code:"CU",name:"Cuba"},{code:"CW",name:"Cura\xe7ao"},{code:"CY",name:"Cyprus"},{code:"CZ",name:"Czech Republic"},{code:"DK",name:"Denmark"},{code:"DJ",name:"Djibouti"},{code:"DM",name:"Dominica"},{code:"DO",name:"Dominican Republic"},{code:"EC",name:"Ecuador"},{code:"EG",name:"Egypt"},{code:"SV",name:"El Salvador"},{code:"GQ",name:"Equatorial Guinea"},{code:"ER",name:"Eritrea"},{code:"EE",name:"Estonia"},{code:"ET",name:"Ethiopia"},{code:"FK",name:"Falkland Islands (Malvinas)"},{code:"FO",name:"Faroe Islands"},{code:"FJ",name:"Fiji"},{code:"FI",name:"Finland"},{code:"FR",name:"France"},{code:"GF",name:"French Guiana"},{code:"PF",name:"French Polynesia"},{code:"TF",name:"French Southern Territories"},{code:"GA",name:"Gabon"},{code:"GM",name:"Gambia"},{code:"GE",name:"Georgia"},{code:"DE",name:"Germany"},{code:"GH",name:"Ghana"},{code:"GI",name:"Gibraltar"},{code:"GR",name:"Greece"},{code:"GL",name:"Greenland"},{code:"GD",name:"Grenada"},{code:"GP",name:"Guadeloupe"},{code:"GU",name:"Guam"},{code:"GT",name:"Guatemala"},{code:"GG",name:"Guernsey"},{code:"GN",name:"Guinea"},{code:"GW",name:"Guinea-Bissau"},{code:"GY",name:"Guyana"},{code:"HT",name:"Haiti"},{code:"HM",name:"Heard Island and McDonald Islands"},{code:"VA",name:"Holy See (Vatican City State)"},{code:"HN",name:"Honduras"},{code:"HK",name:"Hong Kong"},{code:"HU",name:"Hungary"},{code:"IS",name:"Iceland"},{code:"IN",name:"India"},{code:"ID",name:"Indonesia"},{code:"IR",name:"Iran, Islamic Republic of"},{code:"IQ",name:"Iraq"},{code:"IE",name:"Ireland"},{code:"IM",name:"Isle of Man"},{code:"IL",name:"Israel"},{code:"IT",name:"Italy"},{code:"JM",name:"Jamaica"},{code:"JP",name:"Japan"},{code:"JE",name:"Jersey"},{code:"JO",name:"Jordan"},{code:"KZ",name:"Kazakhstan"},{code:"KE",name:"Kenya"},{code:"KI",name:"Kiribati"},{code:"KP",name:"Korea, Democratic People's Republic of"},{code:"KR",name:"Korea, Republic of"},{code:"KW",name:"Kuwait"},{code:"KG",name:"Kyrgyzstan"},{code:"LA",name:"Lao People's Democratic Republic"},{code:"LV",name:"Latvia"},{code:"LB",name:"Lebanon"},{code:"LS",name:"Lesotho"},{code:"LR",name:"Liberia"},{code:"LY",name:"Libya"},{code:"LI",name:"Liechtenstein"},{code:"LT",name:"Lithuania"},{code:"LU",name:"Luxembourg"},{code:"MO",name:"Macao"},{code:"MK",name:"Macedonia, the Former Yugoslav Republic of"},{code:"MG",name:"Madagascar"},{code:"MW",name:"Malawi"},{code:"MY",name:"Malaysia"},{code:"MV",name:"Maldives"},{code:"ML",name:"Mali"},{code:"MT",name:"Malta"},{code:"MH",name:"Marshall Islands"},{code:"MQ",name:"Martinique"},{code:"MR",name:"Mauritania"},{code:"MU",name:"Mauritius"},{code:"YT",name:"Mayotte"},{code:"MX",name:"Mexico"},{code:"FM",name:"Micronesia, Federated States of"},{code:"MD",name:"Moldova, Republic of"},{code:"MC",name:"Monaco"},{code:"MN",name:"Mongolia"},{code:"ME",name:"Montenegro"},{code:"MS",name:"Montserrat"},{code:"MA",name:"Morocco"},{code:"MZ",name:"Mozambique"},{code:"MM",name:"Myanmar"},{code:"NA",name:"Namibia"},{code:"NR",name:"Nauru"},{code:"NP",name:"Nepal"},{code:"NL",name:"Netherlands"},{code:"NC",name:"New Caledonia"},{code:"NZ",name:"New Zealand"},{code:"NI",name:"Nicaragua"},{code:"NE",name:"Niger"},{code:"NG",name:"Nigeria"},{code:"NU",name:"Niue"},{code:"NF",name:"Norfolk Island"},{code:"MP",name:"Northern Mariana Islands"},{code:"NO",name:"Norway"},{code:"OM",name:"Oman"},{code:"PK",name:"Pakistan"},{code:"PW",name:"Palau"},{code:"PS",name:"Palestine, State of"},{code:"PA",name:"Panama"},{code:"PG",name:"Papua New Guinea"},{code:"PY",name:"Paraguay"},{code:"PE",name:"Peru"},{code:"PH",name:"Philippines"},{code:"PN",name:"Pitcairn"},{code:"PL",name:"Poland"},{code:"PT",name:"Portugal"},{code:"PR",name:"Puerto Rico"},{code:"QA",name:"Qatar"},{code:"RE",name:"R\xe9union"},{code:"RO",name:"Romania"},{code:"RU",name:"Russian Federation"},{code:"RW",name:"Rwanda"},{code:"BL",name:"Saint Barth\xe9lemy"},{code:"SH",name:"Saint Helena, Ascension and Tristan da Cunha"},{code:"KN",name:"Saint Kitts and Nevis"},{code:"LC",name:"Saint Lucia"},{code:"MF",name:"Saint Martin (French part)"},{code:"PM",name:"Saint Pierre and Miquelon"},{code:"VC",name:"Saint Vincent and the Grenadines"},{code:"WS",name:"Samoa"},{code:"SM",name:"San Marino"},{code:"ST",name:"Sao Tome and Principe"},{code:"SA",name:"Saudi Arabia"},{code:"SN",name:"Senegal"},{code:"RS",name:"Serbia"},{code:"SC",name:"Seychelles"},{code:"SL",name:"Sierra Leone"},{code:"SG",name:"Singapore"},{code:"SX",name:"Sint Maarten (Dutch part)"},{code:"SK",name:"Slovakia"},{code:"SI",name:"Slovenia"},{code:"SB",name:"Solomon Islands"},{code:"SO",name:"Somalia"},{code:"ZA",name:"South Africa"},{code:"GS",name:"South Georgia and the South Sandwich Islands"},{code:"SS",name:"South Sudan"},{code:"ES",name:"Spain"},{code:"LK",name:"Sri Lanka"},{code:"SD",name:"Sudan"},{code:"SR",name:"Suriname"},{code:"SJ",name:"Svalbard and Jan Mayen"},{code:"SZ",name:"Swaziland"},{code:"SE",name:"Sweden"},{code:"CH",name:"Switzerland"},{code:"SY",name:"Syrian Arab Republic"},{code:"TW",name:"Taiwan, Province of China"},{code:"TJ",name:"Tajikistan"},{code:"TZ",name:"Tanzania, United Republic of"},{code:"TH",name:"Thailand"},{code:"TL",name:"Timor-Leste"},{code:"TG",name:"Togo"},{code:"TK",name:"Tokelau"},{code:"TO",name:"Tonga"},{code:"TT",name:"Trinidad and Tobago"},{code:"TN",name:"Tunisia"},{code:"TR",name:"Turkey"},{code:"TM",name:"Turkmenistan"},{code:"TC",name:"Turks and Caicos Islands"},{code:"TV",name:"Tuvalu"},{code:"UG",name:"Uganda"},{code:"UA",name:"Ukraine"},{code:"AE",name:"United Arab Emirates"},{code:"GB",name:"United Kingdom"},{code:"US",name:"United States"},{code:"UM",name:"United States Minor Outlying Islands"},{code:"UY",name:"Uruguay"},{code:"UZ",name:"Uzbekistan"},{code:"VU",name:"Vanuatu"},{code:"VE",name:"Venezuela, Bolivarian Republic of"},{code:"VN",name:"Viet Nam"},{code:"VG",name:"Virgin Islands, British"},{code:"VI",name:"Virgin Islands, U.S."},{code:"WF",name:"Wallis and Futuna"},{code:"EH",name:"Western Sahara"},{code:"YE",name:"Yemen"},{code:"ZM",name:"Zambia"},{code:"ZW",name:"Zimbabwe"}];function Fe(e){var a=r.a.useState(!1),n=Object(u.a)(a,2),t=n[0],o=n[1],c=r.a.useState(null),l=Object(u.a)(c,2),i=l[0],m=l[1],d=r.a.useState(null),s=Object(u.a)(d,2),E=s[0],f=s[1],g=r.a.useState(null),A=Object(u.a)(g,2),h=A[0],S=A[1],v=r.a.useState(!1),C=Object(u.a)(v,2),y=C[0],I=C[1];r.a.useEffect((function(){o(e.hotspotEnabled)}),[e.hotspotEnabled]);var O=function(){e.onClose()};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne.a,{open:e.open,onClose:O,"aria-labelledby":"form-dialog-title"},r.a.createElement(Te.a,{id:"form-dialog-title"},"WiFi"),r.a.createElement(Me.a,null,r.a.createElement(p.a,{container:!0,spacing:1},r.a.createElement(p.a,{item:!0,xs:12},r.a.createElement(je.a,{component:"fieldset"},r.a.createElement(Re.a,{component:"legend"},"Mode"),r.a.createElement(ke.a,{row:!0,"aria-label":"mode",name:"mode1",value:t?"hotspot":"client",onChange:function(e,a){o("hotspot"===a),m(null),f(null),S(null)}},r.a.createElement(Ge.a,{value:"hotspot",control:r.a.createElement(Be.a,null),label:"Hotspot"}),r.a.createElement(Ge.a,{value:"client",control:r.a.createElement(Be.a,null),label:"Client"})))),r.a.createElement(p.a,{item:!0,xs:12},r.a.createElement(p.a,{container:!0,spacing:1},r.a.createElement(p.a,{item:!0,xs:10},r.a.createElement(Le.a,{id:"country-code",disabled:t,options:Pe,value:h,getOptionLabel:function(e){return e.name},renderInput:function(e){return r.a.createElement(Ke.a,Object.assign({},e,{label:"Country"}))},onChange:function(e,a){return S(a)}})),r.a.createElement(p.a,{item:!0,xs:2},r.a.createElement(X.a,{disabled:t,onClick:function(){I(!0),setTimeout((function(){return I(!1)}),3e3)},onBlur:function(e){return I(!1)},open:y,title:"Wireless bandwidth settings differ from every country"},r.a.createElement(b.a,{disabled:t},r.a.createElement(Oe.a,null)))))),r.a.createElement(p.a,{item:!0,xs:6},r.a.createElement(Ke.a,{id:"ssid",fullWidth:!0,margin:"normal",disabled:t,label:t?"ActionPi":"SSID",value:t?"":i,onChange:function(e){return m(e.target.value)}})),r.a.createElement(p.a,{item:!0,xs:6},r.a.createElement(Ke.a,{id:"wifi-password",fullWidth:!0,margin:"normal",label:"Password",type:"password",placeholder:t?"**********":"",value:E||"",onChange:function(e){return f(e.target.value)},InputLabelProps:t?{shrink:!0}:void 0})))),r.a.createElement(xe.a,null,r.a.createElement(U.a,{onClick:O,color:"primary"},"Cancel"),r.a.createElement(U.a,{onClick:function(){e.onClose(t,h?h.code:null,i,E)},color:"primary"},"Ok"))))}function De(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne.a,{open:e.open,onClose:function(){return e.onCancel()},"aria-labelledby":"form-dialog-title"},r.a.createElement(Te.a,{id:"form-dialog-title"},"Confirm"),r.a.createElement(Me.a,null,r.a.createElement(C.a,{variant:"body1"},"The board will be reboot. Continue?")),r.a.createElement(xe.a,null,r.a.createElement(U.a,{onClick:function(){return e.onCancel()},color:"primary"},"Cancel"),r.a.createElement(U.a,{onClick:function(){return e.onConfirm()},color:"primary"},"Ok"))))}var Ue=Object(E.a)((function(){return{screenTitle:{"margin-bottom":"20px"},marginDivider:{"margin-bottom":"10px"},link:{"text-decoration":"none",color:"inherit"},loadingIndicator:{position:"absolute",top:"50%",left:"45%"},buttonGrid:{"margin-top":10}}}));function We(){var e=Ue(),a=r.a.useState(!1),n=Object(u.a)(a,2),t=n[0],o=n[1],c=r.a.useState(!1),l=Object(u.a)(c,2),i=l[0],m=l[1],d=r.a.useState(!0),s=Object(u.a)(d,2),E=s[0],p=s[1],f=r.a.useContext($),g=f.rebootRequired,h=f.setRebootRequired,S=r.a.useState(!1),v=Object(u.a)(S,2),C=v[0],y=v[1],I=r.a.useState(!1),O=Object(u.a)(I,2),N=O[0],T=O[1],M=Object(F.f)();return r.a.useEffect((function(){fetch("api/status").then((function(e){return e.json()})).then((function(e){console.log("Current status:",e),T("Master"===e.system.ap_mode),y(e.system.disk_usage[0].rw),p(!1)})).catch((function(e){return console.log("Can't retrieve status",e)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ae,{title:"Settings"}),!0===E?r.a.createElement(be.a,{className:e.loadingIndicator}):r.a.createElement(A.a,null,r.a.createElement(Ie,{icon:r.a.createElement(he.a,null),title:"Network ("+(N?"Hotspot":"Client")+")",subtitle:"Manage network connectivity",button:!1,action:r.a.createElement(b.a,{onClick:function(){return o(!0)}},r.a.createElement(Se.a,null))}),r.a.createElement(Ie,{icon:r.a.createElement(ve.a,null),title:"Mount R/W",subtitle:'After device reboot, filesystem is mounted in R/W mode. This setting is "volatile" and it will be lost after a second reboot.',button:!1,action:r.a.createElement(ie.a,null,r.a.createElement(Ae.a,{checked:C,onChange:function(e,a){return function(e){fetch("api/mount?mode="+(e?"rw":"ro")).then((function(){return h(!0)})).catch((function(a){console.error("Can't mount filesystem R/W",a),y(!e)})),y(e)}(a)},edge:"end"}))}),r.a.createElement(Ie,{icon:r.a.createElement(Ce.a,null),title:"Reboot",onClick:function(){return m(!0)},subtitle:"ActionPi will be rebooted. This is required to apply the changes you made here.",action:g?r.a.createElement(_,null):null})),r.a.createElement(Fe,{hotspotEnabled:N,open:t,onClose:function(e,a,n,t){void 0!==e&&(console.log("New WiFi config received:",e,a,n,t),fetch("api/hotspot?enable="+(e?"on":"off")+"&ssid="+(n?encodeURIComponent(n):"")+"&password="+(t?encodeURIComponent(t):"")+"&country_code="+(a||"")).then((function(){return h(!0)})).catch((function(a){console.error("Can't enable/disable WiFi hotspot",a),T(!e)})),T(e));o(!1)}}),r.a.createElement(De,{open:i,onCancel:function(){return m(!1)},onConfirm:function(){fetch("api/reboot"),m(!1),M.push("/rebooting")}}))}var He=Object(E.a)((function(e){return{}}));function ze(){He();return r.a.createElement("div",null,r.a.createElement(ae,{title:"Statistics"}))}var Je=Object(E.a)((function(e){return{}}));function Ve(){Je();return r.a.createElement("div",null,r.a.createElement(ae,{title:"Logs"}))}var qe=Object(E.a)((function(e){return{footer:{heigth:"10%",padding:e.spacing(3,2),marginTop:"auto"}}}));function Ye(){var e=qe();return r.a.createElement("footer",{className:e.footer})}var Ze=Object(E.a)((function(e){return{root:{flexGrow:1},appBar:{zIndex:e.zIndex.drawer+1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function Xe(e){var a=Ze(),n=Object(F.f)();return r.a.createElement("header",{className:a.root},r.a.createElement(z.a,{position:"fixed",className:a.appBar},r.a.createElement(J.a,null,r.a.createElement(b.a,{onClick:function(){n.goBack()},className:a.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(Z.a,null)),r.a.createElement(C.a,{variant:"h6",className:a.title},e.title))))}var Qe=Object(E.a)((function(){return{root:{padding:10}}}));function _e(e){var a=e.children,n=Qe();return r.a.createElement("div",{className:n.root},a)}var $e=Object(E.a)((function(e){return{screenTitle:{"margin-bottom":"20px"},marginDivider:{"margin-bottom":"10px"}}}));function ea(){$e();return r.a.createElement("div",null,r.a.createElement(Xe,{title:"System"}),r.a.createElement(_e,null,r.a.createElement(je.a,{component:"fieldset"},r.a.createElement(Re.a,{component:"legend"},"WiFi"),r.a.createElement(ke.a,{"aria-label":"gender",name:"gender1"},r.a.createElement(Ge.a,{value:"client",control:r.a.createElement(Be.a,null),label:"Client"}),r.a.createElement(Ge.a,{value:"hotspot",control:r.a.createElement(Be.a,null),label:"Hotspot"}))),r.a.createElement(C.a,null),r.a.createElement(Ge.a,{control:r.a.createElement(Ae.a,{checked:!0,name:"checkedA"}),label:"Read Only Partition"})))}var aa=n(77),na=n.n(aa),ta=n(78),ra=n.n(ta),oa=n(75),ca=n.n(oa),la=n(76),ia=n.n(la),ma=Object(E.a)((function(e){return{screenTitle:{"margin-bottom":"20px"},marginDivider:{"margin-bottom":"10px"}}}));function da(){var e=ma();return r.a.createElement("div",null,r.a.createElement(Xe,{title:"Camera"}),r.a.createElement(_e,null,r.a.createElement(C.a,{variant:"subtitle2"}," Framerate "),r.a.createElement(p.a,{container:!0,spacing:2},r.a.createElement(p.a,{item:!0},r.a.createElement(ca.a,null)),r.a.createElement(p.a,{item:!0,xs:!0},r.a.createElement(we.a,{min:1,max:60,value:10,"aria-labelledby":"continuous-slider"})),r.a.createElement(p.a,{item:!0},r.a.createElement(ia.a,null))),r.a.createElement(C.a,{variant:"subtitle2"}," Rotation "),r.a.createElement(b.a,{"aria-label":"rotate-left"},r.a.createElement(na.a,null)),r.a.createElement(b.a,{"aria-label":"rotate-rigth"},r.a.createElement(ra.a,null)),r.a.createElement(f.a,{className:e.marginDivider}),r.a.createElement(C.a,{variant:"subtitle1"}," OS "),r.a.createElement(Ge.a,{control:r.a.createElement(Ae.a,{checked:!0,name:"checkedA"}),label:"Read Only Partition"}),r.a.createElement(C.a,null),r.a.createElement(je.a,{component:"fieldset"},r.a.createElement(Re.a,{component:"legend"},"WiFi"),r.a.createElement(ke.a,{"aria-label":"gender",name:"gender1"},r.a.createElement(Ge.a,{value:"client",control:r.a.createElement(Be.a,null),label:"Client"}),r.a.createElement(Ge.a,{value:"hotspot",control:r.a.createElement(Be.a,null),label:"Hotspot"})))))}var ua=Object(E.a)((function(e){return{screenTitle:{"margin-bottom":"20px"},marginDivider:{"margin-bottom":"10px"}}}));function sa(){ua();return r.a.createElement("div",null,r.a.createElement(Xe,{title:"Storage"}),r.a.createElement(_e,null))}var Ea=n(79),pa=Object(E.a)((function(e){return{centerDiv:{position:"absolute",top:"50%",left:"50%","-moz-transform":"translateX(-50%) translateY(-50%)","-webkit-transform":"translateX(-50%) translateY(-50%)",transform:"translateX(-50%) translateY(-50%)"}}}));function fa(){var e=pa(),a=r.a.useState(120),n=Object(u.a)(a,2),t=n[0],o=n[1];r.a.useEffect((function(){var e;return t>0&&(e=setTimeout((function(){return o(t-1)}),1e3)),function(){return clearTimeout(e)}}),[t]);var c=function(e){var a=e.disabled,n=e.href,t=e.children;return r.a.createElement(Ea.a,{condition:!1===a,wrap:function(e){return r.a.createElement(me.a,{href:n},e)}}," ",t)};return r.a.createElement("div",{className:e.centerDiv},r.a.createElement(p.a,{container:!0,spacing:1,alignItems:"center",alignContent:"center",justify:"center"},r.a.createElement(p.a,{item:!0,xs:12},r.a.createElement(C.a,{variant:"h3"},"Rebooting...")),r.a.createElement(p.a,{item:!0,xs:12,alignItems:"center",alignContent:"center",justify:"center"},r.a.createElement(C.a,{variant:"body1"},"This operation could take up to 2 min.")),r.a.createElement(p.a,{item:!0,xs:12,alignItems:"center",alignContent:"center",justify:"center"},r.a.createElement(c,{href:Oa.HOME,disabled:0!==t},r.a.createElement(U.a,{disabled:0!==t,variant:"contained",color:"primary"},"Homepage ",0!==t?"("+t+")":"")))))}var ga=Object(E.a)((function(e){return{}}));function ba(){ga();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Xe,{title:"Network"}))}var Aa=Object(E.a)((function(e){return{root:{display:"flex",flexDirection:"column",minHeight:"100vh"},drawerHeader:Object(s.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar,{justifyContent:"flex-end"}),content:{flexGrow:1,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},expandedImg:{width:"100%",height:"100%"}}}));function ha(){var e=Aa(),a=r.a.useState(!1),n=Object(u.a)(a,2),t=n[0],o=n[1],c=r.a.useState(!1),l=Object(u.a)(c,2),i=l[0],m=l[1],d={isDrawerOpened:t,toggleDrawer:function(){o(!t)}};return r.a.createElement(w.a,null,r.a.createElement("div",{className:e.root},r.a.createElement(P.a,null),r.a.createElement(j.Provider,{value:d},r.a.createElement($.Provider,{value:{rebootRequired:i,setRebootRequired:m}},r.a.createElement(L,{open:t}),r.a.createElement("main",{className:e.content},r.a.createElement("div",{className:e.drawerHeader}),r.a.createElement(F.c,null,r.a.createElement(F.a,{exact:!0,path:Oa.HOME},r.a.createElement(le,{useStyles:e})),r.a.createElement(F.a,{path:Oa.RECORDINGS},r.a.createElement(ge,{useStyles:e})),r.a.createElement(F.a,{path:Oa.STATS},r.a.createElement(ze,{useStyles:e})),r.a.createElement(F.a,{exact:!0,path:Oa.SETTINGS},r.a.createElement(We,{useStyles:e})),r.a.createElement(F.a,{path:Oa.LOGS},r.a.createElement(Ve,{useStyles:e})),r.a.createElement(F.a,{path:Oa.SYSTEM_SETTINGS},r.a.createElement(ea,{useStyles:e})),r.a.createElement(F.a,{path:Oa.CAMERA_SETTINGS},r.a.createElement(da,{useStyles:e})),r.a.createElement(F.a,{path:Oa.FILESYSTEM_SETTINGS},r.a.createElement(sa,{useStyles:e})),r.a.createElement(F.a,{path:Oa.NETWORK_SETTINGS},r.a.createElement(ba,{useStyles:e})),r.a.createElement(F.a,{path:Oa.REBOOTING},r.a.createElement(fa,{useStyles:e})))),r.a.createElement(Ye,null)))))}var Sa=n(112),va=n(5968),Ca=n(83),ya=n.n(Ca),Ia=Object(Sa.a)({palette:{primary:{main:ya.a[400]},secondary:{main:ya.a[700]}}}),Oa={HOME:"/",RECORDINGS:"/recordings",SETTINGS:"/settings",CAMERA_SETTINGS:"/settings/camera",NETWORK_SETTINGS:"/settings/network",FILESYSTEM_SETTINGS:"/settings/filesystem",SYSTEM_SETTINGS:"/settings/system",STATS:"/monitor",LOGS:"/logs",REBOOTING:"/rebooting"},Na=function(e){Object(d.a)(n,e);var a=Object(m.a)(n);function n(){return Object(l.a)(this,n),a.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(va.a,{theme:Ia},r.a.createElement(ha,null)))}}]),n}(t.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Na,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},82:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAADwBAMAAACDA6BYAAAAG1BMVEXMzMyWlpacnJyqqqrFxcWxsbGjo6O3t7e+vr6He3KoAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAEQ0lEQVR4nO2bPW/bSBCGhxQpstRSFpWStBOcS+niIClXkS+1qANci4EBp5R8gGvJ19zPvpld0lxGES6FyBiH9wHEWWpH2Fczsx8sSAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/S/74mn4ytkxuxEZf0+0P3II7daWrdp6d9js7sWLueTyxKxZSKpXqY78dd09sM1TZab+zs1BJrhKig9gp0VDs5siN/8elUtvqJ9lJv/Mz5zDseOQ81cFccTvZx/n0yM3nKC/VhWmXIvCE3/nJM0nvJrZRYaFvOJrpkdshEWVGUJSI7wm/82PqTmWh2FjNAknbkCNJkko2OyuikPo7jM3XUxbo+nVKIHXFow3V3lgjNLTFNlAzGymmFLMwYssNC3T9uodHs8FQ2UCExqJM9L7h7M+sQCk/T/IcKc0CXb/OieeJDt9TFUlNNn9MkfLk0Kb5p0gxEfw84f9BLb+OOZh1UOBw+UoaMgtIpu6+GDueO7mZZ9Ld8ute4I1tLdTecwfm2Z1fNI6Sck7rXrq9fgVKQfHY+diWGeUj25WnMhdqnqXk/LHR1fbrmLiwK3DBJdUe+KCSxi1UUoKc4d4Fcu5klfuixrpOXTXwUDV7BW++N5LhLTkp7kmgWY0js9W2iz9UTQnujFg/td29TZLgH7nK+lGYudxePhbqZRKH9uziKUPS2zIzMJHwUhYwsfd7ZwGeq5fNrLDTpRbY20IdGgW86x/sTI7cLSxQ7+oYxcpuebXAqK+tLjJj8FGg2nNbh4CB2lZfy5rd/Kjfw0Iml4u4XvBK5xjFZ6xdtc4cJs6P5DdlX8etOa8tj3KK0fbePYjy+c+vslg4Owr1emC1R349tLW1cY/yEQuJqpWkNN1pI7C3I39kH5p8KzBzH4ZM9Eqb29zOjUZgbw9NtMyTjy+zk0eOyvpx0hymDzb36nuBjh8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIDXj1d9Xi2vRKBKbk70fCdwxHfych4lRP6I7Kvby/xB3vy+Jy8jyjsROAre/7xAc0339FQJDN7pv/lyu9beN4rKbgTSZ/r9inwdcSO8nJG3HokZXBYicH1Fwy33OAKnG3qoBA5W9hLOvCca7roSGN5/WQ22C/qL7m4/kHdvzN2tBMTjrjijD67A0XWcVQJ9bS9B5vn7524KllPs6yCLZ+vtJ3rLsfK0MW9pIQK5ix74Y1/+tAKfhttKoFdfRl60eehGIE8SE5jsepOJCBlPzKiuwRE9D+Ql1CaC/iMdR5B+yzqKoIwgYdp823DYjAoxTgT9NbUEhhM6rkEqVp0JlBqk9fZxRU96KSrENDVI0bQt0NyYqzOLqatFUwbiWUwHvdAU5dcyjJhmFlOU/UCgLYOlqtfBzgT+BMPX/h70468W8B94179aAQAAtPgXsvehqFhmVNAAAAAASUVORK5CYII="}},[[5879,1,2]]]);
//# sourceMappingURL=main.687c1097.chunk.js.map