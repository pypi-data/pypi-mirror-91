(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1294:function(e,t,a){},1295:function(e,t,a){},1345:function(e,t,a){"use strict";a.r(t);var n=a(71),r=a(80),c=a(111),i=a(112),l=a(83),o=a(2),s=a.n(o),u=a(509),m=a(305),d=a(150),p=a(1349),f=a(63),v=a(271),E=a(661),b=a(622),h=a(178),g=a(1332),y=a(993),N=a(1317),x=a(1358),O=a(763),k=a(1343),C=a(43);function j(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(i.a)(this,a)}}var R=function(e){Object(c.a)(a,e);var t=j(a);function a(e){return Object(n.a)(this,a),t.call(this,e)}return Object(r.a)(a,[{key:"render",value:function(){var e=f.b.getTrial(this.props.trialId).accuracy;return o.createElement("div",{className:"succeed-padding"},void 0!==e?Object(C.i)(e):"--")}}]),a}(o.Component),D=a(730),S=a(231);a(992),a(580),a(600);function T(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(i.a)(this,a)}}var w=function(e){Object(c.a)(a,e);var t=T(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).onColumnClick=function(e,t){var a=r.state,n=a.columns,c=a.source,i=n.slice(),l=i.filter(function(e){return t.key===e.key})[0];i.forEach(function(e){e===l?(l.isSortedDescending=!l.isSortedDescending,l.isSorted=!0):(e.isSorted=!1,e.isSortedDescending=!0)});var o=Object(C.d)(c,l.fieldName,l.isSortedDescending);r.setState({columns:i,source:o,sortInfo:{field:l.fieldName,isDescend:l.isSortedDescending}})},r.tooltipStr=o.createElement(o.Fragment,null,"The experiment is running, please wait for the final metric patiently. You could also find status of trial job with ",o.createElement("span",null,S.a)," button."),r.columns=[{key:"_expand",name:"",onRender:function(e){return o.createElement(d.a,{"aria-hidden":!0,iconName:"ChevronRight",styles:{root:{transition:"all 0.2s",transform:"rotate(".concat(r.state.expandRowIdList.has(e.id)?90:0,"deg)")}},className:"cursor",onClick:r.expandTrialId.bind(Object(h.a)(r),Event,e.id)})},fieldName:"expand",isResizable:!1,minWidth:20,maxWidth:20},{name:"Trial No.",key:"sequenceId",fieldName:"sequenceId",minWidth:60,maxWidth:100,isResizable:!0,data:"number",onColumnClick:r.onColumnClick,onRender:function(e){return o.createElement("div",{className:"succeed-padding"},e.sequenceId)}},{name:"ID",key:"id",fieldName:"id",minWidth:60,maxWidth:90,isResizable:!0,className:"tableHead leftTitle",data:"string",onColumnClick:r.onColumnClick,onRender:function(e){return o.createElement("div",{className:"succeed-padding"},e.id)}},{name:"Duration",key:"duration",minWidth:80,maxWidth:120,isResizable:!0,fieldName:"duration",data:"number",onColumnClick:r.onColumnClick,onRender:function(e){return o.createElement("div",{className:"durationsty succeed-padding"},o.createElement("div",null,Object(C.b)(e.duration)))}},{name:"Status",key:"status",minWidth:88,maxWidth:120,isResizable:!0,fieldName:"status",onRender:function(e){return o.createElement("div",{className:"".concat(e.status," commonStyle succeed-padding")},e.status)}},{name:"Default metric",key:"accuracy",fieldName:"accuracy",minWidth:100,maxWidth:166,isResizable:!0,data:"number",onColumnClick:r.onColumnClick,onRender:function(e){return o.createElement(R,{trialId:e.id})}}],r.onRenderDetailsHeader=function(e,t){return e?o.createElement(g.a,{stickyPosition:y.a.Header,isScrollSynced:!0},t(Object(b.a)({},e))):null},r.onRenderRow=function(e){var t=r.state.expandRowIdList;return e?o.createElement("div",null,o.createElement("div",null,o.createElement(N.a,e)),Array.from(t).map(function(t){return t===e.item.id&&o.createElement(D.a,{key:t,trialId:t})})):null},r.expandTrialId=function(e,t){var a=r.state.expandRowIdList,n=r.props.updateOverviewPage,c=a;c.has(t)?c.delete(t):c.add(t),r.setState(function(){return{expandRowIdList:c}}),n()},r.state={columns:r.columns,source:f.b.table(r.props.trialIds),sortInfo:{field:"",isDescend:!1},expandRowIdList:new Set},r}return Object(r.a)(a,[{key:"componentDidUpdate",value:function(e){if(this.props.trialIds!==e.trialIds){var t=this.props.trialIds;this.setState(function(){return{source:f.b.table(t)}})}}},{key:"render",value:function(){var e=this.state,t=e.columns,a=e.source,n=e.sortInfo,r=Object(C.d)(a,n.field,n.isDescend),c=0===a.length;return o.createElement("div",{id:"succTable"},o.createElement(x.a,{className:"scrollPanel",scrollbarVisibility:O.b.auto},o.createElement(k.a,{columns:t,items:r,setKey:"set",compact:!0,onRenderRow:this.onRenderRow,onRenderDetailsHeader:this.onRenderDetailsHeader,selectionMode:0,className:"succTable"})),c&&o.createElement("div",{className:"succTable-tooltip"},this.tooltipStr))}}]),a}(o.Component),P=a(601),I=a.n(P),M=a(519),A=a.n(M);a(699),a(591),a(592);function L(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(i.a)(this,a)}}A.a.registerTheme("my_theme",{color:"#3c8dbc"});var z=function(e){Object(c.a)(a,e);var t=L(a);function a(e){return Object(n.a)(this,a),t.call(this,e)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.accNodata,a=e.accuracyData;return o.createElement("div",{className:"defaultMetricContainer"},o.createElement(I.a,{option:a,theme:"my_theme"}),o.createElement("div",{className:"showMess"},t))}}]),a}(o.Component),U=a(100),W=a(517),H=a(477),F=a(1356),_=a(293),G=a(1336),B=a(25),J=Object(B.C)(),q=Object(B.F)({buttonArea:{verticalAlign:"top",display:"inline-block",textAlign:"center",minWidth:30,height:30},callout:{maxWidth:300},header:{padding:"18px 24px 12px"},title:[J.fonts.xLarge,{margin:0,color:J.palette.neutralPrimary,fontWeight:B.e.semilight}],inner:{height:"100%",padding:"0 24px 20px"},actions:{position:"relative",marginTop:20,width:"100%",whiteSpace:"nowrap"},subtext:[J.fonts.small,{margin:0,color:J.palette.neutralPrimary,fontWeight:B.e.semilight}],link:[J.fonts.medium,{color:J.palette.neutralPrimary}]}),$=(a(721),a(1294),function(){var e=Object(G.a)("callout-label"),t=Object(G.a)("callout-description"),a=s.a.createRef(),n=Object(o.useState)(!1),r=Object(U.a)(n,2),c=r[0],i=r[1],l=Object(o.useState)(!1),m=Object(U.a)(l,2),d=m[0],p=m[1],v=Object(o.useCallback)(function(){return i(!1)},[]),E=Object(o.useCallback)(function(){return i(!0)},[]),b=Object(o.useCallback)(function(){return p(!1)},[]),h=Object(o.useCallback)(function(){return p(!0)},[]);return s.a.createElement("div",null,s.a.createElement(u.a,{horizontal:!0,horizontalAlign:"space-between",className:"marginTop"},s.a.createElement("div",{className:"basic"},s.a.createElement("p",null,"Name"),s.a.createElement("div",{className:"ellipsis"},f.a.profile.params.experimentName),s.a.createElement("p",{className:"marginTop"},"ID"),s.a.createElement("div",{className:"ellipsis"},f.a.profile.id)),s.a.createElement("div",{className:"basic"},s.a.createElement("p",null,"Status"),s.a.createElement(u.a,{horizontal:!0,className:"status"},s.a.createElement("span",{className:"".concat(f.a.status," status-text")},f.a.status),"ERROR"===f.a.status?s.a.createElement("div",null,s.a.createElement("div",{className:"".concat(q.buttonArea," error-info-icon"),ref:a},s.a.createElement(W.a,{iconProps:{iconName:"info"},onClick:c?v:E})),c&&s.a.createElement(H.a,{className:q.callout,ariaLabelledBy:e,ariaDescribedBy:t,role:"alertdialog",gapSpace:0,target:a,onDismiss:v,setInitialFocus:!0},s.a.createElement("div",{className:q.header},s.a.createElement("p",{className:"".concat(q.title," color"),id:e},"Error")),s.a.createElement("div",{className:q.inner},s.a.createElement("p",{className:"".concat(q.subtext," color"),id:t},f.a.error),s.a.createElement("div",{className:q.actions},s.a.createElement(F.a,{className:q.link,onClick:h},"Learn about"))))):null),s.a.createElement(xe.Consumer,null,function(e){return s.a.createElement(u.a,{className:"bestMetric"},s.a.createElement("p",{className:"marginTop"},"Best metric"),s.a.createElement("div",{className:f.a.status},isNaN(e.bestAccuracy)?"N/A":e.bestAccuracy.toFixed(6)))})),s.a.createElement("div",{className:"basic"},s.a.createElement("p",null,"Start time"),s.a.createElement("div",{className:"ellipsis"},Object(C.k)(f.a.profile.startTime)),s.a.createElement("p",{className:"marginTop"},"End time"),s.a.createElement("div",{className:"ellipsis"},Object(C.k)(f.a.profile.endTime)))),d?s.a.createElement(_.a,{closeDrawer:b,activeTab:"dispatcher"}):null)}),K=a(1347),V=a(78),Y=a(1357),Q=a(62),X=a(56),Z=a.n(X),ee=a(93),te=a(170),ae=a.n(te),ne=s.a.createContext({editType:"",field:"",title:"",maxExecDuration:"",maxTrialNum:0,trialConcurrency:0,updateOverviewPage:function(){}}),re={width:"28%"},ce=[{key:"10",text:"10"},{key:"20",text:"20"},{key:"30",text:"30"},{key:"50",text:"40"},{key:"100",text:"100"}],ie=[{key:"m",text:"min"},{key:"h",text:"hour"},{key:"d",text:"day"}],le=a(131),oe=a(253),se=(a(855),s.a.createRef()),ue=function(){var e=Object(o.useState)(!0),t=Object(U.a)(e,2),a=t[0],n=t[1],r=Object(o.useState)(!1),c=Object(U.a)(r,2),i=c[0],l=c[1],u=Object(o.useState)(""),m=Object(U.a)(u,2),d=m[0],E=m[1],b=Object(o.useState)(""),h=Object(U.a)(b,2),g=h[0],y=h[1],N=Object(o.useCallback)(function(){n(!0)},[]),x=Object(o.useCallback)(function(){n(!1)},[]),O=Object(o.useCallback)(function(){return l(!0)},[]),k=Object(o.useCallback)(function(){l(!1)},[]),C=Object(o.useContext)(ne),j=C.title,R=C.field,D=C.editType,S=C.maxExecDuration,T=C.maxTrialNum,w=C.trialConcurrency,P=C.updateOverviewPage,I=Object(o.useContext)(v.a),M=I.maxDurationUnit,A=I.changeMaxDurationUnit,L=Object(o.useState)(M),z=Object(U.a)(L,2),W=z[0],H=z[1],F="",_="";"Max duration"===j?(F=S,_=S):j===Q.g?(F=T.toString(),_=T.toString()):(F=w.toString(),_=w.toString());var G=Object(o.useState)(_),B=Object(U.a)(G,2),J=B[0],q=B[1];function $(e){q(e.target.value)}function K(e,t){y(e),E(t),O(),setTimeout(k,2e3)}function V(e,t){void 0!==t&&H(t.key)}function Y(){return X.apply(this,arguments)}function X(){return(X=Object(ee.a)(Z.a.mark(function e(){var t,a,n,r;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t="Max duration"===j,a=Object.assign({},f.a.profile),n="",!t){e.next=10;break}if(J.match(/^\d+(?=\.{0,1}\d+$|$)/)){e.next=8;break}return K("Please enter a number!","error"),q(F),e.abrupt("return");case 8:e.next=14;break;case 10:if(J.match(/^[1-9]\d*$/)){e.next=14;break}return K("Please enter a positive integer!","error"),q(F),e.abrupt("return");case 14:if(n=t?S:j===Q.g?T.toString():w.toString(),J!==n){e.next=24;break}if(!t){e.next=22;break}if(M!==W){e.next=20;break}return K("Trial ".concat(R," has not changed"),"error"),e.abrupt("return");case 20:e.next=24;break;case 22:return K("Trial ".concat(R," has not changed"),"error"),e.abrupt("return");case 24:return t?(r=JSON.parse(J),a.params[R]="m"===W?60*r:"h"===W?3600*r:24*r*60*60):a.params[R]=parseInt(J,10),e.prev=25,e.next=28,ae.a.put("".concat(Q.f,"/experiment"),a,{params:{update_type:D}});case 28:200===e.sent.status&&(K("Successfully updated experiment's ".concat(R),"success"),A(W)),e.next=36;break;case 32:e.prev=32,e.t0=e.catch(25),e.t0.response&&e.t0.response.data.error?K("Failed to update trial ".concat(R,"\n").concat(e.t0.response.data.error),"error"):e.t0.response?K("Failed to update trial ".concat(R,"\nServer responsed ").concat(e.t0.response.status),"error"):e.t0.message?K("Failed to update trial ".concat(R,"\n").concat(e.t0.message),"error"):K("Failed to update trial ".concat(R,"\nUnknown error"),"error"),q(F);case 36:N(),P();case 38:case"end":return e.stop()}},e,null,[[25,32]])}))).apply(this,arguments)}function te(){q(F),N(),H(M)}return s.a.createElement(v.a.Consumer,null,function(e){return s.a.createElement(ne.Consumer,null,function(t){var n,r="";return"maxExecDuration"===t.field&&(r=a?"noEditDuration":"editDuration"),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(r," editparam")},s.a.createElement("div",{className:"title"},t.title),s.a.createElement("input",{className:"".concat(t.field," editparam-Input"),ref:se,disabled:!!a,value:J,onChange:$}),a&&"Max duration"===j&&s.a.createElement("span",null,"d"===(n=e.maxDurationUnit)?"day":"h"===n?"hour":"m"===n?"min":n),!a&&"Max duration"===j&&s.a.createElement(p.a,{selectedKey:W,options:ie,className:"editparam-dropdown",onChange:V}),a&&s.a.createElement("span",{className:"edit cursor",onClick:x},le.d),!a&&s.a.createElement("span",{className:"series"},s.a.createElement("span",{className:"confirm cursor",onClick:Y},le.b),s.a.createElement("span",{className:"cancel cursor",onClick:te},le.a)),i&&s.a.createElement(oe.a,{className:"info",typeInfo:d,info:g})))})})},me=s.a.createContext({maxExecDuration:0,execDuration:0,updateOverviewPage:function(){},maxDurationUnit:"m",changeMaxDurationUnit:function(e){}}),de={width:"60%",position:"relative"},pe={paddingLeft:"9%",boxSizing:"border-box"},fe=function(){return s.a.createElement(me.Consumer,null,function(e){var t=e.maxExecDuration,a=e.execDuration,n=e.maxDurationUnit,r=e.updateOverviewPage,c=t-a,i=a/t,l=Object(C.b)(a),o=Object(C.c)(n,t).toString();return s.a.createElement(u.a,{horizontal:!0,className:"ExpDuration"},s.a.createElement("div",{style:de},s.a.createElement(K.a,{content:"".concat(Object(C.b)(c)," remaining"),directionalHint:V.a.bottomCenter,tooltipProps:{calloutProps:{styles:{beak:{background:Q.l},beakCurtain:{background:Q.l},calloutMain:{background:Q.l}}}}},s.a.createElement(Y.a,{className:f.a.status,percentComplete:i,barHeight:8})),s.a.createElement("div",{className:"exp-progress"},s.a.createElement("span",{className:"".concat(f.a.status," bold")},l),s.a.createElement("span",{className:"joiner"},"/"),s.a.createElement("span",null,"".concat(o," ").concat(n)))),s.a.createElement("div",{style:pe},s.a.createElement(ne.Provider,{value:{editType:Q.b[0],field:"maxExecDuration",title:"Max duration",maxExecDuration:o,maxTrialNum:f.a.profile.params.maxTrialNum,trialConcurrency:f.a.profile.params.trialConcurrency,updateOverviewPage:r}},s.a.createElement(ue,null))))})},ve=function(){var e=f.b.countStatus(),t=e.get("USER_CANCELED")+e.get("SYS_CANCELED")+e.get("EARLY_STOPPED"),a=e.get("RUNNING")+e.get("SUCCEEDED")+e.get("FAILED")+t,n=f.a.profile.params.maxTrialNum,r=a/n;return o.createElement(me.Consumer,null,function(c){var i=c.updateOverviewPage;return o.createElement(o.Fragment,null,o.createElement(u.a,{horizontal:!0,className:"ExpDuration"},o.createElement("div",{style:de},o.createElement(K.a,{content:"".concat(a.toString()," trials"),directionalHint:V.a.bottomCenter,tooltipProps:{calloutProps:{styles:{beak:{background:Q.l},beakCurtain:{background:Q.l},calloutMain:{background:Q.l}}}}},o.createElement(Y.a,{className:f.a.status,percentComplete:r,barHeight:8})),o.createElement("div",{className:"exp-progress"},o.createElement("span",{className:"".concat(f.a.status," bold")},a),o.createElement("span",{className:"joiner"},"/"),o.createElement("span",null,n)))),o.createElement(u.a,{horizontal:!0,className:"marginTop"},o.createElement("div",{style:de},o.createElement(u.a,{horizontal:!0,className:"status-count",gap:60},o.createElement("div",null,o.createElement("span",null,"Running"),o.createElement("p",null,e.get("RUNNING"))),o.createElement("div",null,o.createElement("span",null,"Succeeded"),o.createElement("p",null,e.get("SUCCEEDED"))),o.createElement("div",null,o.createElement("span",null,"Stopped"),o.createElement("p",null,t))),o.createElement(u.a,{horizontal:!0,className:"status-count marginTop",gap:80},o.createElement("div",null,o.createElement("span",null,"Failed"),o.createElement("p",null,e.get("FAILED"))),o.createElement("div",null,o.createElement("span",null,"Waiting"),o.createElement("p",null,e.get("WAITING"))))),o.createElement("div",{style:pe},o.createElement(ne.Provider,{value:{title:Q.g,field:"maxTrialNum",editType:Q.b[1],maxExecDuration:"",maxTrialNum:f.a.profile.params.maxTrialNum,trialConcurrency:f.a.profile.params.trialConcurrency,updateOverviewPage:i}},o.createElement("div",{className:"maxTrialNum"},o.createElement(ue,null))),o.createElement("div",{className:"concurrency"},o.createElement(ne.Provider,{value:{title:"Concurrency",field:"trialConcurrency",editType:Q.b[2],maxExecDuration:"",maxTrialNum:f.a.profile.params.maxTrialNum,trialConcurrency:f.a.profile.params.trialConcurrency,updateOverviewPage:i}},o.createElement(ue,null))))))})},Ee=(a(856),function(){var e=f.a.profile.params.tuner,t=f.a.profile.params.advisor,a=f.a.profile.params.assessor,n=[],r=[];return void 0!==e&&(n.push("Tuner"),void 0!==e.builtinTunerName&&r.push(e.builtinTunerName)),void 0!==t&&(n.push("Advisor"),void 0!==t.builtinAdvisorName&&r.push(t.builtinAdvisorName),void 0!==t.className&&r.push(t.className)),void 0!==a&&(n.push("Assessor"),void 0!==a.builtinAssessorName&&r.push(a.builtinAssessorName)),s.a.createElement("div",{className:"basic",style:pe},s.a.createElement("div",null,s.a.createElement("p",{className:"command"},"Training platform"),s.a.createElement("div",{className:"ellipsis"},f.a.profile.params.trainingServicePlatform),s.a.createElement("p",{className:"lineMargin"},n.join("/")),s.a.createElement("div",{className:"ellipsis"},r.join("/"))))});function be(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return he(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return he(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,l=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,c=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw c}}}}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var ge=function(){var e=f.a.profile.params.clusterMetaData,t="unknown";if(void 0!==e){var a,n=be(e);try{for(n.s();!(a=n.n()).done;){var r=a.value;"command"===r.key&&(t=r.value),"trial_config"===r.key&&"object"===typeof r.value&&"command"in r.value&&(t=r.value.command)}}catch(c){n.e(c)}finally{n.f()}}return s.a.createElement("div",{className:"basic",style:de},s.a.createElement("p",{className:"command"},"Log directory"),s.a.createElement("div",{className:"ellipsis"},s.a.createElement(K.a,{content:f.a.profile.logDir||"unknown",className:"ellipsis",directionalHint:V.a.bottomCenter,tooltipProps:{calloutProps:{styles:{beak:{background:Q.l},beakCurtain:{background:Q.l},calloutMain:{background:Q.l}}}}},f.a.profile.logDir||"unknown")),s.a.createElement("p",{className:"lineMargin"},"Trial command"),s.a.createElement("div",{className:"ellipsis"},s.a.createElement(K.a,{content:t||"unknown",className:"ellipsis",directionalHint:V.a.bottomCenter,tooltipProps:{calloutProps:{styles:{beak:{background:Q.l},beakCurtain:{background:Q.l},calloutMain:{background:Q.l}}}}},t||"unknown")))},ye=a(595);a(629),a(1295),a(650);function Ne(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(i.a)(this,a)}}a.d(t,"BestMetricContext",function(){return xe});var xe=o.createContext({bestAccuracy:0}),Oe=function(e){Object(c.a)(a,e);var t=Ne(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).context=void 0,r.clickMaxTop=function(e){e.stopPropagation(),(0,r.context.changeMetricGraphMode)("max")},r.clickMinTop=function(e){e.stopPropagation(),(0,r.context.changeMetricGraphMode)("min")},r.updateEntries=function(e,t){void 0!==t&&r.context.changeEntries(t.key)},r.state={trialConcurrency:f.a.trialConcurrency},r}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.findBestTrials(),a=t.length>0?t[0].accuracy:NaN,n=this.generateAccuracyGraph(t),r=t.length>0?"":"No data",c=f.a.profile.params.maxExecDuration,i=f.a.profile.execDuration;return o.createElement(v.a.Consumer,null,function(l){var s=l.metricGraphMode,f=l.bestTrialEntries,v=l.maxDurationUnit,b=l.updateOverviewPage,h=l.changeMaxDurationUnit,g="max"===s?"active":"",y="min"===s?"active":"";return o.createElement("div",{className:"overview"},o.createElement("div",{className:"wrapper"},o.createElement("div",{className:"overviewBasicInfo"},o.createElement(ye.a.Provider,{value:{text:"Experiment",icon:"AutoRacing"}},o.createElement(E.a,null)),o.createElement(xe.Provider,{value:{bestAccuracy:a}},o.createElement($,null))),o.createElement("div",{className:"duration"},o.createElement(ye.a.Provider,{value:{text:"Duration",icon:"Timer"}},o.createElement(E.a,null)),o.createElement(me.Provider,{value:{maxExecDuration:c,execDuration:i,updateOverviewPage:b,maxDurationUnit:v,changeMaxDurationUnit:h}},o.createElement(fe,null))),o.createElement("div",{className:"trialCount"},o.createElement(ye.a.Provider,{value:{text:"Trial numbers",icon:"NumberSymbol"}},o.createElement(E.a,null)),o.createElement(me.Provider,{value:{maxExecDuration:c,execDuration:i,updateOverviewPage:b,maxDurationUnit:v,changeMaxDurationUnit:h}},o.createElement(ve,null))),o.createElement("div",{className:"overviewBestMetric"},o.createElement(u.a,{horizontal:!0},o.createElement("div",{style:re},o.createElement(ye.a.Provider,{value:{text:"Top trials",icon:"BulletedList"}},o.createElement(E.a,null))),o.createElement("div",{className:"topTrialTitle"},o.createElement(u.a,{horizontal:!0,horizontalAlign:"end"},o.createElement(m.a,{onClick:e.clickMaxTop,className:g,styles:{root:{minWidth:70,padding:0}}},o.createElement(d.a,{iconName:"Market"}),o.createElement("span",{className:"max"},"Max")),o.createElement("div",{className:"mincenter"},o.createElement(m.a,{onClick:e.clickMinTop,className:y,styles:{root:{minWidth:70,padding:0}}},o.createElement(d.a,{iconName:"MarketDown"}),o.createElement("span",{className:"max"},"Min"))),o.createElement("div",null,o.createElement(u.a,{horizontal:!0},o.createElement("div",{className:"chooseEntry"},"Display top"),o.createElement("div",null,o.createElement(p.a,{selectedKey:f,options:ce,onChange:e.updateEntries,styles:{root:{width:70}}}))))))),o.createElement("div",{className:"overviewChart"},o.createElement(z,{accuracyData:n,accNodata:r}),o.createElement(w,{trialIds:t.map(function(e){return e.info.trialJobId}),updateOverviewPage:b}))),o.createElement(u.a,{className:"overviewCommand",horizontal:!0},o.createElement(ge,null),o.createElement(Ee,null))))})}},{key:"findBestTrials",value:function(){var e=f.b.sort(),t=this.context,a=t.bestTrialEntries;return"max"===t.metricGraphMode?e.reverse().splice(JSON.parse(a)):e.splice(JSON.parse(a)),e}},{key:"generateAccuracyGraph",value:function(e){var t=e.map(function(e){return e.sequenceId}),a=e.map(function(e){return e.accuracy});return{grid:{x:60,y:40},tooltip:{trigger:"item"},xAxis:{name:"Trial",type:"category",data:t},yAxis:{name:"Default metric",type:"value",scale:!0,data:a},series:[{symbolSize:6,type:"scatter",data:a}]}}}]),a}(o.Component);Oe.contextType=v.a;t.default=Oe},580:function(e,t,a){},595:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var n=a(2),r=n.createContext({text:"",icon:""})},596:function(e,t,a){},600:function(e,t,a){},629:function(e,t,a){},650:function(e,t,a){},661:function(e,t,a){"use strict";a.d(t,"a",function(){return s});var n=a(2),r=a.n(n),c=a(467),i=a(509),l=a(150),o=a(595);a(596);Object(c.a)();var s=function(){return r.a.createElement(o.a.Consumer,null,function(e){return r.a.createElement(i.a,{horizontal:!0,className:"panelTitle"},r.a.createElement(l.a,{iconName:e.icon}),r.a.createElement("span",null,e.text))})}},683:function(e,t,a){},721:function(e,t,a){},730:function(e,t,a){"use strict";var n=a(71),r=a(80),c=a(111),i=a(112),l=a(83),o=a(2),s=a(743),u=a.n(s),m=a(509),d=a(506),p=a(304),f=a(501),v=a(62),E=a(63),b=a(744),h=a.n(b);function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(i.a)(this,a)}}var y=function(e){Object(c.a)(a,e);var t=g(a);function a(e){return Object(n.a)(this,a),t.call(this,e)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.eachLogpath,a=e.logName,n=/^http/gi.test(t);return o.createElement("div",{className:"logpath"},o.createElement("span",{className:"logName"},a),n?o.createElement("a",{className:"logContent logHref",rel:"noopener noreferrer",href:t,target:"_blank"},t):o.createElement("span",{className:"logContent"},t))}}]),a}(o.Component);function N(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(i.a)(this,a)}}var x=function(e){Object(c.a)(a,e);var t=N(a);function a(e){return Object(n.a)(this,a),t.call(this,e)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.logString,a=e.id,n=e.logCollect;return o.createElement("div",null,""===t?null:o.createElement("div",null,n?o.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"".concat(v.c,"/trial_").concat(a,".log"),style:{marginRight:10}},"Trial stdout"):o.createElement(y,{eachLogpath:t,logName:"Trial stdout:"})))}}]),a}(o.Component);function O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(i.a)(this,a)}}var k=function(e){Object(c.a)(a,e);var t=O(a);function a(e){return Object(n.a)(this,a),t.call(this,e)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.logStr,a=e.id,n=e.logCollection,r=-1!==t.indexOf(",");return o.createElement("div",null,o.createElement("div",null,r?o.createElement("div",null,n?o.createElement("div",null,o.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"".concat(v.c,"/trial_").concat(a,".log"),style:{marginRight:10}},"Trial stdout"),o.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:t.split(",")[1]},"NFS log")):o.createElement("div",null,o.createElement(y,{eachLogpath:t.split(",")[0],logName:"Trial stdout:"}),o.createElement(y,{eachLogpath:t.split(",")[1],logName:"Log on NFS:"}))):o.createElement(x,{logString:t,id:a,logCollect:n})))}}]),a}(o.Component);function C(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(i.a)(this,a)}}var j=function(e){Object(c.a)(a,e);var t=C(a);function a(e){return Object(n.a)(this,a),t.call(this,e)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props.logStr;return o.createElement("div",null,o.createElement(y,{eachLogpath:e,logName:"Log path:"}))}}]),a}(o.Component),R=a(253);a(629),a(683),a(600);function D(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(i.a)(this,a)}}var S=function(e){Object(c.a)(a,e);var t=D(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).hideMessageInfo=function(){r.setState(function(){return{isHidenInfo:!0}})},r.getCopyStatus=function(e,t){r.setState(function(){return{info:e,typeInfo:t,isHidenInfo:!1}}),setTimeout(r.hideMessageInfo,2e3)},r.copyParams=function(e){var t=JSON.stringify(e.description.parameters,null,4);u.a(t)?r.getCopyStatus("Success copy parameters to clipboard in form of python dict !","success"):r.getCopyStatus("Failed !","error")},r.openTrialLog=function(e){window.open("".concat(v.f,"/trial-log/").concat(r.props.trialId,"/").concat(e))},r.state={typeInfo:"",info:"",isHidenInfo:!0},r}return Object(r.a)(a,[{key:"render",value:function(){var e=this.state,t=e.isHidenInfo,a=e.typeInfo,n=e.info,r=this.props.trialId,c=E.b.getTrial(r),i=c.info.logPath||"This trial's log path is not available.";return o.createElement(m.a,{className:"openRow"},o.createElement(m.a,{className:"openRowContent"},o.createElement(d.a,null,o.createElement(p.a,{headerText:"Parameters",key:"1",itemIcon:"TestParameter"},void 0!==c.info.hyperParameters?o.createElement(m.a,{id:"description"},o.createElement(m.a,{className:"bgHyper"},o.createElement(h.a,{hideRoot:!0,shouldExpandNode:function(){return!0},getItemString:function(){return null},data:c.description.parameters})),o.createElement(m.a,{horizontal:!0,className:"copy"},o.createElement(f.a,{onClick:this.copyParams.bind(this,c),text:"Copy as json",styles:{root:{width:128,marginRight:10}}}),!t&&o.createElement(R.a,{typeInfo:a,info:n}))):o.createElement(m.a,{className:"logpath"},o.createElement("span",{className:"logName"},"Error: "),o.createElement("span",{className:"error"},"This trial's parameters are not available.'"))),o.createElement(p.a,{headerText:"Log",key:"2",itemIcon:"M365InvoicingLogo"},"local"!==E.a.trainingServicePlatform?o.createElement(k,{logStr:i,id:r,logCollection:E.a.logCollectionEnabled}):o.createElement("div",null,o.createElement(j,{logStr:i,id:r}),o.createElement("div",{id:"trialog"},o.createElement("div",{className:"copy",style:{marginTop:15}},o.createElement(f.a,{onClick:this.openTrialLog.bind(this,"TRIAL_LOG"),text:"View trial log"}),o.createElement(f.a,{onClick:this.openTrialLog.bind(this,"TRIAL_ERROR"),text:"View trial error",styles:{root:{marginLeft:15}}}))))))))}}]),a}(o.Component);t.a=S},855:function(e,t,a){},856:function(e,t,a){},992:function(e,t,a){}}]);
//# sourceMappingURL=7.d90c7300.chunk.js.map