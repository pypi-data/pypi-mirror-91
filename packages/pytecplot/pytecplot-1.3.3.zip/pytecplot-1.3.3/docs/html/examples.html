
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Examples &#8212; PyTecplot 1.3.3 documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/pydoctheme.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script src="_static/sidebar.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Reference" href="reference.html" />
    <link rel="prev" title="Quick Start" href="quickstart.html" />
    <link rel="shortcut icon" type="image/gif" href="_static/favicon.gif" />
    
    <script type="text/javascript" src="_static/copybutton.js"></script>
    
     

  </head><body>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="reference.html" title="Reference"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="quickstart.html" title="Quick Start"
             accesskey="P">previous</a> |</li>
    <li><img src="_static/favicon.gif" alt=""
             style="vertical-align: middle; margin-top: -1px"/></li>
    <li><a href="https://www.tecplot.com/docs/pytecplot/">PyTecplot</a> &#187;</li>
    
    <a href="index.html">PyTecplot-1.3</a> &#187;
    

        <li class="nav-item nav-item-this"><a href="">Examples</a></li>
    <li class="right">
        

    <div class="inline-search" style="display: none" role="search">
        <form class="inline-search" action="search.html" method="get">
          <input placeholder="Quick search" type="text" name="q" />
          <input type="submit" value="Go" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
    <script type="text/javascript">$('.inline-search').show(0);</script>
         |
    </li>

      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="examples">
<h1>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#hello-world" id="id2">Hello World</a></p></li>
<li><p><a class="reference internal" href="#loading-layouts" id="id3">Loading Layouts</a></p></li>
<li><p><a class="reference internal" href="#extracting-slices" id="id4">Extracting Slices</a></p></li>
<li><p><a class="reference internal" href="#numpy-integration" id="id5">Numpy Integration</a></p></li>
<li><p><a class="reference internal" href="#execute-equation" id="id6">Execute Equation</a></p></li>
<li><p><a class="reference internal" href="#line-plots" id="id7">Line Plots</a></p></li>
<li><p><a class="reference internal" href="#creating-slices" id="id8">Creating Slices</a></p></li>
<li><p><a class="reference internal" href="#creating-iso-surfaces" id="id9">Creating Iso-surfaces</a></p></li>
<li><p><a class="reference internal" href="#wing-surface-slices" id="id10">Wing Surface Slices</a></p></li>
<li><p><a class="reference internal" href="#mach-iso-surfaces" id="id11">Mach Iso-surfaces</a></p></li>
<li><p><a class="reference internal" href="#exception-handling" id="id12">Exception Handling</a></p></li>
<li><p><a class="reference internal" href="#streamtraces" id="id13">Streamtraces</a></p></li>
<li><p><a class="reference internal" href="#line-legend" id="id14">Line Legend</a></p></li>
<li><p><a class="reference internal" href="#contour-legend" id="id15">Contour Legend</a></p></li>
<li><p><a class="reference internal" href="#d-view" id="id16">3D View</a></p></li>
<li><p><a class="reference internal" href="#embedding-latex" id="id17">Embedding LaTeX</a></p></li>
<li><p><a class="reference internal" href="#multiprocessing" id="id18">Multiprocessing</a></p></li>
</ul>
</div>
<div class="section" id="hello-world">
<span id="id1"></span><h2><a class="toc-backref" href="#id2">Hello World</a><a class="headerlink" href="#hello-world" title="Permalink to this headline">¶</a></h2>
<p>A simple “Hello, World!” adds text to the active frame and exports the frame to
an image file.</p>
<div class="figure align-default" style="width: 300px">
<a class="reference internal image-reference" href="_images/hello_world.png"><img alt="_images/hello_world.png" src="_images/hello_world.png" style="width: 300px;" /></a>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">logging</span>
<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">tecplot</span>

<span class="c1"># Run this script with &quot;-c&quot; to connect to Tecplot 360 on port 7600</span>
<span class="c1"># To enable connections in Tecplot 360, click on:</span>
<span class="c1">#   &quot;Scripting&quot; -&gt; &quot;PyTecplot Connections...&quot; -&gt; &quot;Accept connections&quot;</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="k">if</span> <span class="s1">&#39;-c&#39;</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">:</span>
    <span class="n">tecplot</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>

<span class="n">tecplot</span><span class="o">.</span><span class="n">new_layout</span><span class="p">()</span>

<span class="n">frame</span> <span class="o">=</span> <span class="n">tecplot</span><span class="o">.</span><span class="n">active_frame</span><span class="p">()</span>
<span class="n">frame</span><span class="o">.</span><span class="n">add_text</span><span class="p">(</span><span class="s1">&#39;Hello, World!&#39;</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="p">(</span><span class="mi">36</span><span class="p">,</span> <span class="mi">50</span><span class="p">),</span> <span class="n">size</span><span class="o">=</span><span class="mi">34</span><span class="p">)</span>
<span class="n">tecplot</span><span class="o">.</span><span class="n">export</span><span class="o">.</span><span class="n">save_png</span><span class="p">(</span><span class="s1">&#39;hello_world.png&#39;</span><span class="p">,</span> <span class="mi">600</span><span class="p">,</span> <span class="n">supersample</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="loading-layouts">
<h2><a class="toc-backref" href="#id3">Loading Layouts</a><a class="headerlink" href="#loading-layouts" title="Permalink to this headline">¶</a></h2>
<p>Layouts can be loaded with the <a class="reference internal" href="api/tecplot.layout.html#tecplot.load_layout" title="tecplot.load_layout"><code class="xref any py py-func docutils literal notranslate"><span class="pre">tecplot.load_layout()</span></code></a> method. This will accept
both <code class="docutils literal notranslate"><span class="pre">lay</span></code> and <code class="docutils literal notranslate"><span class="pre">lpk</span></code> (packaged) files. The exported image interprets the
image type by the extension you give it. See <a class="reference internal" href="api/tecplot.exporting.html#tecplot.export.save_png" title="tecplot.export.save_png"><code class="xref any py py-func docutils literal notranslate"><span class="pre">tecplot.export.save_png()</span></code></a> for
more details. Notice in this example, we turn on logging down to the <code class="docutils literal notranslate"><span class="pre">DEBUG</span></code>
level which is extremely verbose. This is useful for debugging the connection
between the script and <a class="reference external" href="https://www.tecplot.com/products/tecplot-360">Tecplot 360</a>.</p>
<div class="figure align-default" style="width: 300px">
<a class="reference internal image-reference" href="_images/layout_example.png"><img alt="_images/layout_example.png" src="_images/layout_example.png" style="width: 300px;" /></a>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">stream</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">tecplot</span>

<span class="c1"># Run this script with &quot;-c&quot; to connect to Tecplot 360 on port 7600</span>
<span class="c1"># To enable connections in Tecplot 360, click on:</span>
<span class="c1">#   &quot;Scripting&quot; -&gt; &quot;PyTecplot Connections...&quot; -&gt; &quot;Accept connections&quot;</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="k">if</span> <span class="s1">&#39;-c&#39;</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">:</span>
    <span class="n">tecplot</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>

<span class="n">examples_dir</span> <span class="o">=</span> <span class="n">tecplot</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">tecplot_examples_directory</span><span class="p">()</span>
<span class="n">infile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">examples_dir</span><span class="p">,</span> <span class="s1">&#39;SimpleData&#39;</span><span class="p">,</span> <span class="s1">&#39;DuctFlow.lay&#39;</span><span class="p">)</span>

<span class="n">tecplot</span><span class="o">.</span><span class="n">load_layout</span><span class="p">(</span><span class="n">infile</span><span class="p">)</span>
<span class="n">tecplot</span><span class="o">.</span><span class="n">export</span><span class="o">.</span><span class="n">save_png</span><span class="p">(</span><span class="s1">&#39;layout_example.png&#39;</span><span class="p">,</span> <span class="mi">600</span><span class="p">,</span> <span class="n">supersample</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="extracting-slices">
<h2><a class="toc-backref" href="#id4">Extracting Slices</a><a class="headerlink" href="#extracting-slices" title="Permalink to this headline">¶</a></h2>
<p>This script produces two images: a 3D view of the wing and a simplified pressure coefficient plot half-way down the wing:</p>
<div class="figure align-default" style="width: 300px">
<a class="reference internal image-reference" href="_images/wing.png"><img alt="_images/wing.png" src="_images/wing.png" style="width: 300px;" /></a>
</div>
<div class="figure align-default" style="width: 300px">
<a class="reference internal image-reference" href="_images/wing_pressure_coefficient.png"><img alt="_images/wing_pressure_coefficient.png" src="_images/wing_pressure_coefficient.png" style="width: 300px;" /></a>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">logging</span>

<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">stream</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">tecplot</span>

<span class="c1"># Run this script with &quot;-c&quot; to connect to Tecplot 360 on port 7600</span>
<span class="c1"># To enable connections in Tecplot 360, click on:</span>
<span class="c1">#   &quot;Scripting&quot; -&gt; &quot;PyTecplot Connections...&quot; -&gt; &quot;Accept connections&quot;</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="k">if</span> <span class="s1">&#39;-c&#39;</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">:</span>
    <span class="n">tecplot</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>


<span class="n">examples_dir</span> <span class="o">=</span> <span class="n">tecplot</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">tecplot_examples_directory</span><span class="p">()</span>
<span class="n">datafile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">examples_dir</span><span class="p">,</span> <span class="s1">&#39;OneraM6wing&#39;</span><span class="p">,</span> <span class="s1">&#39;OneraM6_SU2_RANS.plt&#39;</span><span class="p">)</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">tecplot</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">load_tecplot</span><span class="p">(</span><span class="n">datafile</span><span class="p">)</span>

<span class="n">frame</span> <span class="o">=</span> <span class="n">tecplot</span><span class="o">.</span><span class="n">active_frame</span><span class="p">()</span>
<span class="n">frame</span><span class="o">.</span><span class="n">plot_type</span> <span class="o">=</span> <span class="n">tecplot</span><span class="o">.</span><span class="n">constant</span><span class="o">.</span><span class="n">PlotType</span><span class="o">.</span><span class="n">Cartesian3D</span>
<span class="n">frame</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span><span class="o">.</span><span class="n">show_contour</span> <span class="o">=</span> <span class="kc">True</span>

<span class="c1"># ensure consistent output between interactive (connected) and batch</span>
<span class="n">frame</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span><span class="o">.</span><span class="n">contour</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">levels</span><span class="o">.</span><span class="n">reset_to_nice</span><span class="p">()</span>

<span class="c1"># export image of wing</span>
<span class="n">tecplot</span><span class="o">.</span><span class="n">export</span><span class="o">.</span><span class="n">save_png</span><span class="p">(</span><span class="s1">&#39;wing.png&#39;</span><span class="p">,</span> <span class="mi">600</span><span class="p">,</span> <span class="n">supersample</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="c1"># extract an arbitrary slice from the surface data on the wing</span>
<span class="n">extracted_slice</span> <span class="o">=</span> <span class="n">tecplot</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">extract</span><span class="o">.</span><span class="n">extract_slice</span><span class="p">(</span>
    <span class="n">origin</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
    <span class="n">normal</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
    <span class="n">source</span><span class="o">=</span><span class="n">tecplot</span><span class="o">.</span><span class="n">constant</span><span class="o">.</span><span class="n">SliceSource</span><span class="o">.</span><span class="n">SurfaceZones</span><span class="p">,</span>
    <span class="n">dataset</span><span class="o">=</span><span class="n">dataset</span><span class="p">)</span>

<span class="n">extracted_slice</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Quarter-chord C_p&#39;</span>

<span class="c1"># get x from slice</span>
<span class="n">extracted_x</span> <span class="o">=</span> <span class="n">extracted_slice</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>

<span class="c1"># copy of data as a numpy array</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">extracted_x</span><span class="o">.</span><span class="n">as_numpy_array</span><span class="p">()</span>

<span class="c1"># normalize x</span>
<span class="n">xc</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">x</span><span class="o">.</span><span class="n">min</span><span class="p">())</span> <span class="o">/</span> <span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">-</span> <span class="n">x</span><span class="o">.</span><span class="n">min</span><span class="p">())</span>
<span class="n">extracted_x</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">xc</span>

<span class="c1"># switch plot type in current frame</span>
<span class="n">frame</span><span class="o">.</span><span class="n">plot_type</span> <span class="o">=</span> <span class="n">tecplot</span><span class="o">.</span><span class="n">constant</span><span class="o">.</span><span class="n">PlotType</span><span class="o">.</span><span class="n">XYLine</span>
<span class="n">plot</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>

<span class="c1"># clear plot</span>
<span class="n">plot</span><span class="o">.</span><span class="n">delete_linemaps</span><span class="p">()</span>

<span class="c1"># create line plot from extracted zone data</span>
<span class="n">cp_linemap</span> <span class="o">=</span> <span class="n">plot</span><span class="o">.</span><span class="n">add_linemap</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="n">extracted_slice</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
    <span class="n">zone</span><span class="o">=</span><span class="n">extracted_slice</span><span class="p">,</span>
    <span class="n">x</span><span class="o">=</span><span class="n">dataset</span><span class="o">.</span><span class="n">variable</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">),</span>
    <span class="n">y</span><span class="o">=</span><span class="n">dataset</span><span class="o">.</span><span class="n">variable</span><span class="p">(</span><span class="s1">&#39;Pressure_Coefficient&#39;</span><span class="p">))</span>

<span class="c1"># integrate over the normalized extracted slice values</span>
<span class="c1"># notice we have to convert zero-based index to one-based for CFDAnalyzer</span>
<span class="n">tecplot</span><span class="o">.</span><span class="n">macro</span><span class="o">.</span><span class="n">execute_extended_command</span><span class="p">(</span><span class="s1">&#39;CFDAnalyzer4&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    Integrate</span>
<span class="s1">    VariableOption=&#39;Average&#39;</span>
<span class="s1">    XOrigin=0 YOrigin=0</span>
<span class="s1">    ScalarVar=</span><span class="si">{scalar_var}</span><span class="s1"></span>
<span class="s1">    XVariable=1</span>
<span class="s1">&#39;&#39;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">scalar_var</span><span class="o">=</span><span class="n">dataset</span><span class="o">.</span><span class="n">variable</span><span class="p">(</span><span class="s1">&#39;Pressure_Coefficient&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>

<span class="c1"># get integral result from Frame&#39;s aux data</span>
<span class="n">total</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">frame</span><span class="o">.</span><span class="n">aux_data</span><span class="p">[</span><span class="s1">&#39;CFDA.INTEGRATION_TOTAL&#39;</span><span class="p">])</span>

<span class="c1"># overlay result on plot in upper right corner</span>
<span class="n">frame</span><span class="o">.</span><span class="n">add_text</span><span class="p">(</span><span class="s1">&#39;integration result: </span><span class="si">{:.5f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">total</span><span class="p">),</span> <span class="p">(</span><span class="mi">60</span><span class="p">,</span><span class="mi">90</span><span class="p">))</span>

<span class="c1"># set style of linemap plot</span>
<span class="n">cp_linemap</span><span class="o">.</span><span class="n">line</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">tecplot</span><span class="o">.</span><span class="n">constant</span><span class="o">.</span><span class="n">Color</span><span class="o">.</span><span class="n">Blue</span>
<span class="n">cp_linemap</span><span class="o">.</span><span class="n">line</span><span class="o">.</span><span class="n">line_thickness</span> <span class="o">=</span> <span class="mf">0.8</span>
<span class="n">cp_linemap</span><span class="o">.</span><span class="n">y_axis</span><span class="o">.</span><span class="n">reverse</span> <span class="o">=</span> <span class="kc">True</span>

<span class="c1"># update axes limits to show data</span>
<span class="n">plot</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>

<span class="c1"># export image of pressure coefficient as a function of x/c</span>
<span class="n">tecplot</span><span class="o">.</span><span class="n">export</span><span class="o">.</span><span class="n">save_png</span><span class="p">(</span><span class="s1">&#39;wing_pressure_coefficient.png&#39;</span><span class="p">,</span> <span class="mi">600</span><span class="p">,</span> <span class="n">supersample</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="numpy-integration">
<h2><a class="toc-backref" href="#id5">Numpy Integration</a><a class="headerlink" href="#numpy-integration" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Numpy, SciPy Required</p>
<p>This example requires both <a class="reference external" href="http://www.numpy.org">numpy</a> and <a class="reference external" href="http://www.numpy.org/">scipy</a> installed. SciPy, in turn, requires a conforming
linear algebra system such as OpenBLAS, LAPACK, ATLAS or MKL. It is
recommended to use your operating system’s package manager to do this.
Windows users and/or users that do not have root access to their machines
might consider using <a class="reference external" href="https://www.continuum.io/">Anaconda</a> to setup a
virtual environment where they can install python, numpy, scipy and all of
its dependencies.</p>
</div>
<p>The spherical harmonic <code class="docutils literal notranslate"><span class="pre">(n,m)</span> <span class="pre">=</span> <span class="pre">(5,4)</span></code> is calculated at unit radius. The magnitude is then used to create a 3D shape. The plot-style is modified and the following image is exported.</p>
<div class="figure align-default" style="width: 300px">
<a class="reference internal image-reference" href="_images/spherical_harmonic_4_5.png"><img alt="_images/spherical_harmonic_4_5.png" src="_images/spherical_harmonic_4_5.png" style="width: 300px;" /></a>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">logging</span> <span class="k">as</span> <span class="nn">log</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="nb">abs</span><span class="p">,</span> <span class="n">pi</span><span class="p">,</span> <span class="n">cos</span><span class="p">,</span> <span class="n">sin</span>
<span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">special</span>

<span class="n">log</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">log</span><span class="o">.</span><span class="n">INFO</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">tecplot</span> <span class="k">as</span> <span class="nn">tp</span>
<span class="kn">from</span> <span class="nn">tecplot.session</span> <span class="kn">import</span> <span class="n">set_style</span>
<span class="kn">from</span> <span class="nn">tecplot.constant</span> <span class="kn">import</span> <span class="n">ColorMapDistribution</span>

<span class="c1"># Run this script with &quot;-c&quot; to connect to Tecplot 360 on port 7600</span>
<span class="c1"># To enable connections in Tecplot 360, click on:</span>
<span class="c1">#   &quot;Scripting&quot; -&gt; &quot;PyTecplot Connections...&quot; -&gt; &quot;Accept connections&quot;</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="k">if</span> <span class="s1">&#39;-c&#39;</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">:</span>
    <span class="n">tp</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>

<span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">600</span><span class="p">)</span>

<span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;creating spherical harmonic data&#39;</span><span class="p">)</span>
<span class="n">r</span> <span class="o">=</span> <span class="mf">0.3</span>
<span class="n">phi</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">pi</span><span class="p">,</span> <span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">theta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">,</span> <span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

<span class="n">ttheta</span><span class="p">,</span> <span class="n">pphi</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span> <span class="n">phi</span><span class="p">,</span> <span class="n">indexing</span><span class="o">=</span><span class="s1">&#39;ij&#39;</span><span class="p">)</span>

<span class="n">xx</span> <span class="o">=</span> <span class="n">r</span> <span class="o">*</span> <span class="n">sin</span><span class="p">(</span><span class="n">pphi</span><span class="p">)</span> <span class="o">*</span> <span class="n">cos</span><span class="p">(</span><span class="n">ttheta</span><span class="p">)</span>
<span class="n">yy</span> <span class="o">=</span> <span class="n">r</span> <span class="o">*</span> <span class="n">sin</span><span class="p">(</span><span class="n">pphi</span><span class="p">)</span> <span class="o">*</span> <span class="n">sin</span><span class="p">(</span><span class="n">ttheta</span><span class="p">)</span>
<span class="n">zz</span> <span class="o">=</span> <span class="n">r</span> <span class="o">*</span> <span class="n">cos</span><span class="p">(</span><span class="n">pphi</span><span class="p">)</span>

<span class="n">n</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">m</span> <span class="o">=</span> <span class="mi">4</span>

<span class="n">ss</span> <span class="o">=</span> <span class="n">special</span><span class="o">.</span><span class="n">sph_harm</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">ttheta</span><span class="p">,</span> <span class="n">pphi</span><span class="p">)</span><span class="o">.</span><span class="n">real</span>
<span class="n">ss</span> <span class="o">/=</span> <span class="n">ss</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>

<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">The tecplot.session.suspend() context can be used to improve the performance</span>
<span class="sd">of a series of operations including data creation and style setting. It</span>
<span class="sd">effectively prevents the Tecplot 360 interface from trying to &quot;keep up&quot; with</span>
<span class="sd">changes on the fly. In this short example, the difference in performance is</span>
<span class="sd">still small, but it serves to demonstrate how and when to use this context.</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="k">with</span> <span class="n">tp</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">suspend</span><span class="p">():</span>
    <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;creating tecplot dataset&#39;</span><span class="p">)</span>
    <span class="n">ds</span> <span class="o">=</span> <span class="n">tp</span><span class="o">.</span><span class="n">active_frame</span><span class="p">()</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span><span class="s1">&#39;Data&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="s1">&#39;y&#39;</span><span class="p">,</span><span class="s1">&#39;z&#39;</span><span class="p">,</span><span class="s1">&#39;s&#39;</span><span class="p">])</span>

    <span class="n">sphere_zone</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">add_ordered_zone</span><span class="p">(</span>
        <span class="s1">&#39;SphericalHarmonic(</span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">) Sphere&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">n</span><span class="p">),</span>
        <span class="n">shape</span><span class="p">)</span>

    <span class="n">sphere_zone</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)[:]</span> <span class="o">=</span> <span class="n">xx</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span>
    <span class="n">sphere_zone</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)[:]</span> <span class="o">=</span> <span class="n">yy</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span>
    <span class="n">sphere_zone</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="s1">&#39;z&#39;</span><span class="p">)[:]</span> <span class="o">=</span> <span class="n">zz</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span>
    <span class="n">sphere_zone</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="s1">&#39;s&#39;</span><span class="p">)[:]</span> <span class="o">=</span> <span class="n">ss</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span>

    <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;creating shaped zone&#39;</span><span class="p">)</span>
    <span class="n">shaped_zone</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">add_ordered_zone</span><span class="p">(</span>
        <span class="s1">&#39;SphericalHarmonic(</span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">) Shaped&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">n</span><span class="p">),</span>
        <span class="n">shape</span><span class="p">)</span>

    <span class="n">shaped_zone</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)[:]</span> <span class="o">=</span> <span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">ss</span><span class="p">)</span><span class="o">*</span><span class="n">xx</span><span class="p">)</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span>
    <span class="n">shaped_zone</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)[:]</span> <span class="o">=</span> <span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">ss</span><span class="p">)</span><span class="o">*</span><span class="n">yy</span><span class="p">)</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span>
    <span class="n">shaped_zone</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="s1">&#39;z&#39;</span><span class="p">)[:]</span> <span class="o">=</span> <span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">ss</span><span class="p">)</span><span class="o">*</span><span class="n">zz</span><span class="p">)</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span>
    <span class="n">shaped_zone</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="s1">&#39;s&#39;</span><span class="p">)[:]</span> <span class="o">=</span> <span class="n">ss</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span>

    <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;setting plot type to Cart3D&#39;</span><span class="p">)</span>
    <span class="n">tp</span><span class="o">.</span><span class="n">active_frame</span><span class="p">()</span><span class="o">.</span><span class="n">plot_type</span> <span class="o">=</span> <span class="n">tp</span><span class="o">.</span><span class="n">constant</span><span class="o">.</span><span class="n">PlotType</span><span class="o">.</span><span class="n">Cartesian3D</span>

    <span class="n">plot</span> <span class="o">=</span> <span class="n">tp</span><span class="o">.</span><span class="n">active_frame</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>

    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    The lines below are equivalent to the macro commands.</span>

<span class="sd">    Notice that PyTecplot indexes universally from zero where the</span>
<span class="sd">    macro indexes from one.</span>

<span class="sd">    $!FIELDLAYERS SHOWCONTOUR = YES</span>
<span class="sd">    $!FIELDLAYERS USETRANSLUCENCY = YES</span>
<span class="sd">    $!FIELDMAP [1]  EFFECTS { SURFACETRANSLUCENCY = 70 }</span>
<span class="sd">    $!FIELDMAP [2]  EFFECTS { SURFACETRANSLUCENCY = 30 }</span>
<span class="sd">    $!GLOBALCONTOUR 1  COLORMAPFILTER { COLORMAPDISTRIBUTION = CONTINUOUS }</span>
<span class="sd">    $!GLOBALCONTOUR 1  COLORMAPNAME = &#39;Sequential - Yellow/Green/Blue&#39;</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">plot</span><span class="o">.</span><span class="n">show_contour</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">plot</span><span class="o">.</span><span class="n">use_translucency</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">plot</span><span class="o">.</span><span class="n">fieldmap</span><span class="p">(</span><span class="n">sphere_zone</span><span class="p">)</span><span class="o">.</span><span class="n">effects</span><span class="o">.</span><span class="n">surface_translucency</span> <span class="o">=</span> <span class="mi">70</span>
    <span class="n">plot</span><span class="o">.</span><span class="n">fieldmap</span><span class="p">(</span><span class="n">shaped_zone</span><span class="p">)</span><span class="o">.</span><span class="n">effects</span><span class="o">.</span><span class="n">surface_translucency</span> <span class="o">=</span> <span class="mi">30</span>
    <span class="n">plot</span><span class="o">.</span><span class="n">contour</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">colormap_filter</span><span class="o">.</span><span class="n">distribution</span> <span class="o">=</span> <span class="n">ColorMapDistribution</span><span class="o">.</span><span class="n">Continuous</span>
    <span class="n">plot</span><span class="o">.</span><span class="n">contour</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">colormap_name</span> <span class="o">=</span> <span class="s1">&#39;Sequential - Yellow/Green/Blue&#39;</span>

    <span class="k">for</span> <span class="n">axis</span> <span class="ow">in</span> <span class="n">plot</span><span class="o">.</span><span class="n">axes</span><span class="p">:</span>
        <span class="n">axis</span><span class="o">.</span><span class="n">fit_range</span><span class="p">()</span>

    <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;exiting suspend context&#39;</span><span class="p">)</span>

<span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;continuing with script&#39;</span><span class="p">)</span>

<span class="c1"># ensure consistent output between interactive (connected) and batch</span>
<span class="n">tp</span><span class="o">.</span><span class="n">active_frame</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span><span class="o">.</span><span class="n">contour</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">levels</span><span class="o">.</span><span class="n">reset_to_nice</span><span class="p">()</span>

<span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;spherical_harmonic_</span><span class="si">{}</span><span class="s1">_</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;saving image&#39;</span><span class="p">)</span>
<span class="n">tp</span><span class="o">.</span><span class="n">export</span><span class="o">.</span><span class="n">save_png</span><span class="p">(</span><span class="n">filename</span> <span class="o">+</span> <span class="s1">&#39;.png&#39;</span><span class="p">,</span> <span class="mi">600</span><span class="p">,</span> <span class="n">supersample</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="execute-equation">
<h2><a class="toc-backref" href="#id6">Execute Equation</a><a class="headerlink" href="#execute-equation" title="Permalink to this headline">¶</a></h2>
<p>This example illustrates altering data through equations in two zones. For
complete information on the Tecplot Engine “data alter” syntax, see Chapter
21, <em>Data Operations</em>, in the <a class="reference external" href="https://www.tecplot.com/products/tecplot-360">Tecplot 360</a> User’s Manual. This script
outputs the original data followed by the same image where we’ve modified the
scaling of <code class="docutils literal notranslate"><span class="pre">Nj</span></code> only on the wings.</p>
<div class="figure align-default" style="width: 300px">
<a class="reference internal image-reference" href="_images/F18_orig.png"><img alt="_images/F18_orig.png" src="_images/F18_orig.png" style="width: 300px;" /></a>
</div>
<div class="figure align-default" style="width: 300px">
<a class="reference internal image-reference" href="_images/F18_altered.png"><img alt="_images/F18_altered.png" src="_images/F18_altered.png" style="width: 300px;" /></a>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">tecplot</span>

<span class="c1"># Run this script with &quot;-c&quot; to connect to Tecplot 360 on port 7600</span>
<span class="c1"># To enable connections in Tecplot 360, click on:</span>
<span class="c1">#   &quot;Scripting&quot; -&gt; &quot;PyTecplot Connections...&quot; -&gt; &quot;Accept connections&quot;</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="k">if</span> <span class="s1">&#39;-c&#39;</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">:</span>
    <span class="n">tecplot</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>

<span class="n">examples_dir</span> <span class="o">=</span> <span class="n">tecplot</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">tecplot_examples_directory</span><span class="p">()</span>
<span class="n">infile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">examples_dir</span><span class="p">,</span> <span class="s1">&#39;SimpleData&#39;</span><span class="p">,</span> <span class="s1">&#39;F18.lay&#39;</span><span class="p">)</span>

<span class="c1"># Load a stylized layout where the contour variable is set to &#39;Nj&#39;</span>
<span class="n">tecplot</span><span class="o">.</span><span class="n">load_layout</span><span class="p">(</span><span class="n">infile</span><span class="p">)</span>
<span class="n">current_dataset</span> <span class="o">=</span> <span class="n">tecplot</span><span class="o">.</span><span class="n">active_frame</span><span class="p">()</span><span class="o">.</span><span class="n">dataset</span>

<span class="c1"># export original image</span>
<span class="n">tecplot</span><span class="o">.</span><span class="n">export</span><span class="o">.</span><span class="n">save_png</span><span class="p">(</span><span class="s1">&#39;F18_orig.png&#39;</span><span class="p">,</span> <span class="mi">600</span><span class="p">,</span> <span class="n">supersample</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="c1"># alter variable &#39;Nj&#39; for the the two wing zones in the dataset</span>
<span class="c1"># In this simple example, just multiply it by 10.</span>
<span class="n">tecplot</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">operate</span><span class="o">.</span><span class="n">execute_equation</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{Nj}</span><span class="s1">=</span><span class="si">{Nj}</span><span class="s1">*10&#39;</span><span class="p">,</span>
    <span class="n">zones</span><span class="o">=</span><span class="p">[</span><span class="n">current_dataset</span><span class="o">.</span><span class="n">zone</span><span class="p">(</span><span class="s1">&#39;right wing&#39;</span><span class="p">),</span>
           <span class="n">current_dataset</span><span class="o">.</span><span class="n">zone</span><span class="p">(</span><span class="s1">&#39;left wing&#39;</span><span class="p">)])</span>

<span class="c1"># The contour color of the wings in the exported image will now be</span>
<span class="c1"># red, since we have altered the &#39;Nj&#39; variable by multiplying it by 10.</span>
<span class="n">tecplot</span><span class="o">.</span><span class="n">export</span><span class="o">.</span><span class="n">save_png</span><span class="p">(</span><span class="s1">&#39;F18_altered.png&#39;</span><span class="p">,</span> <span class="mi">600</span><span class="p">,</span> <span class="n">supersample</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="line-plots">
<h2><a class="toc-backref" href="#id7">Line Plots</a><a class="headerlink" href="#line-plots" title="Permalink to this headline">¶</a></h2>
<p>This example shows how to set the style for a plot of three lines. The y-axis
label and legend labels are changed and the axes are adjusted to fit the data.</p>
<div class="figure align-default" style="width: 300px">
<a class="reference internal image-reference" href="_images/linemap.png"><img alt="_images/linemap.png" src="_images/linemap.png" style="width: 300px;" /></a>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">os</span> <span class="kn">import</span> <span class="n">path</span>
<span class="kn">import</span> <span class="nn">tecplot</span> <span class="k">as</span> <span class="nn">tp</span>
<span class="kn">from</span> <span class="nn">tecplot.constant</span> <span class="kn">import</span> <span class="n">PlotType</span><span class="p">,</span> <span class="n">Color</span><span class="p">,</span> <span class="n">LinePattern</span><span class="p">,</span> <span class="n">AxisTitleMode</span>

<span class="c1"># Run this script with &quot;-c&quot; to connect to Tecplot 360 on port 7600</span>
<span class="c1"># To enable connections in Tecplot 360, click on:</span>
<span class="c1">#   &quot;Scripting&quot; -&gt; &quot;PyTecplot Connections...&quot; -&gt; &quot;Accept connections&quot;</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="k">if</span> <span class="s1">&#39;-c&#39;</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">:</span>
    <span class="n">tp</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>

<span class="c1"># load data from examples directory</span>
<span class="n">examples_dir</span> <span class="o">=</span> <span class="n">tp</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">tecplot_examples_directory</span><span class="p">()</span>
<span class="n">infile</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">examples_dir</span><span class="p">,</span> <span class="s1">&#39;SimpleData&#39;</span><span class="p">,</span> <span class="s1">&#39;Rainfall.dat&#39;</span><span class="p">)</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">tp</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">load_tecplot</span><span class="p">(</span><span class="n">infile</span><span class="p">)</span>

<span class="c1"># get handle to the active frame and set plot type to XY Line</span>
<span class="n">frame</span> <span class="o">=</span> <span class="n">tp</span><span class="o">.</span><span class="n">active_frame</span><span class="p">()</span>
<span class="n">frame</span><span class="o">.</span><span class="n">plot_type</span> <span class="o">=</span> <span class="n">PlotType</span><span class="o">.</span><span class="n">XYLine</span>
<span class="n">plot</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>

<span class="c1"># We will set the name, color and a few other properties</span>
<span class="c1"># for the first three linemaps in the dataset.</span>
<span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Seattle&#39;</span><span class="p">,</span> <span class="s1">&#39;Dallas&#39;</span><span class="p">,</span> <span class="s1">&#39;Miami&#39;</span><span class="p">]</span>
<span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="n">Color</span><span class="o">.</span><span class="n">Blue</span><span class="p">,</span> <span class="n">Color</span><span class="o">.</span><span class="n">DeepRed</span><span class="p">,</span> <span class="n">Color</span><span class="o">.</span><span class="n">Khaki</span><span class="p">]</span>

<span class="c1"># loop over the linemaps, setting style for each</span>
<span class="k">for</span> <span class="n">lmap</span><span class="p">,</span><span class="n">name</span><span class="p">,</span><span class="n">color</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">plot</span><span class="o">.</span><span class="n">linemaps</span><span class="p">(),</span><span class="n">names</span><span class="p">,</span><span class="n">colors</span><span class="p">):</span>
    <span class="n">lmap</span><span class="o">.</span><span class="n">show</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">lmap</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span> <span class="c1"># This will be used in the legend</span>

    <span class="c1"># Changing some line attributes</span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">lmap</span><span class="o">.</span><span class="n">line</span>
    <span class="n">line</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">color</span>
    <span class="n">line</span><span class="o">.</span><span class="n">line_thickness</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">line</span><span class="o">.</span><span class="n">line_pattern</span> <span class="o">=</span> <span class="n">LinePattern</span><span class="o">.</span><span class="n">LongDash</span>
    <span class="n">line</span><span class="o">.</span><span class="n">pattern_length</span> <span class="o">=</span> <span class="mi">2</span>

<span class="c1"># Set the y-axis label</span>
<span class="n">plot</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">y_axis</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">title_mode</span> <span class="o">=</span> <span class="n">AxisTitleMode</span><span class="o">.</span><span class="n">UseText</span>
<span class="n">plot</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">y_axis</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;Rainfall&#39;</span>

<span class="c1"># Turn on legend</span>
<span class="n">plot</span><span class="o">.</span><span class="n">legend</span><span class="o">.</span><span class="n">show</span> <span class="o">=</span> <span class="kc">True</span>

<span class="c1"># Adjust the axes limits to show all the data</span>
<span class="n">plot</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>

<span class="c1"># save image to file</span>
<span class="n">tp</span><span class="o">.</span><span class="n">export</span><span class="o">.</span><span class="n">save_png</span><span class="p">(</span><span class="s1">&#39;linemap.png&#39;</span><span class="p">,</span> <span class="mi">600</span><span class="p">,</span> <span class="n">supersample</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="creating-slices">
<h2><a class="toc-backref" href="#id8">Creating Slices</a><a class="headerlink" href="#creating-slices" title="Permalink to this headline">¶</a></h2>
<p>This example illustrates reading a dataset then creating and showing arbitrary
slices of the dataset. A primary slice, start, end, and 2 intermediate slices
are shown.</p>
<div class="figure align-default" style="width: 300px">
<a class="reference internal image-reference" href="_images/slices.png"><img alt="_images/slices.png" src="_images/slices.png" style="width: 300px;" /></a>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">os</span> <span class="kn">import</span> <span class="n">path</span>
<span class="kn">import</span> <span class="nn">tecplot</span> <span class="k">as</span> <span class="nn">tp</span>
<span class="kn">from</span> <span class="nn">tecplot.constant</span> <span class="kn">import</span> <span class="n">SliceSurface</span><span class="p">,</span> <span class="n">ContourType</span>

<span class="c1"># Run this script with &quot;-c&quot; to connect to Tecplot 360 on port 7600</span>
<span class="c1"># To enable connections in Tecplot 360, click on:</span>
<span class="c1">#   &quot;Scripting&quot; -&gt; &quot;PyTecplot Connections...&quot; -&gt; &quot;Accept connections&quot;</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="k">if</span> <span class="s1">&#39;-c&#39;</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">:</span>
    <span class="n">tp</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>

<span class="n">examples_dir</span> <span class="o">=</span> <span class="n">tp</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">tecplot_examples_directory</span><span class="p">()</span>
<span class="n">datafile</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">examples_dir</span><span class="p">,</span> <span class="s1">&#39;SimpleData&#39;</span><span class="p">,</span> <span class="s1">&#39;DuctFlow.plt&#39;</span><span class="p">)</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">tp</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">load_tecplot</span><span class="p">(</span><span class="n">datafile</span><span class="p">)</span>

<span class="n">plot</span> <span class="o">=</span> <span class="n">tp</span><span class="o">.</span><span class="n">active_frame</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">plot</span><span class="o">.</span><span class="n">contour</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">variable</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">variable</span><span class="p">(</span><span class="s1">&#39;U(M/S)&#39;</span><span class="p">)</span>
<span class="n">plot</span><span class="o">.</span><span class="n">show_contour</span> <span class="o">=</span> <span class="kc">True</span>

<span class="c1"># Turn on slice and get handle to slice object</span>
<span class="n">plot</span><span class="o">.</span><span class="n">show_slices</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">slice_0</span> <span class="o">=</span> <span class="n">plot</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># Turn on slice translucency</span>
<span class="n">slice_0</span><span class="o">.</span><span class="n">effects</span><span class="o">.</span><span class="n">use_translucency</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">slice_0</span><span class="o">.</span><span class="n">effects</span><span class="o">.</span><span class="n">surface_translucency</span> <span class="o">=</span> <span class="mi">20</span>

<span class="c1"># Setup 4 evenly spaced slices</span>
<span class="n">slice_0</span><span class="o">.</span><span class="n">show_primary_slice</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">slice_0</span><span class="o">.</span><span class="n">show_start_and_end_slices</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">slice_0</span><span class="o">.</span><span class="n">show_intermediate_slices</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">slice_0</span><span class="o">.</span><span class="n">start_position</span> <span class="o">=</span> <span class="p">(</span><span class="o">-.</span><span class="mi">21</span><span class="p">,</span> <span class="o">.</span><span class="mi">05</span><span class="p">,</span> <span class="o">.</span><span class="mi">025</span><span class="p">)</span>
<span class="n">slice_0</span><span class="o">.</span><span class="n">end_position</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.342</span><span class="p">,</span> <span class="o">.</span><span class="mi">95</span><span class="p">,</span> <span class="o">.</span><span class="mi">475</span><span class="p">)</span>
<span class="n">slice_0</span><span class="o">.</span><span class="n">num_intermediate_slices</span> <span class="o">=</span> <span class="mi">2</span>

<span class="c1"># Turn on contours of X Velocity on the slice</span>
<span class="n">slice_0</span><span class="o">.</span><span class="n">contour</span><span class="o">.</span><span class="n">show</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">plot</span><span class="o">.</span><span class="n">contour</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">levels</span><span class="o">.</span><span class="n">reset_to_nice</span><span class="p">()</span>

<span class="n">tp</span><span class="o">.</span><span class="n">export</span><span class="o">.</span><span class="n">save_png</span><span class="p">(</span><span class="s1">&#39;slices.png&#39;</span><span class="p">,</span> <span class="mi">600</span><span class="p">,</span> <span class="n">supersample</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="creating-iso-surfaces">
<h2><a class="toc-backref" href="#id9">Creating Iso-surfaces</a><a class="headerlink" href="#creating-iso-surfaces" title="Permalink to this headline">¶</a></h2>
<p>This example illustrates reading a dataset, then creating and showing
isosurfaces.</p>
<div class="figure align-default" style="width: 300px">
<a class="reference internal image-reference" href="_images/isosurface_example.png"><img alt="_images/isosurface_example.png" src="_images/isosurface_example.png" style="width: 300px;" /></a>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">os</span> <span class="kn">import</span> <span class="n">path</span>

<span class="kn">import</span> <span class="nn">tecplot</span> <span class="k">as</span> <span class="nn">tp</span>
<span class="kn">from</span> <span class="nn">tecplot.constant</span> <span class="kn">import</span> <span class="n">LightingEffect</span><span class="p">,</span> <span class="n">IsoSurfaceSelection</span>

<span class="c1"># Run this script with &quot;-c&quot; to connect to Tecplot 360 on port 7600</span>
<span class="c1"># To enable connections in Tecplot 360, click on:</span>
<span class="c1">#   &quot;Scripting&quot; -&gt; &quot;PyTecplot Connections...&quot; -&gt; &quot;Accept connections&quot;</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="k">if</span> <span class="s1">&#39;-c&#39;</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">:</span>
    <span class="n">tp</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>

<span class="n">examples_dir</span> <span class="o">=</span> <span class="n">tp</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">tecplot_examples_directory</span><span class="p">()</span>
<span class="n">datafile</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">examples_dir</span><span class="p">,</span> <span class="s1">&#39;SimpleData&#39;</span><span class="p">,</span> <span class="s1">&#39;DuctFlow.plt&#39;</span><span class="p">)</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">tp</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">load_tecplot</span><span class="p">(</span><span class="n">datafile</span><span class="p">)</span>

<span class="n">plot</span> <span class="o">=</span> <span class="n">tp</span><span class="o">.</span><span class="n">active_frame</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">plot</span><span class="o">.</span><span class="n">contour</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">variable</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">variable</span><span class="p">(</span><span class="s1">&#39;U(M/S)&#39;</span><span class="p">)</span>

<span class="n">plot</span><span class="o">.</span><span class="n">show_isosurfaces</span> <span class="o">=</span> <span class="kc">True</span>

<span class="n">iso</span> <span class="o">=</span> <span class="n">plot</span><span class="o">.</span><span class="n">isosurface</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="n">iso</span><span class="o">.</span><span class="n">isosurface_selection</span> <span class="o">=</span> <span class="n">IsoSurfaceSelection</span><span class="o">.</span><span class="n">ThreeSpecificValues</span>
<span class="n">iso</span><span class="o">.</span><span class="n">isosurface_values</span> <span class="o">=</span> <span class="p">(</span><span class="mf">135.674706817</span><span class="p">,</span> <span class="mf">264.930212259</span><span class="p">,</span> <span class="mf">394.185717702</span><span class="p">)</span>

<span class="n">iso</span><span class="o">.</span><span class="n">shade</span><span class="o">.</span><span class="n">use_lighting_effect</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">iso</span><span class="o">.</span><span class="n">effects</span><span class="o">.</span><span class="n">lighting_effect</span> <span class="o">=</span> <span class="n">LightingEffect</span><span class="o">.</span><span class="n">Paneled</span>
<span class="n">iso</span><span class="o">.</span><span class="n">contour</span><span class="o">.</span><span class="n">show</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">iso</span><span class="o">.</span><span class="n">effects</span><span class="o">.</span><span class="n">use_translucency</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">iso</span><span class="o">.</span><span class="n">effects</span><span class="o">.</span><span class="n">surface_translucency</span> <span class="o">=</span> <span class="mi">50</span>

<span class="c1"># ensure consistent output between interactive (connected) and batch</span>
<span class="n">plot</span><span class="o">.</span><span class="n">contour</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">levels</span><span class="o">.</span><span class="n">reset_to_nice</span><span class="p">()</span>

<span class="n">tp</span><span class="o">.</span><span class="n">export</span><span class="o">.</span><span class="n">save_png</span><span class="p">(</span><span class="s1">&#39;isosurface_example.png&#39;</span><span class="p">,</span> <span class="mi">600</span><span class="p">,</span> <span class="n">supersample</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="wing-surface-slices">
<h2><a class="toc-backref" href="#id10">Wing Surface Slices</a><a class="headerlink" href="#wing-surface-slices" title="Permalink to this headline">¶</a></h2>
<p>This example illustrates reading a dataset and showing surface slices with
colored mesh on the Onera M6 Wing. Seven surface slices are shown, colored by
the distance along the Y axis.</p>
<div class="figure align-default" style="width: 300px">
<a class="reference internal image-reference" href="_images/wing_slices.png"><img alt="_images/wing_slices.png" src="_images/wing_slices.png" style="width: 300px;" /></a>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">tecplot</span>
<span class="kn">from</span> <span class="nn">tecplot.constant</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># Run this script with &quot;-c&quot; to connect to Tecplot 360 on port 7600</span>
<span class="c1"># To enable connections in Tecplot 360, click on:</span>
<span class="c1">#   &quot;Scripting&quot; -&gt; &quot;PyTecplot Connections...&quot; -&gt; &quot;Accept connections&quot;</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="k">if</span> <span class="s1">&#39;-c&#39;</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">:</span>
    <span class="n">tecplot</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>

<span class="n">examples_dir</span> <span class="o">=</span> <span class="n">tecplot</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">tecplot_examples_directory</span><span class="p">()</span>
<span class="n">datafile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">examples_dir</span><span class="p">,</span> <span class="s1">&#39;OneraM6wing&#39;</span><span class="p">,</span> <span class="s1">&#39;OneraM6_SU2_RANS.plt&#39;</span><span class="p">)</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">tecplot</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">load_tecplot</span><span class="p">(</span><span class="n">datafile</span><span class="p">)</span>

<span class="n">frame</span> <span class="o">=</span> <span class="n">tecplot</span><span class="o">.</span><span class="n">active_frame</span><span class="p">()</span>
<span class="n">plot</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>

<span class="c1"># Turn on only the periodic slices (start, end and intermeidate)</span>
<span class="c1"># and set them to span the length of the wing</span>
<span class="n">plot</span><span class="o">.</span><span class="n">show_slices</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">slices</span> <span class="o">=</span> <span class="n">plot</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">slices</span><span class="o">.</span><span class="n">show</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">slices</span><span class="o">.</span><span class="n">slice_source</span> <span class="o">=</span> <span class="n">SliceSource</span><span class="o">.</span><span class="n">SurfaceZones</span>
<span class="n">slices</span><span class="o">.</span><span class="n">orientation</span> <span class="o">=</span> <span class="n">SliceSurface</span><span class="o">.</span><span class="n">YPlanes</span>
<span class="n">slices</span><span class="o">.</span><span class="n">show_primary_slice</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">slices</span><span class="o">.</span><span class="n">show_start_and_end_slices</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">slices</span><span class="o">.</span><span class="n">show_intermediate_slices</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">slices</span><span class="o">.</span><span class="n">num_intermediate_slices</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">slices</span><span class="o">.</span><span class="n">start_position</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">slices</span><span class="o">.</span><span class="n">end_position</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mf">1.19</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># Setup First Contour Group to color by the distance along the Y axis (Span)</span>
<span class="n">cont</span> <span class="o">=</span> <span class="n">plot</span><span class="o">.</span><span class="n">contour</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">cont</span><span class="o">.</span><span class="n">variable</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">dataset</span><span class="o">.</span><span class="n">variable</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="n">cont</span><span class="o">.</span><span class="n">levels</span><span class="o">.</span><span class="n">reset_levels</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mf">1.2</span><span class="p">,</span><span class="mi">13</span><span class="p">))</span>
<span class="n">cont</span><span class="o">.</span><span class="n">legend</span><span class="o">.</span><span class="n">show</span> <span class="o">=</span> <span class="kc">False</span>

<span class="c1"># Color the Surface Slices by the contour, this must be done on the mesh</span>
<span class="n">slices</span><span class="o">.</span><span class="n">contour</span><span class="o">.</span><span class="n">show</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">slices</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">show</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">slices</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">cont</span>
<span class="n">slices</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">line_thickness</span> <span class="o">=</span> <span class="mf">0.6</span>
<span class="n">slices</span><span class="o">.</span><span class="n">edge</span><span class="o">.</span><span class="n">show</span> <span class="o">=</span> <span class="kc">False</span>

<span class="c1"># Turn translucency on globally</span>
<span class="n">plot</span><span class="o">.</span><span class="n">use_translucency</span> <span class="o">=</span> <span class="kc">True</span>

<span class="n">tecplot</span><span class="o">.</span><span class="n">export</span><span class="o">.</span><span class="n">save_png</span><span class="p">(</span><span class="s2">&quot;wing_slices.png&quot;</span><span class="p">,</span><span class="mi">600</span><span class="p">,</span> <span class="n">supersample</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="mach-iso-surfaces">
<h2><a class="toc-backref" href="#id11">Mach Iso-surfaces</a><a class="headerlink" href="#mach-iso-surfaces" title="Permalink to this headline">¶</a></h2>
<p>This example illustrates using contour group properties to define multiple
Iso-surfaces. In this case, multiple Mach values are shown as Iso-surfaces.</p>
<div class="figure align-default" style="width: 300px">
<a class="reference internal image-reference" href="_images/wing_iso.png"><img alt="_images/wing_iso.png" src="_images/wing_iso.png" style="width: 300px;" /></a>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">tecplot</span>
<span class="kn">from</span> <span class="nn">tecplot.constant</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="c1"># Run this script with &quot;-c&quot; to connect to Tecplot 360 on port 7600</span>
<span class="c1"># To enable connections in Tecplot 360, click on:</span>
<span class="c1">#   &quot;Scripting&quot; -&gt; &quot;PyTecplot Connections...&quot; -&gt; &quot;Accept connections&quot;</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="k">if</span> <span class="s1">&#39;-c&#39;</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">:</span>
    <span class="n">tecplot</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>

<span class="n">examples_dir</span> <span class="o">=</span> <span class="n">tecplot</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">tecplot_examples_directory</span><span class="p">()</span>
<span class="n">datafile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">examples_dir</span><span class="p">,</span> <span class="s1">&#39;OneraM6wing&#39;</span><span class="p">,</span> <span class="s1">&#39;OneraM6_SU2_RANS.plt&#39;</span><span class="p">)</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">tecplot</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">load_tecplot</span><span class="p">(</span><span class="n">datafile</span><span class="p">)</span>

<span class="n">frame</span> <span class="o">=</span> <span class="n">tecplot</span><span class="o">.</span><span class="n">active_frame</span><span class="p">()</span>
<span class="n">plot</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>

<span class="c1"># Set Isosurface to match Contour Levels of the first group.</span>
<span class="n">iso</span> <span class="o">=</span> <span class="n">plot</span><span class="o">.</span><span class="n">isosurface</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">iso</span><span class="o">.</span><span class="n">isosurface_selection</span> <span class="o">=</span> <span class="n">IsoSurfaceSelection</span><span class="o">.</span><span class="n">AllContourLevels</span>
<span class="n">cont</span> <span class="o">=</span> <span class="n">plot</span><span class="o">.</span><span class="n">contour</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">iso</span><span class="o">.</span><span class="n">definition_contour_group</span> <span class="o">=</span> <span class="n">cont</span>
<span class="n">cont</span><span class="o">.</span><span class="n">colormap_name</span> <span class="o">=</span> <span class="s1">&#39;Magma&#39;</span>

<span class="c1"># Setup definition Isosurface layers</span>
<span class="n">cont</span><span class="o">.</span><span class="n">variable</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">variable</span><span class="p">(</span><span class="s1">&#39;Mach&#39;</span><span class="p">)</span>
<span class="n">cont</span><span class="o">.</span><span class="n">levels</span><span class="o">.</span><span class="n">reset_levels</span><span class="p">(</span> <span class="p">[</span><span class="o">.</span><span class="mi">95</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.1</span><span class="p">,</span><span class="mf">1.4</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">cont</span><span class="o">.</span><span class="n">levels</span><span class="p">))</span>

<span class="c1"># Turn on Translucency</span>
<span class="n">iso</span><span class="o">.</span><span class="n">effects</span><span class="o">.</span><span class="n">use_translucency</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">iso</span><span class="o">.</span><span class="n">effects</span><span class="o">.</span><span class="n">surface_translucency</span> <span class="o">=</span> <span class="mi">80</span>

<span class="c1"># Turn on Isosurfaces</span>
<span class="n">plot</span><span class="o">.</span><span class="n">show_isosurfaces</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">iso</span><span class="o">.</span><span class="n">show</span> <span class="o">=</span> <span class="kc">True</span>

<span class="n">cont</span><span class="o">.</span><span class="n">legend</span><span class="o">.</span><span class="n">show</span> <span class="o">=</span> <span class="kc">False</span>

<span class="n">view</span> <span class="o">=</span> <span class="n">plot</span><span class="o">.</span><span class="n">view</span>
<span class="n">view</span><span class="o">.</span><span class="n">psi</span> <span class="o">=</span> <span class="mf">65.777</span>
<span class="n">view</span><span class="o">.</span><span class="n">theta</span> <span class="o">=</span> <span class="mf">166.415</span>
<span class="n">view</span><span class="o">.</span><span class="n">alpha</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.05394</span>
<span class="n">view</span><span class="o">.</span><span class="n">position</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mf">23.92541680486183</span><span class="p">,</span> <span class="mf">101.8931504712126</span><span class="p">,</span> <span class="mf">47.04269529295333</span><span class="p">)</span>
<span class="n">view</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="mf">1.3844</span>

<span class="n">tecplot</span><span class="o">.</span><span class="n">export</span><span class="o">.</span><span class="n">save_png</span><span class="p">(</span><span class="s2">&quot;wing_iso.png&quot;</span><span class="p">,</span><span class="n">width</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span> <span class="n">supersample</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="exception-handling">
<h2><a class="toc-backref" href="#id12">Exception Handling</a><a class="headerlink" href="#exception-handling" title="Permalink to this headline">¶</a></h2>
<p>It is the policy of the PyTecplot Python module to raise exceptions on any failure. It is the user’s job to catch them or otherwise prevent them by ensuring the Tecplot Engine is properly setup to the task you ask of it. Aside from exceptions raised by the underlying Python core libraries, PyTecplot may raise a subclass of <a class="reference internal" href="api/tecplot.exceptions.html#tecplot.exception.TecplotError" title="tecplot.exception.TecplotError"><code class="xref any py py-exc docutils literal notranslate"><span class="pre">TecplotError</span></code></a>, the most common being <a class="reference internal" href="api/tecplot.exceptions.html#tecplot.exception.TecplotRuntimeError" title="tecplot.exception.TecplotRuntimeError"><code class="xref any py py-exc docutils literal notranslate"><span class="pre">TecplotRuntimeError</span></code></a>.</p>
<div class="figure align-default" style="width: 300px">
<a class="reference internal image-reference" href="_images/spaceship.png"><img alt="_images/spaceship.png" src="_images/spaceship.png" style="width: 300px;" /></a>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="c1"># turn on exceptionally verbose logging!!!</span>
<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">tecplot</span>
<span class="kn">from</span> <span class="nn">tecplot.exception</span> <span class="kn">import</span> <span class="o">*</span>

<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Calling tecplot.session.acquire_license() is optional.</span>
<span class="sd">If you do not call it, it will be called automatically for you</span>
<span class="sd">the first time you call any PyTecplot API.</span>

<span class="sd">acquire_license() may also be called manually. It will raise an exception</span>
<span class="sd">if Tecplot cannot be initialized. The most common reason that</span>
<span class="sd">Tecplot cannot be initialized is if a valid license is not found.</span>
<span class="sd">If you call start yourself, you can catch and recover from the</span>
<span class="sd">exception.</span>

<span class="sd">Note that calling tecplot.session.stop() will release the license acquired</span>
<span class="sd">when calling tecplot.session.connect().</span>

<span class="sd">Also note that once tecplot.session.stop() is called, the Tecplot Engine</span>
<span class="sd">cannot be restarted again during the current python session.</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">tecplot</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">acquire_license</span><span class="p">()</span>
<span class="k">except</span> <span class="n">TecplotLicenseError</span><span class="p">:</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="s1">&#39;Missing or invalid license:&#39;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">TecplotLogicError</span><span class="p">:</span>
    <span class="c1"># It is a logic error when acquiring license when</span>
    <span class="c1"># already connected to Tecplot 360 TecUtil Server</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">tecplot</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">connected</span><span class="p">():</span>
        <span class="k">raise</span>
<span class="k">except</span> <span class="n">TecplotError</span><span class="p">:</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="s1">&#39;Could not initialize pytecplot&#39;</span><span class="p">)</span>
    <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="n">examples_dir</span> <span class="o">=</span> <span class="n">tecplot</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">tecplot_examples_directory</span><span class="p">()</span>
<span class="n">infile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">examples_dir</span><span class="p">,</span> <span class="s1">&#39;SimpleData&#39;</span><span class="p">,</span> <span class="s1">&#39;SpaceShip.lpk&#39;</span><span class="p">)</span>
<span class="n">outfile</span> <span class="o">=</span> <span class="s1">&#39;spaceship.png&#39;</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Opening layout file: &#39;</span> <span class="o">+</span> <span class="n">infile</span><span class="p">)</span>
    <span class="n">tecplot</span><span class="o">.</span><span class="n">load_layout</span><span class="p">(</span><span class="n">infile</span><span class="p">)</span>

    <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Exporting Image: &#39;</span> <span class="o">+</span> <span class="n">outfile</span><span class="p">)</span>
    <span class="n">tecplot</span><span class="o">.</span><span class="n">export</span><span class="o">.</span><span class="n">save_png</span><span class="p">(</span><span class="n">outfile</span><span class="p">,</span> <span class="mi">600</span><span class="p">,</span> <span class="n">supersample</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

    <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Finished, no errors&#39;</span><span class="p">)</span>

<span class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;I/O Error: Check disk space and permissions&quot;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">TecplotSystemError</span><span class="p">:</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="s1">&#39;Failed to export image: &#39;</span> <span class="o">+</span> <span class="n">outfile</span><span class="p">)</span>
<span class="k">finally</span><span class="p">:</span>
    <span class="c1"># tecplot.session.stop() may be called manually to</span>
    <span class="c1"># shut down Tecplot and release the license.</span>
    <span class="c1"># If tecplot.session.stop() is not called manually</span>
    <span class="c1"># it will be called automatically when the script exits.</span>
    <span class="n">tecplot</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>

<span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Done&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="streamtraces">
<h2><a class="toc-backref" href="#id13">Streamtraces</a><a class="headerlink" href="#streamtraces" title="Permalink to this headline">¶</a></h2>
<p>Using the transient Vortex Shedding layout a rake of 2D streamtrace lines are added.</p>
<div class="figure align-default" style="width: 300px">
<a class="reference internal image-reference" href="_images/streamtrace_2D.png"><img alt="_images/streamtrace_2D.png" src="_images/streamtrace_2D.png" style="width: 300px;" /></a>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">tecplot</span>
<span class="kn">from</span> <span class="nn">tecplot.constant</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="c1"># Run this script with &quot;-c&quot; to connect to Tecplot 360 on port 7600</span>
<span class="c1"># To enable connections in Tecplot 360, click on:</span>
<span class="c1">#   &quot;Scripting&quot; -&gt; &quot;PyTecplot Connections...&quot; -&gt; &quot;Accept connections&quot;</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="k">if</span> <span class="s1">&#39;-c&#39;</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">:</span>
    <span class="n">tecplot</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>

<span class="n">examples_dir</span> <span class="o">=</span> <span class="n">tecplot</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">tecplot_examples_directory</span><span class="p">()</span>
<span class="n">datafile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">examples_dir</span><span class="p">,</span> <span class="s1">&#39;SimpleData&#39;</span><span class="p">,</span> <span class="s1">&#39;VortexShedding.plt&#39;</span><span class="p">)</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">tecplot</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">load_tecplot</span><span class="p">(</span><span class="n">datafile</span><span class="p">)</span>

<span class="n">frame</span> <span class="o">=</span> <span class="n">tecplot</span><span class="o">.</span><span class="n">active_frame</span><span class="p">()</span>
<span class="n">frame</span><span class="o">.</span><span class="n">plot_type</span> <span class="o">=</span> <span class="n">tecplot</span><span class="o">.</span><span class="n">constant</span><span class="o">.</span><span class="n">PlotType</span><span class="o">.</span><span class="n">Cartesian2D</span>

<span class="c1"># Setup up vectors and background contour</span>
<span class="n">plot</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">plot</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">u_variable</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">variable</span><span class="p">(</span><span class="s1">&#39;U(M/S)&#39;</span><span class="p">)</span>
<span class="n">plot</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">v_variable</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">variable</span><span class="p">(</span><span class="s1">&#39;V(M/S)&#39;</span><span class="p">)</span>
<span class="n">plot</span><span class="o">.</span><span class="n">contour</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">variable</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">variable</span><span class="p">(</span><span class="s1">&#39;T(K)&#39;</span><span class="p">)</span>
<span class="n">plot</span><span class="o">.</span><span class="n">show_streamtraces</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">plot</span><span class="o">.</span><span class="n">show_contour</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">plot</span><span class="o">.</span><span class="n">fieldmap</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">contour</span><span class="o">.</span><span class="n">show</span> <span class="o">=</span> <span class="kc">True</span>

<span class="c1"># Add streamtraces and set streamtrace style</span>
<span class="n">streamtraces</span> <span class="o">=</span> <span class="n">plot</span><span class="o">.</span><span class="n">streamtraces</span>
<span class="n">streamtraces</span><span class="o">.</span><span class="n">add_rake</span><span class="p">(</span><span class="n">start_position</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mf">0.003</span><span class="p">,</span> <span class="mf">0.005</span><span class="p">),</span>
                      <span class="n">end_position</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mf">0.003</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.005</span><span class="p">),</span>
                      <span class="n">stream_type</span><span class="o">=</span><span class="n">Streamtrace</span><span class="o">.</span><span class="n">TwoDLine</span><span class="p">,</span>
                      <span class="n">num_seed_points</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="n">streamtraces</span><span class="o">.</span><span class="n">show_arrows</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">streamtraces</span><span class="o">.</span><span class="n">line_thickness</span> <span class="o">=</span> <span class="o">.</span><span class="mi">4</span>

<span class="n">plot</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">y_axis</span><span class="o">.</span><span class="n">min</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.02</span>
<span class="n">plot</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">y_axis</span><span class="o">.</span><span class="n">max</span> <span class="o">=</span> <span class="mf">0.02</span>
<span class="n">plot</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">x_axis</span><span class="o">.</span><span class="n">min</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.008</span>
<span class="n">plot</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">x_axis</span><span class="o">.</span><span class="n">max</span> <span class="o">=</span> <span class="mf">0.04</span>

<span class="n">tecplot</span><span class="o">.</span><span class="n">export</span><span class="o">.</span><span class="n">save_png</span><span class="p">(</span><span class="s1">&#39;streamtrace_2D.png&#39;</span><span class="p">,</span> <span class="mi">600</span><span class="p">,</span> <span class="n">supersample</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p>This example illustrates adding a rake of streamtraces.</p>
<div class="figure align-default" style="width: 300px">
<a class="reference internal image-reference" href="_images/streamtrace_line_example.png"><img alt="_images/streamtrace_line_example.png" src="_images/streamtrace_line_example.png" style="width: 300px;" /></a>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">tecplot</span>
<span class="kn">from</span> <span class="nn">tecplot.constant</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">tecplot.plot</span> <span class="kn">import</span> <span class="n">Cartesian3DFieldPlot</span>

<span class="c1"># Run this script with &quot;-c&quot; to connect to Tecplot 360 on port 7600</span>
<span class="c1"># To enable connections in Tecplot 360, click on:</span>
<span class="c1">#   &quot;Scripting&quot; -&gt; &quot;PyTecplot Connections...&quot; -&gt; &quot;Accept connections&quot;</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="k">if</span> <span class="s1">&#39;-c&#39;</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">:</span>
    <span class="n">tecplot</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>

<span class="n">examples_dir</span> <span class="o">=</span> <span class="n">tecplot</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">tecplot_examples_directory</span><span class="p">()</span>
<span class="n">datafile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">examples_dir</span><span class="p">,</span> <span class="s1">&#39;SimpleData&#39;</span><span class="p">,</span> <span class="s1">&#39;Eddy.plt&#39;</span><span class="p">)</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">tecplot</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">load_tecplot</span><span class="p">(</span><span class="n">datafile</span><span class="p">)</span>

<span class="n">frame</span> <span class="o">=</span> <span class="n">tecplot</span><span class="o">.</span><span class="n">active_frame</span><span class="p">()</span>
<span class="n">frame</span><span class="o">.</span><span class="n">plot_type</span> <span class="o">=</span> <span class="n">tecplot</span><span class="o">.</span><span class="n">constant</span><span class="o">.</span><span class="n">PlotType</span><span class="o">.</span><span class="n">Cartesian3D</span>

<span class="n">plot</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">plot</span><span class="o">.</span><span class="n">fieldmap</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">surfaces</span><span class="o">.</span><span class="n">surfaces_to_plot</span> <span class="o">=</span> <span class="n">SurfacesToPlot</span><span class="o">.</span><span class="n">BoundaryFaces</span>
<span class="n">plot</span><span class="o">.</span><span class="n">show_mesh</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">plot</span><span class="o">.</span><span class="n">show_shade</span> <span class="o">=</span> <span class="kc">False</span>

<span class="n">plot</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">u_variable_index</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">plot</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">v_variable_index</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">plot</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">w_variable_index</span> <span class="o">=</span> <span class="mi">6</span>
<span class="n">plot</span><span class="o">.</span><span class="n">show_streamtraces</span> <span class="o">=</span> <span class="kc">True</span>

<span class="n">streamtrace</span> <span class="o">=</span> <span class="n">plot</span><span class="o">.</span><span class="n">streamtraces</span>
<span class="n">streamtrace</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">Color</span><span class="o">.</span><span class="n">Green</span>

<span class="n">streamtrace</span><span class="o">.</span><span class="n">show_paths</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">streamtrace</span><span class="o">.</span><span class="n">show_arrows</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">streamtrace</span><span class="o">.</span><span class="n">arrowhead_size</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">streamtrace</span><span class="o">.</span><span class="n">step_size</span> <span class="o">=</span> <span class="o">.</span><span class="mi">25</span>
<span class="n">streamtrace</span><span class="o">.</span><span class="n">line_thickness</span> <span class="o">=</span> <span class="o">.</span><span class="mi">4</span>
<span class="n">streamtrace</span><span class="o">.</span><span class="n">max_steps</span> <span class="o">=</span> <span class="mi">10</span>

<span class="c1"># Streamtraces termination line:</span>
<span class="n">streamtrace</span><span class="o">.</span><span class="n">set_termination_line</span><span class="p">([(</span><span class="o">-</span><span class="mf">25.521</span><span class="p">,</span> <span class="mf">39.866</span><span class="p">),</span>
                                  <span class="p">(</span><span class="o">-</span><span class="mf">4.618</span><span class="p">,</span> <span class="o">-</span><span class="mf">11.180</span><span class="p">)])</span>

<span class="c1"># Streamtraces will stop at the termination line when active</span>
<span class="n">streamtrace</span><span class="o">.</span><span class="n">termination_line</span><span class="o">.</span><span class="n">active</span> <span class="o">=</span> <span class="kc">True</span>

<span class="c1"># We can also show the termination line itself</span>
<span class="n">streamtrace</span><span class="o">.</span><span class="n">termination_line</span><span class="o">.</span><span class="n">show</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">streamtrace</span><span class="o">.</span><span class="n">termination_line</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">Color</span><span class="o">.</span><span class="n">Red</span>
<span class="n">streamtrace</span><span class="o">.</span><span class="n">termination_line</span><span class="o">.</span><span class="n">line_thickness</span> <span class="o">=</span> <span class="mf">0.4</span>
<span class="n">streamtrace</span><span class="o">.</span><span class="n">termination_line</span><span class="o">.</span><span class="n">line_pattern</span> <span class="o">=</span> <span class="n">LinePattern</span><span class="o">.</span><span class="n">LongDash</span>

<span class="c1"># Markers</span>
<span class="n">streamtrace</span><span class="o">.</span><span class="n">show_markers</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">streamtrace</span><span class="o">.</span><span class="n">marker_color</span> <span class="o">=</span> <span class="n">Color</span><span class="o">.</span><span class="n">Blue</span>
<span class="n">streamtrace</span><span class="o">.</span><span class="n">marker_symbol_type</span> <span class="o">=</span> <span class="n">SymbolType</span><span class="o">.</span><span class="n">Geometry</span>
<span class="n">streamtrace</span><span class="o">.</span><span class="n">marker_symbol</span><span class="p">()</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="n">GeomShape</span><span class="o">.</span><span class="n">Diamond</span>

<span class="c1"># Add surface line streamtraces</span>
<span class="n">streamtrace</span><span class="o">.</span><span class="n">add_rake</span><span class="p">(</span><span class="n">start_position</span><span class="o">=</span><span class="p">(</span><span class="mf">45.49</span><span class="p">,</span> <span class="mf">15.32</span><span class="p">,</span> <span class="mf">59.1</span><span class="p">),</span>
                     <span class="n">end_position</span><span class="o">=</span><span class="p">(</span><span class="mf">48.89</span><span class="p">,</span> <span class="mf">53.2</span><span class="p">,</span> <span class="mf">47.6</span><span class="p">),</span>
                     <span class="n">stream_type</span><span class="o">=</span><span class="n">Streamtrace</span><span class="o">.</span><span class="n">SurfaceLine</span><span class="p">)</span>


<span class="n">tecplot</span><span class="o">.</span><span class="n">export</span><span class="o">.</span><span class="n">save_png</span><span class="p">(</span><span class="s1">&#39;streamtrace_line_example.png&#39;</span><span class="p">,</span> <span class="mi">600</span><span class="p">,</span> <span class="n">supersample</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p>This example illustrates adding ribbon streamtrace.</p>
<div class="figure align-default" style="width: 300px">
<a class="reference internal image-reference" href="_images/streamtrace_ribbon_example.png"><img alt="_images/streamtrace_ribbon_example.png" src="_images/streamtrace_ribbon_example.png" style="width: 300px;" /></a>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">tecplot</span>
<span class="kn">from</span> <span class="nn">tecplot.constant</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># Run this script with &quot;-c&quot; to connect to Tecplot 360 on port 7600</span>
<span class="c1"># To enable connections in Tecplot 360, click on:</span>
<span class="c1">#   &quot;Scripting&quot; -&gt; &quot;PyTecplot Connections...&quot; -&gt; &quot;Accept connections&quot;</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="k">if</span> <span class="s1">&#39;-c&#39;</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">:</span>
    <span class="n">tecplot</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>

<span class="n">examples_dir</span> <span class="o">=</span> <span class="n">tecplot</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">tecplot_examples_directory</span><span class="p">()</span>
<span class="n">datafile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">examples_dir</span><span class="p">,</span> <span class="s1">&#39;SimpleData&#39;</span><span class="p">,</span> <span class="s1">&#39;DuctFlow.plt&#39;</span><span class="p">)</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">tecplot</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">load_tecplot</span><span class="p">(</span><span class="n">datafile</span><span class="p">)</span>

<span class="n">frame</span> <span class="o">=</span> <span class="n">tecplot</span><span class="o">.</span><span class="n">active_frame</span><span class="p">()</span>
<span class="n">frame</span><span class="o">.</span><span class="n">plot_type</span> <span class="o">=</span> <span class="n">tecplot</span><span class="o">.</span><span class="n">constant</span><span class="o">.</span><span class="n">PlotType</span><span class="o">.</span><span class="n">Cartesian3D</span>

<span class="n">plot</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">plot</span><span class="o">.</span><span class="n">contour</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">variable</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">variable</span><span class="p">(</span><span class="s1">&#39;P(N/m2)&#39;</span><span class="p">)</span>
<span class="n">plot</span><span class="o">.</span><span class="n">contour</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">levels</span><span class="o">.</span><span class="n">reset_to_nice</span><span class="p">()</span>
<span class="n">plot</span><span class="o">.</span><span class="n">contour</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">legend</span><span class="o">.</span><span class="n">show</span> <span class="o">=</span> <span class="kc">False</span>

<span class="n">plot</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">u_variable</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">variable</span><span class="p">(</span><span class="s1">&#39;U(M/S)&#39;</span><span class="p">)</span>
<span class="n">plot</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">v_variable</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">variable</span><span class="p">(</span><span class="s1">&#39;V(M/S)&#39;</span><span class="p">)</span>
<span class="n">plot</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">w_variable</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">variable</span><span class="p">(</span><span class="s1">&#39;W(M/S)&#39;</span><span class="p">)</span>

<span class="c1"># Goal: create a grid of 12 stream trace ribbons on a slice</span>
<span class="n">x_slice_location</span> <span class="o">=</span> <span class="o">.</span><span class="mi">79</span>
<span class="n">y_start</span> <span class="o">=</span> <span class="o">.</span><span class="mi">077</span>
<span class="n">y_end</span> <span class="o">=</span> <span class="o">.</span><span class="mi">914</span>
<span class="n">z_start</span> <span class="o">=</span> <span class="o">.</span><span class="mi">052</span>
<span class="n">z_end</span> <span class="o">=</span> <span class="o">.</span><span class="mi">415</span>

<span class="n">num_left_right_slices</span> <span class="o">=</span> <span class="mi">4</span>  <span class="c1"># Must be &gt;= 2</span>
<span class="n">num_top_bottom_slices</span> <span class="o">=</span> <span class="mi">3</span>  <span class="c1"># Must be &gt;= 2</span>


<span class="c1"># Show and add a slice.</span>
<span class="n">plot</span><span class="o">.</span><span class="n">show_slices</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">slice_0</span> <span class="o">=</span> <span class="n">plot</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># Set the x position of the slice.</span>
<span class="n">slice_0</span><span class="o">.</span><span class="n">origin</span> <span class="o">=</span> <span class="p">[</span><span class="n">x_slice_location</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>

<span class="n">slice_0</span><span class="o">.</span><span class="n">contour</span><span class="o">.</span><span class="n">show</span> <span class="o">=</span> <span class="kc">True</span>

<span class="n">plot</span><span class="o">.</span><span class="n">show_streamtraces</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">streamtraces</span> <span class="o">=</span> <span class="n">plot</span><span class="o">.</span><span class="n">streamtraces</span>
<span class="n">streamtraces</span><span class="o">.</span><span class="n">show_paths</span> <span class="o">=</span> <span class="kc">True</span>

<span class="n">rod</span> <span class="o">=</span> <span class="n">streamtraces</span><span class="o">.</span><span class="n">rod_ribbon</span>
<span class="n">rod</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="o">.</span><span class="mi">03</span>
<span class="n">rod</span><span class="o">.</span><span class="n">contour</span><span class="o">.</span><span class="n">show</span> <span class="o">=</span> <span class="kc">True</span>


<span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">y_start</span><span class="p">,</span> <span class="n">y_end</span><span class="p">,</span> <span class="n">num</span><span class="o">=</span><span class="n">num_left_right_slices</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">z</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">z_start</span><span class="p">,</span> <span class="n">z_end</span><span class="p">,</span> <span class="n">num</span><span class="o">=</span><span class="n">num_top_bottom_slices</span><span class="p">):</span>
        <span class="n">streamtraces</span><span class="o">.</span><span class="n">add</span><span class="p">([</span><span class="n">x_slice_location</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">],</span> <span class="n">Streamtrace</span><span class="o">.</span><span class="n">VolumeRibbon</span><span class="p">)</span>

<span class="n">tecplot</span><span class="o">.</span><span class="n">export</span><span class="o">.</span><span class="n">save_png</span><span class="p">(</span><span class="s1">&#39;streamtrace_ribbon_example.png&#39;</span><span class="p">,</span> <span class="mi">600</span><span class="p">,</span> <span class="n">supersample</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="line-legend">
<h2><a class="toc-backref" href="#id14">Line Legend</a><a class="headerlink" href="#line-legend" title="Permalink to this headline">¶</a></h2>
<p>This example illustrates displaying an XY line legend and changing its attributes.</p>
<div class="figure align-default" style="width: 300px">
<a class="reference internal image-reference" href="_images/legend_line.png"><img alt="_images/legend_line.png" src="_images/legend_line.png" style="width: 300px;" /></a>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>

<span class="kn">import</span> <span class="nn">tecplot</span>
<span class="kn">from</span> <span class="nn">tecplot.constant</span> <span class="kn">import</span> <span class="o">*</span>

<span class="c1"># Run this script with &quot;-c&quot; to connect to Tecplot 360 on port 7600</span>
<span class="c1"># To enable connections in Tecplot 360, click on:</span>
<span class="c1">#   &quot;Scripting&quot; -&gt; &quot;PyTecplot Connections...&quot; -&gt; &quot;Accept connections&quot;</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="k">if</span> <span class="s1">&#39;-c&#39;</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">:</span>
    <span class="n">tecplot</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>

<span class="n">examples_dir</span> <span class="o">=</span> <span class="n">tecplot</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">tecplot_examples_directory</span><span class="p">()</span>
<span class="n">datafile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">examples_dir</span><span class="p">,</span> <span class="s1">&#39;SimpleData&#39;</span><span class="p">,</span> <span class="s1">&#39;Rainfall.dat&#39;</span><span class="p">)</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">tecplot</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">load_tecplot</span><span class="p">(</span><span class="n">datafile</span><span class="p">)</span>

<span class="n">frame</span> <span class="o">=</span> <span class="n">tecplot</span><span class="o">.</span><span class="n">active_frame</span><span class="p">()</span>
<span class="n">plot</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">frame</span><span class="o">.</span><span class="n">plot_type</span> <span class="o">=</span> <span class="n">tecplot</span><span class="o">.</span><span class="n">constant</span><span class="o">.</span><span class="n">PlotType</span><span class="o">.</span><span class="n">XYLine</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="n">plot</span><span class="o">.</span><span class="n">linemap</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">show</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">plot</span><span class="o">.</span><span class="n">linemap</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">line</span><span class="o">.</span><span class="n">line_thickness</span> <span class="o">=</span> <span class="o">.</span><span class="mi">4</span>

<span class="n">y_axis</span> <span class="o">=</span> <span class="n">plot</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">y_axis</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">y_axis</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">title_mode</span> <span class="o">=</span> <span class="n">AxisTitleMode</span><span class="o">.</span><span class="n">UseText</span>
<span class="n">y_axis</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;Rainfall (in)&#39;</span>
<span class="n">y_axis</span><span class="o">.</span><span class="n">fit_range_to_nice</span><span class="p">()</span>

<span class="n">legend</span> <span class="o">=</span> <span class="n">plot</span><span class="o">.</span><span class="n">legend</span>
<span class="n">legend</span><span class="o">.</span><span class="n">show</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">legend</span><span class="o">.</span><span class="n">box</span><span class="o">.</span><span class="n">box_type</span> <span class="o">=</span> <span class="n">TextBox</span><span class="o">.</span><span class="n">Filled</span>
<span class="n">legend</span><span class="o">.</span><span class="n">box</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">Color</span><span class="o">.</span><span class="n">Purple</span>
<span class="n">legend</span><span class="o">.</span><span class="n">box</span><span class="o">.</span><span class="n">fill_color</span> <span class="o">=</span> <span class="n">Color</span><span class="o">.</span><span class="n">LightGrey</span>
<span class="n">legend</span><span class="o">.</span><span class="n">box</span><span class="o">.</span><span class="n">line_thickness</span> <span class="o">=</span> <span class="o">.</span><span class="mi">4</span>
<span class="n">legend</span><span class="o">.</span><span class="n">box</span><span class="o">.</span><span class="n">margin</span> <span class="o">=</span> <span class="mi">5</span>

<span class="n">legend</span><span class="o">.</span><span class="n">anchor_alignment</span> <span class="o">=</span> <span class="n">AnchorAlignment</span><span class="o">.</span><span class="n">MiddleRight</span>
<span class="n">legend</span><span class="o">.</span><span class="n">row_spacing</span> <span class="o">=</span> <span class="mf">1.5</span>
<span class="n">legend</span><span class="o">.</span><span class="n">show_text</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">legend</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">typeface</span> <span class="o">=</span> <span class="s1">&#39;Arial&#39;</span>
<span class="n">legend</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">italic</span> <span class="o">=</span> <span class="kc">True</span>

<span class="n">legend</span><span class="o">.</span><span class="n">text_color</span> <span class="o">=</span> <span class="n">Color</span><span class="o">.</span><span class="n">Black</span>
<span class="n">legend</span><span class="o">.</span><span class="n">position</span> <span class="o">=</span> <span class="p">(</span><span class="mi">90</span><span class="p">,</span> <span class="mi">88</span><span class="p">)</span>

<span class="n">tecplot</span><span class="o">.</span><span class="n">export</span><span class="o">.</span><span class="n">save_png</span><span class="p">(</span><span class="s1">&#39;legend_line.png&#39;</span><span class="p">,</span> <span class="mi">600</span><span class="p">,</span> <span class="n">supersample</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="contour-legend">
<h2><a class="toc-backref" href="#id15">Contour Legend</a><a class="headerlink" href="#contour-legend" title="Permalink to this headline">¶</a></h2>
<p>This example illustrates displaying a contour legend and changing its attributes.</p>
<div class="figure align-default" style="width: 300px">
<a class="reference internal image-reference" href="_images/legend_contour.png"><img alt="_images/legend_contour.png" src="_images/legend_contour.png" style="width: 300px;" /></a>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">import</span> <span class="nn">tecplot</span>
<span class="kn">from</span> <span class="nn">tecplot.constant</span> <span class="kn">import</span> <span class="o">*</span>

<span class="c1"># Run this script with &quot;-c&quot; to connect to Tecplot 360 on port 7600</span>
<span class="c1"># To enable connections in Tecplot 360, click on:</span>
<span class="c1">#   &quot;Scripting&quot; -&gt; &quot;PyTecplot Connections...&quot; -&gt; &quot;Accept connections&quot;</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="k">if</span> <span class="s1">&#39;-c&#39;</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">:</span>
    <span class="n">tecplot</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>

<span class="c1"># By loading a layout many style and view properties are set up already</span>
<span class="n">examples_dir</span> <span class="o">=</span> <span class="n">tecplot</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">tecplot_examples_directory</span><span class="p">()</span>
<span class="n">datafile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">examples_dir</span><span class="p">,</span> <span class="s1">&#39;SimpleData&#39;</span><span class="p">,</span> <span class="s1">&#39;RainierElevation.lay&#39;</span><span class="p">)</span>
<span class="n">tecplot</span><span class="o">.</span><span class="n">load_layout</span><span class="p">(</span><span class="n">datafile</span><span class="p">)</span>

<span class="n">frame</span> <span class="o">=</span> <span class="n">tecplot</span><span class="o">.</span><span class="n">active_frame</span><span class="p">()</span>
<span class="n">plot</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>

<span class="c1"># Rename the elevation variable</span>
<span class="n">frame</span><span class="o">.</span><span class="n">dataset</span><span class="o">.</span><span class="n">variable</span><span class="p">(</span><span class="s1">&#39;E&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Elevation (m)&quot;</span>

<span class="c1"># Set the levels to nice values</span>
<span class="n">plot</span><span class="o">.</span><span class="n">contour</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">levels</span><span class="o">.</span><span class="n">reset_levels</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="mi">4400</span><span class="p">,</span><span class="mi">22</span><span class="p">))</span>

<span class="n">legend</span> <span class="o">=</span> <span class="n">plot</span><span class="o">.</span><span class="n">contour</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">legend</span>
<span class="n">legend</span><span class="o">.</span><span class="n">show</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">legend</span><span class="o">.</span><span class="n">vertical</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># Horizontal</span>
<span class="n">legend</span><span class="o">.</span><span class="n">auto_resize</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">legend</span><span class="o">.</span><span class="n">label_step</span> <span class="o">=</span> <span class="mi">5</span>

<span class="n">legend</span><span class="o">.</span><span class="n">overlay_bar_grid</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">legend</span><span class="o">.</span><span class="n">position</span> <span class="o">=</span> <span class="p">(</span><span class="mi">55</span><span class="p">,</span> <span class="mi">94</span><span class="p">)</span>  <span class="c1"># Frame percentages</span>

<span class="n">legend</span><span class="o">.</span><span class="n">box</span><span class="o">.</span><span class="n">box_type</span> <span class="o">=</span> <span class="n">TextBox</span><span class="o">.</span><span class="n">None_</span> <span class="c1"># Remove Text box</span>

<span class="n">legend</span><span class="o">.</span><span class="n">header_font</span><span class="o">.</span><span class="n">typeface</span> <span class="o">=</span> <span class="s1">&#39;Courier&#39;</span>
<span class="n">legend</span><span class="o">.</span><span class="n">header_font</span><span class="o">.</span><span class="n">bold</span> <span class="o">=</span> <span class="kc">True</span>

<span class="n">legend</span><span class="o">.</span><span class="n">number_font</span><span class="o">.</span><span class="n">typeface</span> <span class="o">=</span> <span class="s1">&#39;Courier&#39;</span>
<span class="n">legend</span><span class="o">.</span><span class="n">number_font</span><span class="o">.</span><span class="n">bold</span> <span class="o">=</span> <span class="kc">True</span>

<span class="n">tecplot</span><span class="o">.</span><span class="n">export</span><span class="o">.</span><span class="n">save_png</span><span class="p">(</span><span class="s1">&#39;legend_contour.png&#39;</span><span class="p">,</span> <span class="mi">600</span><span class="p">,</span> <span class="n">supersample</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="d-view">
<h2><a class="toc-backref" href="#id16">3D View</a><a class="headerlink" href="#d-view" title="Permalink to this headline">¶</a></h2>
<p>This example illustrates changing the attributes of the 3D view.</p>
<div class="figure align-default" style="width: 300px">
<a class="reference internal image-reference" href="_images/3D_view.png"><img alt="_images/3D_view.png" src="_images/3D_view.png" style="width: 300px;" /></a>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">tecplot</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">tecplot.constant</span> <span class="kn">import</span> <span class="o">*</span>

<span class="c1"># Run this script with &quot;-c&quot; to connect to Tecplot 360 on port 7600</span>
<span class="c1"># To enable connections in Tecplot 360, click on:</span>
<span class="c1">#   &quot;Scripting&quot; -&gt; &quot;PyTecplot Connections...&quot; -&gt; &quot;Accept connections&quot;</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="k">if</span> <span class="s1">&#39;-c&#39;</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">:</span>
    <span class="n">tecplot</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>

<span class="n">examples_dir</span> <span class="o">=</span> <span class="n">tecplot</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">tecplot_examples_directory</span><span class="p">()</span>
<span class="n">infile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">examples_dir</span><span class="p">,</span> <span class="s1">&#39;SimpleData&#39;</span><span class="p">,</span> <span class="s1">&#39;F18.plt&#39;</span><span class="p">)</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">tecplot</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">load_tecplot</span><span class="p">(</span><span class="n">infile</span><span class="p">)</span>
<span class="n">plot</span> <span class="o">=</span> <span class="n">tecplot</span><span class="o">.</span><span class="n">active_frame</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">PlotType</span><span class="o">.</span><span class="n">Cartesian3D</span><span class="p">)</span>
<span class="n">plot</span><span class="o">.</span><span class="n">activate</span><span class="p">()</span>
<span class="n">plot</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="mf">17.5</span>
<span class="n">plot</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">alpha</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">plot</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">theta</span> <span class="o">=</span> <span class="mi">125</span>
<span class="n">plot</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">psi</span> <span class="o">=</span> <span class="mi">65</span>
<span class="n">plot</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">position</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">65</span><span class="p">)</span>

<span class="n">tecplot</span><span class="o">.</span><span class="n">export</span><span class="o">.</span><span class="n">save_png</span><span class="p">(</span><span class="s1">&#39;3D_view.png&#39;</span><span class="p">,</span> <span class="mi">600</span><span class="p">,</span> <span class="n">supersample</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="embedding-latex">
<h2><a class="toc-backref" href="#id17">Embedding LaTeX</a><a class="headerlink" href="#embedding-latex" title="Permalink to this headline">¶</a></h2>
<p>This example shows how to create a text annotation in LaTeX mode.</p>
<div class="figure align-default" style="width: 300px">
<a class="reference internal image-reference" href="_images/latex_annotation.png"><img alt="_images/latex_annotation.png" src="_images/latex_annotation.png" style="width: 300px;" /></a>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">tecplot</span> <span class="k">as</span> <span class="nn">tp</span>
<span class="kn">from</span> <span class="nn">tecplot.constant</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">frame</span> <span class="o">=</span> <span class="n">tp</span><span class="o">.</span><span class="n">active_frame</span><span class="p">()</span>
<span class="n">frame</span><span class="o">.</span><span class="n">add_latex</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;$</span>
<span class="s1">    \rho\frac{D\vec</span><span class="si">{u}</span><span class="s1">}</span><span class="si">{Dt}</span><span class="s1"> =</span>
<span class="s1">        -\vec{\nabla}p + \vec{\nabla}\cdot\vec{\tau} + \rho\vec</span><span class="si">{g}</span><span class="s1"></span>
<span class="s1">    $&#39;&#39;&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="mi">50</span><span class="p">),</span> <span class="n">size</span><span class="o">=</span><span class="mi">32</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="n">TextAnchor</span><span class="o">.</span><span class="n">Center</span><span class="p">)</span>

<span class="n">tp</span><span class="o">.</span><span class="n">export</span><span class="o">.</span><span class="n">save_png</span><span class="p">(</span><span class="s1">&#39;latex_annotation.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="multiprocessing">
<h2><a class="toc-backref" href="#id18">Multiprocessing</a><a class="headerlink" href="#multiprocessing" title="Permalink to this headline">¶</a></h2>
<p>This example shows how to use PyTecplot with Python’s Multiprocessing module.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">atexit</span><span class="o">,</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">multiprocessing</span><span class="o">,</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">tecplot</span> <span class="k">as</span> <span class="nn">tp</span>


<span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="n">datafile</span><span class="p">,</span> <span class="n">stylesheet</span><span class="p">):</span>
    <span class="c1"># !!! IMPORTANT !!!</span>
    <span class="c1"># Must register stop at exit to ensure Tecplot cleans</span>
    <span class="c1"># up all temporary files and does not create a core dump</span>
    <span class="n">atexit</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">tp</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">stop</span><span class="p">)</span>

    <span class="c1"># Load data and apply a style sheet - done only once for all workers</span>
    <span class="n">tp</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">load_tecplot</span><span class="p">(</span><span class="n">datafile</span><span class="p">)</span>
    <span class="n">tp</span><span class="o">.</span><span class="n">active_frame</span><span class="p">()</span><span class="o">.</span><span class="n">load_stylesheet</span><span class="p">(</span><span class="n">stylesheet</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">work</span><span class="p">(</span><span class="n">solution_time</span><span class="p">):</span>
    <span class="c1"># set solution time and save off image</span>
    <span class="n">tp</span><span class="o">.</span><span class="n">active_frame</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span><span class="o">.</span><span class="n">solution_time</span> <span class="o">=</span> <span class="n">solution_time</span>
    <span class="n">tp</span><span class="o">.</span><span class="n">export</span><span class="o">.</span><span class="n">save_png</span><span class="p">(</span><span class="s1">&#39;img</span><span class="si">{0:.8f}</span><span class="s1">.png&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">solution_time</span><span class="p">))</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span> <span class="o">&lt;</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;This example requires Python version 3.5+&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">tp</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">connected</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;This example must be run in batch mode&#39;</span><span class="p">)</span>

    <span class="c1"># !!! IMPORTANT !!!</span>
    <span class="c1"># On Linux systems, Python&#39;s multiprocessing start method</span>
    <span class="c1"># defaults to &quot;fork&quot; which is incompatible with PyTecplot</span>
    <span class="c1"># and must be set to &quot;spawn&quot;</span>
    <span class="n">multiprocessing</span><span class="o">.</span><span class="n">set_start_method</span><span class="p">(</span><span class="s1">&#39;spawn&#39;</span><span class="p">)</span>

    <span class="c1"># Get the datafile, stylesheet and job parameters (solution times)</span>
    <span class="n">examples_dir</span> <span class="o">=</span> <span class="n">tp</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">tecplot_examples_directory</span><span class="p">()</span>
    <span class="n">datafile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">examples_dir</span><span class="p">,</span> <span class="s1">&#39;SimpleData&#39;</span><span class="p">,</span> <span class="s1">&#39;VortexShedding.plt&#39;</span><span class="p">)</span>
    <span class="n">stylesheet</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">examples_dir</span><span class="p">,</span> <span class="s1">&#39;SimpleData&#39;</span><span class="p">,</span> <span class="s1">&#39;VortexShedding.sty&#39;</span><span class="p">)</span>

    <span class="c1"># for this example, we are only processing the first MAXJOBS solution times</span>
    <span class="n">MAXJOBS</span> <span class="o">=</span> <span class="mi">4</span>
    <span class="n">solution_times</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">tp</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">load_tecplot</span><span class="p">(</span><span class="n">datafile</span><span class="p">)</span><span class="o">.</span><span class="n">solution_times</span><span class="p">)[:</span><span class="n">MAXJOBS</span><span class="p">]</span>

    <span class="c1"># Set up the pool with initializing function and associated arguments</span>
    <span class="n">num_workers</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">multiprocessing</span><span class="o">.</span><span class="n">cpu_count</span><span class="p">(),</span> <span class="nb">len</span><span class="p">(</span><span class="n">solution_times</span><span class="p">))</span>
    <span class="n">pool</span> <span class="o">=</span> <span class="n">multiprocessing</span><span class="o">.</span><span class="n">Pool</span><span class="p">(</span><span class="n">num_workers</span><span class="p">,</span> <span class="n">initializer</span><span class="o">=</span><span class="n">init</span><span class="p">,</span> <span class="n">initargs</span><span class="o">=</span><span class="p">(</span><span class="n">datafile</span><span class="p">,</span> <span class="n">stylesheet</span><span class="p">))</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Map the work function to each of the job arguments</span>
        <span class="n">pool</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">work</span><span class="p">,</span> <span class="n">solution_times</span><span class="p">)</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="c1"># !!! IMPORTANT !!!</span>
        <span class="c1"># Must join the process pool before parent script exits</span>
        <span class="c1"># to ensure Tecplot cleans up all temporary files</span>
        <span class="c1"># and does not create a core dump</span>
        <span class="n">pool</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="n">pool</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/powered_by_tecplot.png" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
<h3><a href="index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick Start</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#hello-world">Hello World</a></li>
<li class="toctree-l2"><a class="reference internal" href="#loading-layouts">Loading Layouts</a></li>
<li class="toctree-l2"><a class="reference internal" href="#extracting-slices">Extracting Slices</a></li>
<li class="toctree-l2"><a class="reference internal" href="#numpy-integration">Numpy Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#execute-equation">Execute Equation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#line-plots">Line Plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="#creating-slices">Creating Slices</a></li>
<li class="toctree-l2"><a class="reference internal" href="#creating-iso-surfaces">Creating Iso-surfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="#wing-surface-slices">Wing Surface Slices</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mach-iso-surfaces">Mach Iso-surfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="#exception-handling">Exception Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="#streamtraces">Streamtraces</a></li>
<li class="toctree-l2"><a class="reference internal" href="#line-legend">Line Legend</a></li>
<li class="toctree-l2"><a class="reference internal" href="#contour-legend">Contour Legend</a></li>
<li class="toctree-l2"><a class="reference internal" href="#d-view">3D View</a></li>
<li class="toctree-l2"><a class="reference internal" href="#embedding-latex">Embedding LaTeX</a></li>
<li class="toctree-l2"><a class="reference internal" href="#multiprocessing">Multiprocessing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">Reference</a></li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/examples.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="reference.html" title="Reference"
             >next</a> |</li>
        <li class="right" >
          <a href="quickstart.html" title="Quick Start"
             >previous</a> |</li>
    <li><img src="_static/favicon.gif" alt=""
             style="vertical-align: middle; margin-top: -1px"/></li>
    <li><a href="https://www.tecplot.com/docs/pytecplot/">PyTecplot</a> &#187;</li>
    
    <a href="index.html">PyTecplot-1.3</a> &#187;
    

        <li class="nav-item nav-item-this"><a href="">Examples</a></li>
    <li class="right">
        

    <div class="inline-search" style="display: none" role="search">
        <form class="inline-search" action="search.html" method="get">
          <input placeholder="Quick search" type="text" name="q" />
          <input type="submit" value="Go" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
    <script type="text/javascript">$('.inline-search').show(0);</script>
         |
    </li>

      </ul>
    </div>  
    <div class="footer">
    &copy; Copyright 2021, Tecplot, Inc.
    Last updated on Jan 08, 2021.
    
    <br />

    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.4.3.
    </div>

  </body>
</html>